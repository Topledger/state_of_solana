"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5955],{1592:(t,e,n)=>{e.__esModule=!0,e.default=function(t){return(0,i.useMemo)(function(){if(!t)return[];var e=t.getCTM()||new DOMMatrix;return function(t,e,n){if(void 0===n&&(n=1),!t)return[];for(var i=[],r=t.getTotalLength(),o=0;o<=r;o+=n){var a=t.getPointAtLength(o).matrixTransform(e);i.push(a)}return i}(t,e)},[null==t?void 0:t.getTotalLength()])};var i=n(12115)},5951:(t,e)=>{e.__esModule=!0,e.default=function(t,e){for(var i,r=t,o=1/0,a=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return n(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}}(t))){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(i=a()).done;){var s=i.value,u=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));u<o&&(o=u,r={x:s.x,y:s.y})}return r};function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}},11971:(t,e,n)=>{e.__esModule=!0,e.default=function(t){var e=(0,i.useState)(t),n=e[0],r=e[1],o=(0,i.useRef)(null),a=(0,i.useCallback)(function(t,e){o.current=e||null,r(t)},[r]);return(0,i.useLayoutEffect)(function(){o.current&&(o.current(n),o.current=null)},[n]),[n,a]};var i=n(12115)},20474:(t,e,n)=>{function i(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r(t){this._context=t}function o(t){return new r(t)}n.d(e,{Ay:()=>o}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}}},25156:(t,e,n)=>{n.d(e,{A:()=>T});var i=n(38637),r=n.n(i),o=n(12115),a=n(41995),s=n(35669);function u(t,e){if("invert"in t&&void 0!==t.invert)return t.invert(e).valueOf();var n=t.range(),i=n[0],r=n[1],o=0,a=("step"in t&&void 0!==t.step?t.step():1)*(r-i)/Math.abs(r-i);if(a>0)for(;e>i+a*(o+1);)o+=1;else for(;e<i+a*(o+1);)o+=1;return o}function h(t,e,n,i){var r,o=u(t,e+(e<n?-i:i)),a=u(t,n+(n<e?-i:i)),s=Math.min(o,a),h=Math.max(o,a);if("invert"in t&&void 0!==t.invert)r={start:s,end:h};else{for(var l=[],d=t.domain(),c=s;c<=h;c+=1)l.push(d[c]);r={values:l}}return r}function l(t){return"undefined"!=typeof window&&window.TouchEvent&&t instanceof TouchEvent?{pageX:t.touches[0].pageX,pageY:t.touches[0].pageY}:{pageX:t.pageX,pageY:t.pageY}}function d(){return(d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).handleDragStart=function(t){var n=e.props,i=n.onBrushHandleChange,r=n.type,o=n.onBrushStart;i&&i(r,l(t.event)),o&&o(t)},e.handleDragMove=function(t){var n=e.props,i=n.updateBrush,r=n.type,o=n.isControlled;t.isDragging&&!o&&i(function(e){var n=e.start,i=e.end,o=0,a=Math.max(n.x,i.x),s=Math.min(n.x,i.x),u=Math.max(n.y,i.y),h=Math.min(n.y,i.y);switch(r){case"right":return o=a+t.dx,d({},e,{activeHandle:r,extent:d({},e.extent,{x0:Math.max(Math.min(o,n.x),e.bounds.x0),x1:Math.min(Math.max(o,n.x),e.bounds.x1)})});case"left":return o=s+t.dx,d({},e,{activeHandle:r,extent:d({},e.extent,{x0:Math.min(o,i.x),x1:Math.max(o,i.x)})});case"bottom":return o=u+t.dy,d({},e,{activeHandle:r,extent:d({},e.extent,{y0:Math.min(o,n.y),y1:Math.max(o,n.y)})});case"top":return o=h+t.dy,d({},e,{activeHandle:r,extent:d({},e.extent,{y0:Math.min(o,i.y),y1:Math.max(o,i.y)})});default:return e}})},e.handleDragEnd=function(){var t=e.props,n=t.updateBrush,i=t.onBrushEnd,r=t.onBrushHandleChange;t.isControlled||n(function(t){var e=t.start,n=t.end,r=t.extent;e.x=Math.min(r.x0,r.x1),e.y=Math.min(r.y0,r.y0),n.x=Math.max(r.x0,r.x1),n.y=Math.max(r.y0,r.y1);var o=d({},t,{start:e,end:n,activeHandle:null,isBrushing:!1,extent:{x0:Math.min(e.x,n.x),x1:Math.max(e.x,n.x),y0:Math.min(e.y,n.y),y1:Math.max(e.y,n.y)}});return i&&i(o),o}),r&&r()},e}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.stageWidth,i=e.stageHeight,r=e.brush,a=e.type,u=e.handle,h=e.isControlled,l=e.isDragInProgress,c=e.renderBrushHandle,x=u.x,g=u.y,y=u.width,p=u.height,f="right"===a||"left"===a?"ew-resize":"ns-resize";return o.createElement(s.A,{width:n,height:i,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,resetOnStart:!0,isDragging:h?l:void 0},function(e){var s=e.dragStart,u=e.dragEnd,l=e.dragMove,v=e.isDragging;return o.createElement("g",null,v&&o.createElement("rect",{fill:"transparent",width:n,height:i,style:{cursor:f},onPointerMove:l,onPointerUp:h?void 0:u,onPointerLeave:h?void 0:u}),!c&&o.createElement("rect",{x:x,y:g,width:y,height:p,fill:"transparent",className:"visx-brush-handle-"+a,onPointerDown:s,onPointerMove:l,onPointerUp:h?void 0:u,style:{cursor:f,pointerEvents:r.activeHandle||r.isBrushing?"none":"all"}}),c&&o.createElement("g",{onPointerDown:s,onPointerMove:l,onPointerUp:h?void 0:u},c(d({},t.props.handle,{height:i,className:"visx-brush-handle-"+a,isBrushActive:-1!==r.extent.x0&&-1!==r.extent.x1}))))})},e}(o.Component);function g(){return(g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function y(t,e){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}x.propTypes={stageWidth:r().number.isRequired,stageHeight:r().number.isRequired,updateBrush:r().func.isRequired,onBrushStart:r().func,onBrushEnd:r().func,handle:r().shape({x:r().number.isRequired,y:r().number.isRequired,width:r().number.isRequired,height:r().number.isRequired}).isRequired,isControlled:r().bool,isDragInProgress:r().bool,onBrushHandleChange:r().func,renderBrushHandle:r().func};var p=function(t){function e(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).cornerDragMove=function(t){var n=e.props,i=n.updateBrush,r=n.type;t.isDragging&&i(function(e){var n=e.start,i=e.end,o=Math.max(n.x,i.x),a=Math.min(n.x,i.x),s=Math.max(n.y,i.y),u=Math.min(n.y,i.y),h=0,l=0;switch(r){case"topRight":return h=o+t.dx,l=u+t.dy,g({},e,{activeHandle:r,extent:g({},e.extent,{x0:Math.max(Math.min(h,n.x),e.bounds.x0),x1:Math.min(Math.max(h,n.x),e.bounds.x1),y0:Math.max(Math.min(l,i.y),e.bounds.y0),y1:Math.min(Math.max(l,i.y),e.bounds.y1)})});case"topLeft":return h=a+t.dx,l=u+t.dy,g({},e,{activeHandle:r,extent:g({},e.extent,{x0:Math.max(Math.min(h,i.x),e.bounds.x0),x1:Math.min(Math.max(h,i.x),e.bounds.x1),y0:Math.max(Math.min(l,i.y),e.bounds.y0),y1:Math.min(Math.max(l,i.y),e.bounds.y1)})});case"bottomLeft":return h=a+t.dx,l=s+t.dy,g({},e,{activeHandle:r,extent:g({},e.extent,{x0:Math.max(Math.min(h,i.x),e.bounds.x0),x1:Math.min(Math.max(h,i.x),e.bounds.x1),y0:Math.max(Math.min(l,n.y),e.bounds.y0),y1:Math.min(Math.max(l,n.y),e.bounds.y1)})});case"bottomRight":return h=o+t.dx,l=s+t.dy,g({},e,{activeHandle:r,extent:g({},e.extent,{x0:Math.max(Math.min(h,n.x),e.bounds.x0),x1:Math.min(Math.max(h,n.x),e.bounds.x1),y0:Math.max(Math.min(l,n.y),e.bounds.y0),y1:Math.min(Math.max(l,n.y),e.bounds.y1)})});default:return e}})},e.cornerDragEnd=function(){var t=e.props,n=t.updateBrush,i=t.onBrushEnd;n(function(t){var e=t.start,n=t.end,r=t.extent;e.x=Math.min(r.x0,r.x1),e.y=Math.min(r.y0,r.y0),n.x=Math.max(r.x0,r.x1),n.y=Math.max(r.y0,r.y1);var o=g({},t,{start:e,end:n,activeHandle:null,domain:{x0:Math.min(e.x,n.x),x1:Math.max(e.x,n.x),y0:Math.min(e.y,n.y),y1:Math.max(e.y,n.y)}});return i&&i(o),o})},e}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t),e.prototype.render=function(){var t=this.props,e=t.type,n=t.brush,i=t.stageWidth,r=t.stageHeight,a=t.style,u=t.corner,h=(null==a?void 0:a.cursor)||("topLeft"===e||"bottomRight"===e?"nwse-resize":"nesw-resize"),l=n.activeHandle||n.isBrushing?"none":"all";return o.createElement(s.A,{width:i,height:r,onDragMove:this.cornerDragMove,onDragEnd:this.cornerDragEnd,resetOnStart:!0},function(t){var n=t.dragMove,s=t.dragEnd,d=t.dragStart,c=t.isDragging;return o.createElement("g",null,c&&o.createElement("rect",{fill:"transparent",width:i,height:r,style:{cursor:h},onPointerMove:n,onPointerUp:s}),o.createElement("rect",g({fill:"transparent",onPointerDown:d,onPointerMove:n,onPointerUp:s,className:"visx-brush-corner-"+e,style:g({cursor:h,pointerEvents:l},a)},u)))})},e}(o.Component);function f(){return(f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function v(t,e){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}p.propTypes={stageWidth:r().number.isRequired,stageHeight:r().number.isRequired,updateBrush:r().func.isRequired,onBrushEnd:r().func,corner:r().shape({x:r().number.isRequired,y:r().number.isRequired,width:r().number.isRequired,height:r().number.isRequired}).isRequired},p.defaultProps={style:{}};var _={cursor:"move"},m=function(t){function e(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).selectionDragStart=function(t){var n=e.props,i=n.onMoveSelectionChange,r=n.onBrushStart;i&&i("move",l(t.event)),r&&r(t)},e.selectionDragMove=function(t){var n=e.props,i=n.updateBrush;n.isControlled||i(function(e){var n=e.start,i=n.x,r=n.y,o=e.end,a=o.x,s=o.y,u=t.dx>0?Math.min(t.dx,e.bounds.x1-a):Math.max(t.dx,e.bounds.x0-i),h=t.dy>0?Math.min(t.dy,e.bounds.y1-s):Math.max(t.dy,e.bounds.y0-r);return f({},e,{isBrushing:!0,extent:f({},e.extent,{x0:i+u,x1:a+u,y0:r+h,y1:s+h})})})},e.selectionDragEnd=function(){var t=e.props,n=t.updateBrush,i=t.onBrushEnd,r=t.onMoveSelectionChange;t.isControlled||n(function(t){var e=f({},t,{isBrushing:!1,start:f({},t.start,{x:Math.min(t.extent.x0,t.extent.x1),y:Math.min(t.extent.y0,t.extent.y1)}),end:f({},t.end,{x:Math.max(t.extent.x0,t.extent.x1),y:Math.max(t.extent.y0,t.extent.y1)})});return i&&i(e),e}),r&&r()},e}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t),e.prototype.render=function(){var t=this.props,e=t.width,n=t.height,i=t.stageWidth,r=t.stageHeight,a=t.brush,u=t.disableDraggingSelection,h=t.onMouseLeave,l=t.onMouseMove,d=t.onMouseUp,c=t.onClick,x=t.selectedBoxStyle,g=t.isControlled,y=t.isDragInProgress;return o.createElement(s.A,{width:e,height:n,resetOnStart:!0,onDragStart:this.selectionDragStart,onDragMove:this.selectionDragMove,onDragEnd:this.selectionDragEnd,isDragging:g?y:void 0},function(t){var s=t.isDragging,y=t.dragStart,p=t.dragEnd,v=t.dragMove;return o.createElement("g",null,s&&o.createElement("rect",{width:i,height:r,fill:"transparent",onPointerUp:g?void 0:p,onPointerMove:v,onPointerLeave:g?void 0:p,style:_}),o.createElement("rect",f({x:Math.min(a.extent.x0,a.extent.x1),y:Math.min(a.extent.y0,a.extent.y1),width:e,height:n,className:"visx-brush-selection",onPointerDown:u?void 0:y,onPointerLeave:function(t){h&&h(t)},onPointerMove:function(t){v(t),l&&l(t)},onPointerUp:function(t){g||p(t),d&&d(t)},onClick:function(t){c&&c(t)},style:{pointerEvents:a.isBrushing||a.activeHandle?"none":"all",cursor:u?void 0:"move"}},x)))})},e}(o.Component);m.propTypes={width:r().number.isRequired,height:r().number.isRequired,stageWidth:r().number.isRequired,stageHeight:r().number.isRequired,updateBrush:r().func.isRequired,onMoveSelectionChange:r().func,onBrushStart:r().func,onBrushEnd:r().func,disableDraggingSelection:r().bool.isRequired,onMouseLeave:r().func,onMouseMove:r().func,onMouseUp:r().func,onClick:r().func,isControlled:r().bool,isDragInProgress:r().bool},m.defaultProps={onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null};var b=n(71734);function M(){return(M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function w(t){return o.createElement(b.A,M({className:"visx-brush-overlay",fill:"transparent",x:0,y:0},t))}function D(){return(D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function E(t,e){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}w.propTypes={width:r().number.isRequired,height:r().number.isRequired,onClick:r().func,onDoubleClick:r().func,onPointerDown:r().func,onPointerLeave:r().func,onPointerMove:r().func,onPointerUp:r().func};var B=function(t){function e(e){(r=t.call(this,e)||this).mouseUpTime=0,r.mouseDownTime=0,r.getIdleState=function(){var t=r.props;return{start:{x:0,y:0},end:{x:0,y:0},extent:{x0:-1,x1:-1,y0:-1,y1:-1},bounds:{x0:0,x1:t.width,y0:0,y1:t.height},isBrushing:!1,brushPageOffset:void 0,activeHandle:null,brushingType:void 0}},r.handleWindowPointerUp=function(){var t=r.props,e=t.useWindowMoveEvents,n=t.onBrushEnd,i=t.resetOnEnd,o=r.state.brushingType;e&&o&&r.updateBrush(function(t){var e=t.start,o=t.end,a=t.extent;e.x=Math.min(a.x0,a.x1),e.y=Math.min(a.y0,a.y0),o.x=Math.max(a.x0,a.x1),o.y=Math.max(a.y0,a.y1);var s=D({},t,{activeHandle:null,isBrushing:!1,brushingType:void 0});return n&&n(s),i&&(s=D({},s,r.getIdleState())),s})},r.handleWindowPointerMove=function(t){var e=r.props.useWindowMoveEvents,n=r.state,i=n.brushingType,o=n.isBrushing,a=n.brushPageOffset,s=n.start;if(e&&o){var u=t.pageX-((null==a?void 0:a.pageX)||0),h=t.pageY-((null==a?void 0:a.pageY)||0);["left","right","top","bottom"].includes(null!=i?i:"")&&r.updateBrush(function(t){var e=t.start,n=e.x,o=e.y,a=t.end,s=a.x,l=a.y;return D({},t,{isBrushing:!0,extent:D({},t.extent,r.getExtent({x:"left"===i?Math.min(Math.max(n+u,t.bounds.x0),t.bounds.x1):n,y:"top"===i?Math.min(Math.max(o+h,t.bounds.y0),t.bounds.y1):o},{x:"right"===i?Math.min(Math.max(s+u,t.bounds.x0),t.bounds.x1):s,y:"bottom"===i?Math.min(Math.max(l+h,t.bounds.y0),t.bounds.y1):l}))})}),"move"===i&&r.updateBrush(function(t){var e=t.start,n=e.x,i=e.y,r=t.end,o=r.x,a=r.y,s=u>0?Math.min(u,t.bounds.x1-o):Math.max(u,t.bounds.x0-n),l=h>0?Math.min(h,t.bounds.y1-a):Math.max(h,t.bounds.y0-i);return D({},t,{isBrushing:!0,extent:D({},t.extent,{x0:n+s,y0:i+l,x1:o+s,y1:a+l})})}),"select"===i&&r.updateBrush(function(t){var e=t.start,n=e.x,i=e.y,o={x:Math.min(Math.max(n+u,t.bounds.x0),t.bounds.x1),y:Math.min(Math.max(i+h,t.bounds.y0),t.bounds.y1)},a=r.getExtent(s,o);return D({},t,{end:o,extent:a})})}},n=r.handleWindowPointerMove,r.debouncedHandleWindowPointerMove=function(){for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){n.apply(t,r)},1)},r.getExtent=function(t,e){var n=r.props,i=n.brushDirection,o=n.width,a=n.height;return{x0:"vertical"===i?0:Math.min(t.x||0,e.x||0),x1:"vertical"===i?o:Math.max(t.x||0,e.x||0),y0:"horizontal"===i?0:Math.min(t.y||0,e.y||0),y1:"horizontal"===i?a:Math.max(t.y||0,e.y||0)}},r.handleDragStart=function(t){var e=r.props,n=e.onBrushStart,i=e.left,o=e.top,a=e.inheritedMargin,s=e.useWindowMoveEvents,u=null!=a&&a.left?a.left:0,h=null!=a&&a.top?a.top:0,d={x:(t.x||0)+t.dx-i-u,y:(t.y||0)+t.dy-o-h},c=D({},d);n&&n(d),r.updateBrush(function(e){return D({},e,{start:d,end:c,extent:{x0:-1,x1:-1,y0:-1,y1:-1},isBrushing:!0,brushingType:"select",brushPageOffset:s?l(t.event):void 0})})},r.handleBrushStart=function(t){var e=r.props,n=e.onBrushStart,i=e.left,o=e.top,a=e.inheritedMargin;if(n){var s=null!=a&&a.left?a.left:0,u=null!=a&&a.top?a.top:0;n({x:(t.x||0)+t.dx-i-s,y:(t.y||0)+t.dy-o-u})}},r.handleDragMove=function(t){var e=r.props,n=e.left,i=e.top,o=e.inheritedMargin,a=e.useWindowMoveEvents;if(t.isDragging&&!a){var s=(null==o?void 0:o.left)||0,u=(null==o?void 0:o.top)||0,h={x:(t.x||0)+t.dx-n-s,y:(t.y||0)+t.dy-i-u};r.updateBrush(function(t){var e=t.start,n=r.getExtent(e,h);return D({},t,{end:h,extent:n})})}},r.handleDragEnd=function(){var t=r.props,e=t.onBrushEnd,n=t.resetOnEnd;t.useWindowMoveEvents||r.updateBrush(function(t){var i=t.extent,o=D({},t,{start:{x:i.x0,y:i.y0},end:{x:i.x1,y:i.y1},isBrushing:!1,brushingType:void 0,activeHandle:null});return e&&e(o),n&&(o=D({},o,r.getIdleState())),o})},r.getBrushWidth=function(){var t=r.state.extent,e=t.x0,n=t.x1;return Math.max(Math.max(e,n)-Math.min(e,n),0)},r.getBrushHeight=function(){var t=r.state.extent,e=t.y1,n=t.y0;return Math.max(Math.max(n,e)-Math.min(n,e),0)},r.handles=function(){var t=r.props.handleSize,e=r.state.extent,n=e.x0,i=e.x1,o=e.y0,a=e.y1,s=t/2,u=r.getBrushWidth(),h=r.getBrushHeight();return{top:{x:n-s,y:o-s,height:t,width:u+t},bottom:{x:n-s,y:a-s,height:t,width:u+t},right:{x:i-s,y:o-s,height:h+t,width:t},left:{x:n-s,y:o-s,height:h+t,width:t}}},r.corners=function(){var t=r.props.handleSize,e=r.state.extent,n=e.x0,i=e.x1,o=e.y0,a=e.y1,s=t/2;return{topLeft:{x:Math.min(n,i)-s,y:Math.min(o,a)-s,width:t,height:t},topRight:{x:Math.max(n,i)-s,y:Math.min(o,a)-s,width:t,height:t},bottomLeft:{x:Math.min(n,i)-s,y:Math.max(o,a)-s,width:t,height:t},bottomRight:{x:Math.max(n,i)-s,y:Math.max(o,a)-s,width:t,height:t}}},r.updateBrush=function(t){var e=r.props.onChange;r.setState(t,function(){e&&e(r.state)})},r.reset=function(){return r.updateBrush(function(){return r.getIdleState()})},r.handleBrushingTypeChange=function(t,e){r.updateBrush(function(n){var i=D({},n,{brushingType:t,isBrushing:void 0!==t});return(e||void 0===t)&&(i.brushPageOffset=e),i})};var n,i,r,o=e.initialBrushPosition,a=o?r.getExtent(o.start,o.end):{x0:-1,x1:-1,y0:-1,y1:-1};return r.state={start:{x:Math.max(0,a.x0),y:Math.max(0,a.y0)},end:{x:Math.max(0,a.x1),y:Math.max(0,a.y1)},extent:a,bounds:{x0:0,x1:r.props.width,y0:0,y1:r.props.height},isBrushing:!1,brushingType:void 0,activeHandle:null},r}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=this;(this.props.width!==t.width||this.props.height!==t.height)&&this.setState(function(n){var i=n.start,r=n.end,o=n.extent;if(-1!==o.x0||-1!==o.x1||-1!==o.y0||-1!==o.y1){var a=e.props.width/t.width,s=e.props.height/t.height;i={x:a*o.x0,y:s*o.y0},r={x:a*o.x1,y:s*o.y1},o=e.getExtent(i,r)}return{start:i,end:r,extent:o,bounds:{x0:0,x1:e.props.width,y0:0,y1:e.props.height}}})},n.componentDidMount=function(){this.props.useWindowMoveEvents&&(window.addEventListener("mouseup",this.handleWindowPointerUp),window.addEventListener("mousemove",this.debouncedHandleWindowPointerMove))},n.componentWillUnmount=function(){this.props.useWindowMoveEvents&&(window.removeEventListener("mouseup",this.handleWindowPointerUp),window.removeEventListener("mousemove",this.debouncedHandleWindowPointerMove))},n.render=function(){var t=this,e=this.state,n=e.start,i=e.end,r=this.props,u=r.top,h=r.left,l=r.width,d=r.height,c=r.onMouseLeave,g=r.onMouseUp,y=r.onMouseMove,f=r.onBrushEnd,v=r.onClick,_=r.resizeTriggerAreas,b=r.selectedBoxStyle,M=r.disableDraggingSelection,D=r.disableDraggingOverlay,E=r.clickSensitivity,B=r.useWindowMoveEvents,S=r.renderBrushHandle,P=this.state.brushingType,O=this.handles(),T=this.corners(),C=this.getBrushWidth(),k=this.getBrushHeight(),A=new Set(_);return o.createElement(a.A,{className:"visx-brush",top:u,left:h},D?o.createElement(w,{width:l,height:d,onClick:function(e){var n=t.mouseUpTime-t.mouseDownTime;v&&n<E&&v(e)},style:{cursor:"default"}}):o.createElement(s.A,{width:l,height:d,resetOnStart:!0,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,isDragging:B?"select"===P:void 0},function(e){var n=e.dragStart,i=e.isDragging,r=e.dragMove,a=e.dragEnd;return o.createElement(w,{width:l,height:d,onDoubleClick:function(){return t.reset()},onClick:function(e){var n=t.mouseUpTime-t.mouseDownTime;v&&n<E&&v(e)},onPointerDown:function(e){t.mouseDownTime=Date.now(),n(e)},onPointerLeave:function(t){c&&c(t)},onPointerMove:function(t){!i&&y&&y(t),i&&r(t)},onPointerUp:function(e){t.mouseUpTime=Date.now(),g&&g(e),a(e)},style:{cursor:"crosshair"}})}),n&&i&&o.createElement(m,{updateBrush:this.updateBrush,width:C,height:k,stageWidth:l,stageHeight:d,brush:this.state,disableDraggingSelection:M,onBrushEnd:f,onBrushStart:this.handleBrushStart,onMouseLeave:c,onMouseMove:y,onMouseUp:g,onMoveSelectionChange:this.handleBrushingTypeChange,onClick:v,selectedBoxStyle:b,isControlled:B,isDragInProgress:B?"move"===P:void 0}),n&&i&&Object.keys(O).filter(function(t){return A.has(t)}).map(function(e){var n=O[e];return n&&o.createElement(x,{key:"handle-"+e,type:e,handle:n,stageWidth:l,stageHeight:d,updateBrush:t.updateBrush,brush:t.state,onBrushStart:t.handleBrushStart,onBrushEnd:f,isControlled:B,isDragInProgress:B?P===e:void 0,onBrushHandleChange:t.handleBrushingTypeChange,renderBrushHandle:S})}),n&&i&&Object.keys(T).filter(function(t){return A.has(t)}).map(function(e){var n=T[e];return n&&o.createElement(p,{key:"corner-"+e,type:e,brush:t.state,updateBrush:t.updateBrush,stageWidth:l,stageHeight:d,corner:n,onBrushEnd:f})}))},e}(o.Component);function S(t,e){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}B.propTypes={brushDirection:r().oneOf(["horizontal","vertical","both"]),width:r().number.isRequired,height:r().number.isRequired,left:r().number.isRequired,top:r().number.isRequired,onChange:r().func,handleSize:r().number,resizeTriggerAreas:r().array,onBrushStart:r().func,onBrushEnd:r().func,onMouseLeave:r().func,onMouseUp:r().func,onMouseMove:r().func,onClick:r().func,clickSensitivity:r().number,disableDraggingSelection:r().bool,disableDraggingOverlay:r().bool,resetOnEnd:r().bool,useWindowMoveEvents:r().bool,renderBrushHandle:r().func},B.defaultProps={brushDirection:"both",inheritedMargin:{left:0,top:0,right:0,bottom:0},onChange:null,handleSize:4,resizeTriggerAreas:["left","right"],onBrushStart:null,onBrushEnd:null,onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null,disableDraggingSelection:!1,disableDraggingOverlay:!1,clickSensitivity:200,resetOnEnd:!1,initialBrushPosition:null,useWindowMoveEvents:!1,renderBrushHandles:null};var P="steelblue",O=function(t){function e(){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).handleChange=function(t){var n=e.props.onChange;if(n){var i=t.extent.x0;if(void 0===i||i<0)return void n(null);n(e.convertRangeToDomain(t))}},e.handleBrushStart=function(t){var n=e.props.onBrushStart;if(n){var i=t.x,r=t.y,o=e.props,a=o.xScale,s=o.yScale,h=u(a,i),l=u(s,r);n({x:"invert"in a&&void 0!==a.invert?h:a.domain()[h],y:"invert"in s&&void 0!==s.invert?l:s.domain()[l]})}},e.handleBrushEnd=function(t){var n=e.props.onBrushEnd;if(n){var i=t.extent.x0;if(void 0===i||i<0)return void n(null);n(e.convertRangeToDomain(t))}},e}e.prototype=Object.create(t.prototype),e.prototype.constructor=e,S(e,t);var n=e.prototype;return n.convertRangeToDomain=function(t){var e=this.props,n=e.xScale,i=e.yScale,r=t.extent,o=r.x0,a=r.x1,s=r.y0,u=r.y1,l=h(n,o||0,a||0,2),d=h(i,s||0,u||0,2);return{x0:l.start||0,x1:l.end||0,xValues:l.values,y0:d.start||0,y1:d.end||0,yValues:d.values}},n.render=function(){var t,e,n,i,r=this.props,a=r.xScale,s=r.yScale,u=r.height,h=r.width,l=r.margin,d=r.brushDirection,c=r.initialBrushPosition,x=r.innerRef,g=r.resizeTriggerAreas,y=r.brushRegion,p=r.yAxisOrientation,f=r.xAxisOrientation,v=r.selectedBoxStyle,_=r.disableDraggingSelection,m=r.disableDraggingOverlay,b=r.resetOnEnd,M=r.onMouseLeave,w=r.onMouseMove,D=r.onClick,E=r.handleSize,S=r.useWindowMoveEvents,P=r.renderBrushHandle;if(!a||!s)return null;var O=null!=l&&l.left?l.left:0,T=null!=l&&l.top?l.top:0,C=null!=l&&l.right?l.right:0,k=null!=l&&l.bottom?l.bottom:0;return"chart"===y?(n=0,i=0,t=h,e=u):"yAxis"===y?(i=0,e=u,"right"===p?(n=h,t=C):(n=-O,t=O)):(n=0,t=h,"bottom"===f?(i=u,e=k):(i=-T,e=T)),o.createElement(B,{width:t,height:e,left:n,top:i,brushDirection:d,disableDraggingSelection:_,disableDraggingOverlay:m,handleSize:E,inheritedMargin:l,initialBrushPosition:c,ref:x,resetOnEnd:b,resizeTriggerAreas:g,selectedBoxStyle:v,onBrushEnd:this.handleBrushEnd,onBrushStart:this.handleBrushStart,onChange:this.handleChange,onClick:D,onMouseLeave:M,onMouseMove:w,useWindowMoveEvents:S,renderBrushHandle:P})},e}(o.Component);O.propTypes={height:r().number,width:r().number,onChange:r().func,onBrushEnd:r().func,brushDirection:r().oneOf(["vertical","horizontal","both"]),resizeTriggerAreas:r().array,brushRegion:r().oneOf(["xAxis","yAxis","chart"]),yAxisOrientation:r().oneOf(["left","right"]),xAxisOrientation:r().oneOf(["top","bottom"]),disableDraggingSelection:r().bool,disableDraggingOverlay:r().bool,resetOnEnd:r().bool,handleSize:r().number,useWindowMoveEvents:r().bool,renderBrushHandle:r().func},O.defaultProps={xScale:null,yScale:null,onChange:null,height:0,width:0,selectedBoxStyle:{fill:P,fillOpacity:.2,stroke:P,strokeWidth:1,strokeOpacity:.8},margin:{top:0,left:0,right:0,bottom:0},handleSize:4,brushDirection:"horizontal",initialBrushPosition:null,resizeTriggerAreas:["left","right"],brushRegion:"chart",yAxisOrientation:"right",xAxisOrientation:"bottom",onBrushStart:null,onBrushEnd:null,disableDraggingSelection:!1,resetOnEnd:!1,onMouseMove:null,onMouseLeave:null,onClick:null,useWindowMoveEvents:!1,renderBrushHandles:null};let T=O},27840:(t,e,n)=>{function i(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function r(t,e){this._context=t,this._k=(1-e)/6}n.d(e,{Ay:()=>o,vP:()=>r}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:i(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let o=function t(e){function n(t){return new r(t,e)}return n.tension=function(e){return t(+e)},n}(0)},35669:(t,e,n)=>{e.A=s;var i=a(n(38637)),r=a(n(12115)),o=a(n(85188));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=t.captureDragArea,n=t.snapToPointer,i=t.children,a=t.dx,s=t.dy,u=t.height,h=t.onDragEnd,l=t.onDragMove,d=t.onDragStart,c=t.resetOnStart,x=t.width,g=t.x,y=t.y,p=t.isDragging,f=t.restrict,v=t.restrictToPath,_=(0,o.default)({resetOnStart:c,snapToPointer:void 0===n||n,onDragEnd:h,onDragMove:l,onDragStart:d,x:g,y:y,dx:a,dy:s,isDragging:p,restrict:f,restrictToPath:v});return r.default.createElement(r.default.Fragment,null,_.isDragging&&(void 0===e||e)&&r.default.createElement("rect",{width:x,height:u,onPointerDown:_.dragStart,onPointerMove:_.dragMove,onPointerUp:_.dragEnd,fill:"transparent"}),i(_))}s.propTypes={children:i.default.func.isRequired,width:i.default.number.isRequired,height:i.default.number.isRequired,captureDragArea:i.default.bool,isDragging:i.default.bool}},38108:(t,e,n)=>{n.d(e,{A:()=>a});var i=n(96542),r=n(27840);function o(t,e){this._context=t,this._alpha=e}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var r=t._x1,o=t._y1,a=t._x2,s=t._y2;if(t._l01_a>i.Ni){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,o=(o*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>i.Ni){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-e*t._l12_2a)/d,s=(s*l+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(r,o,a,s,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let a=function t(e){function n(t){return e?new o(t,e):new r.vP(t,0)}return n.alpha=function(e){return t(+e)},n}(.5)},61038:(t,e)=>{e.__esModule=!0,e.default=function(t,e,n){return Math.min(Math.max(t,e),n)}},61214:(t,e,n)=>{e.__esModule=!0,e.default=function(t,e,n){var o,a,s,u;return(void 0===n&&(n={}),e.length>0)?(0,r.default)(t,e):{x:(0,i.default)(t.x,null!=(o=n.xMin)?o:-1/0,null!=(a=n.xMax)?a:1/0),y:(0,i.default)(t.y,null!=(s=n.yMin)?s:-1/0,null!=(u=n.yMax)?u:1/0)}};var i=o(n(61038)),r=o(n(5951));function o(t){return t&&t.__esModule?t:{default:t}}},71734:(t,e,n)=>{n.d(e,{A:()=>u});var i=n(12115),r=n(29300),o=n.n(r),a=["className","innerRef"];function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function u(t){var e=t.className,n=t.innerRef,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,a);return i.createElement("rect",s({ref:n,className:o()("visx-bar",e)},r))}},80426:(t,e,n)=>{function i(t,e){this._context=t,this._t=e}function r(t){return new i(t,.5)}n.d(e,{Ay:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}}},85188:(t,e,n)=>{e.__esModule=!0,e.default=function(t){var e=void 0===t?{}:t,n=e.resetOnStart,h=void 0!==n&&n,d=e.snapToPointer,c=void 0===d||d,x=e.onDragEnd,g=e.onDragMove,y=e.onDragStart,p=e.x,f=e.y,v=e.dx,_=e.dy,m=e.isDragging,b=e.restrict,M=void 0===b?{}:b,w=e.restrictToPath,D=(0,i.useRef)({x:p,y:f,dx:v,dy:_}),E=(0,a.default)({x:p,y:f,dx:null!=v?v:0,dy:null!=_?_:0,isDragging:!1}),B=E[0],S=E[1],P=(0,i.useState)(new r.Point({x:0,y:0})),O=P[0],T=P[1];(0,i.useEffect)(function(){(D.current.x!==p||D.current.y!==f||D.current.dx!==v||D.current.dy!==_)&&(D.current={x:p,y:f,dx:v,dy:_},S(function(t){return l({},t,{x:p,y:f,dx:null!=v?v:0,dy:null!=_?_:0})}))}),(0,i.useEffect)(function(){void 0!==m&&B.isDragging!==m&&S(function(t){return l({},t,{isDragging:m})})},[B.isDragging,m,S]);var C=(0,u.default)(w),k=(0,i.useCallback)(function(t){t.persist(),S(function(e){var n=e.x,i=e.y,a=e.dx,u=e.dy,l=new r.Point({x:((void 0===n?0:n)||0)+a,y:((void 0===i?0:i)||0)+u}),d=(0,o.localPoint)(t)||new r.Point({x:0,y:0}),x=c?d:l,g=(0,s.default)(x,C,M);return T((0,r.subtractPoints)(l,d)),{isDragging:!0,dx:h?0:e.dx,dy:h?0:e.dy,x:h?g.x:g.x-e.dx,y:h?g.y:g.y-e.dy}},y&&function(e){y(l({},e,{event:t}))})},[y,h,M,C,S,c]),A=(0,i.useCallback)(function(t){t.persist(),S(function(e){if(!e.isDragging)return e;var n=e.x,i=e.y,a=(0,o.localPoint)(t)||new r.Point({x:0,y:0}),u=c?a:(0,r.sumPoints)(a,O),h=(0,s.default)(u,C,M);return l({},e,{dx:h.x-(void 0===n?0:n),dy:h.y-(void 0===i?0:i)})},g&&function(e){e.isDragging&&g(l({},e,{event:t}))})},[S,g,c,O,C,M]),R=(0,i.useCallback)(function(t){t.persist(),S(function(t){return l({},t,{isDragging:!1})},x&&function(e){x(l({},e,{event:t}))})},[x,S]);return l({},B,{dragEnd:R,dragMove:A,dragStart:k})};var i=n(12115),r=n(94360),o=n(97251),a=h(n(11971)),s=h(n(61214)),u=h(n(1592));function h(t){return t&&t.__esModule?t:{default:t}}function l(){return(l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}},94360:(t,e,n)=>{n.r(e),n.d(e,{Point:()=>i.A,subtractPoints:()=>o,sumPoints:()=>r});var i=n(14095);function r(t,e){return new i.A({x:t.x+e.x,y:t.y+e.y})}function o(t,e){return new i.A({x:t.x-e.x,y:t.y-e.y})}},97251:(t,e,n)=>{n.r(e),n.d(e,{localPoint:()=>i.A,touchPoint:()=>r.A});var i=n(59722),r=n(44778)}}]);