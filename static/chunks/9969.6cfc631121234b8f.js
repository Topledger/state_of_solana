"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067,9969],{7545:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(95155);n(12115);let o=e=>{let{onClick:t,children:n,className:o="",disabled:a=!1}=e;return(0,r.jsx)("button",{onClick:t,disabled:a,className:"\n        px-2 py-1 \n        bg-gray-800/20 hover:bg-gray-700/20 \n        text-gray-200/80 \n        rounded \n        text-xs leading-relaxed tracking-wide\n        transition-colors duration-200 \n        border border-gray-700/40 \n        flex items-center justify-center\n        disabled:opacity-50 disabled:pointer-events-none\n        ".concat(o,"\n      "),children:n})}},39969:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(95155),o=n(12115),a=n(13600),l=n(76167),s=n(30832),i=n(4904),c=n(41995),d=n(72630),f=n(58888),u=n(50109),p=n(79111),h=n(43067),x=n(51078),m=n(7545),b=n(52594),g=n(79701),v=n(59722),y=n(73879),j=n(43356),w=n(57815);let k=e=>{let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},N="#4682b4",T="#9CA3AF",A=e=>{let{isModalOpen:t=!1,onModalClose:n=()=>{}}=e,[A,O]=(0,o.useState)([]),[R,_]=(0,o.useState)(!0),[F,C]=(0,o.useState)(null),[D,L]=(0,o.useState)([]),[S,E]=(0,o.useState)(!0),M=(0,o.useRef)(null),P=(0,o.useRef)(null),{tooltipData:z,tooltipLeft:H,tooltipTop:B,tooltipOpen:J,showTooltip:W,hideTooltip:V}=(0,y.A)(),U=(0,o.useCallback)(async()=>{_(!0),C(null);try{let e=await (0,h.fetchTxnFeesData)();0===e.length?(C("No data available for transaction fees."),O([])):O(e)}catch(e){C(e instanceof Error?e.message:"Failed to load data."),O([])}finally{_(!1)}},[]);(0,o.useEffect)(()=>{U()},[U]),(0,o.useEffect)(()=>{t&&(E(!0),A.length>0?(L(A),E(!1)):(0,h.fetchTxnFeesData)().then(e=>{L(e)}).catch(e=>{console.error("Error loading modal chart data:",e)}).finally(()=>{E(!1)}))},[t,A]);let X=(0,o.useCallback)(e=>new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short"}),[]),G=(0,o.useCallback)((e,t,n,r,o,a,l)=>{let s=((0,v.A)(e)||{x:0,y:0}).x-l.left;if(r.length>0){let e=r.map(e=>new Date(e.block_date).getTime()),o=t.invert(s).getTime(),a=0,i=Math.abs(e[0]-o);for(let t=1;t<e.length;t++){let n=Math.abs(e[t]-o);n<i&&(i=n,a=t)}let c=r[a],d=n(c.Average_Transaction_Fees),f=t(new Date(c.block_date));W({tooltipData:c,tooltipLeft:f+l.left,tooltipTop:d+l.top})}},[W]),q=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?D:A,n={top:20,right:30,bottom:50,left:e?80:60};return(e?S:R)?(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(x.A,{size:"sm"})}):F||0===t.length?(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,r.jsx)("p",{className:"text-red-400 mb-3 text-sm",children:F||"No data available"}),(0,r.jsx)(m.A,{onClick:e?()=>{E(!0),(0,h.fetchTxnFeesData)().then(e=>{L(e)}).catch(e=>{console.error("Error loading modal chart data:",e)}).finally(()=>{E(!1)})}:U,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(k,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Retry"})]})})]}):(0,r.jsx)("div",{className:"relative h-full w-full",ref:e?P:M,children:(0,r.jsx)(p.A,{children:o=>{let{width:p,height:x}=o,m=p-n.left-n.right,b=x-n.top-n.bottom,v=(0,s.A)({domain:(0,g.A)(t,e=>new Date(e.block_date)),range:[0,m]}),y=(0,i.A)({domain:[0,1.1*Math.max(...t.map(e=>e.Average_Transaction_Fees))],range:[b,0],nice:!0});return(0,r.jsxs)("div",{children:[(0,r.jsx)("svg",{width:p,height:x,children:(0,r.jsxs)(c.A,{left:n.left,top:n.top,children:[(0,r.jsx)(u.A,{scale:y,width:m,height:b,stroke:"rgba(156, 163, 175, 0.1)",numTicks:5}),(0,r.jsx)(a.A,{data:t,x:e=>v(new Date(e.block_date)),y:e=>y(e.Average_Transaction_Fees),stroke:N,strokeWidth:2.5,curve:l.G}),(0,r.jsx)(d.A,{top:b,scale:v,numTicks:e?10:5,stroke:T,tickStroke:T,tickLabelProps:()=>({fill:T,fontSize:10,textAnchor:"middle",dy:"0.5em"}),tickFormat:e=>e instanceof Date?X(e.toISOString()):""}),(0,r.jsx)(f.A,{scale:y,numTicks:5,stroke:T,tickStroke:T,tickLabelProps:()=>({fill:T,fontSize:10,textAnchor:"end",dx:"-0.5em",dy:"0.3em"}),tickFormat:e=>(0,h.J)("number"==typeof e?e:Number(e))}),(0,r.jsx)("rect",{x:0,y:0,width:m,height:b,fill:"transparent",onMouseMove:e=>G(e,v,y,t,p,x,n),onMouseLeave:()=>V()}),J&&z&&(0,r.jsx)("circle",{cx:v(new Date(z.block_date)),cy:y(z.Average_Transaction_Fees),r:5,fill:N,stroke:"white",strokeWidth:2,pointerEvents:"none"})]})}),(0,r.jsx)("div",{className:"text-center text-gray-400 text-xs mt-2",children:"Date"}),(0,r.jsx)("div",{className:"absolute text-gray-400 text-xs",style:{left:0,top:"50%",transform:"rotate(-90deg) translateX(50%)",transformOrigin:"left center"},children:"Average Transaction Fees"}),J&&z&&(0,r.jsxs)(w.A,{top:B,left:H,style:{...j.k,background:"#1F2937",border:"none",borderRadius:"0.5rem",color:"white",padding:"0.75rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-1",children:X(z.block_date)}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,r.jsx)("span",{className:"text-xs",children:(0,h.J)(z.Average_Transaction_Fees)})]})]},Math.random())]})}})})};return(0,r.jsxs)("div",{className:"h-full w-full relative",ref:M,children:[q(!1),t&&(0,r.jsx)(b.A,{isOpen:t,onClose:n,title:"Average Transaction Fees",subtitle:"Average fees paid per transaction over time",children:(0,r.jsxs)("div",{className:"h-[70vh]",children:[(0,r.jsx)("div",{className:"flex justify-end mb-4",children:(0,r.jsx)("button",{onClick:()=>{let e=new Blob([["Date,Average Transaction Fees",...(t?D:A).map(e=>[e.block_date,e.Average_Transaction_Fees].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","transaction_fees_".concat(new Date().toISOString().split("T")[0],".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-xs rounded-md text-blue-400 hover:text-blue-300 transition-colors",children:"Download CSV"})}),(0,r.jsx)("div",{className:"h-[calc(100%-3rem)]",children:q(!0)})]})})]})}},43067:(e,t,n)=>{async function r(){try{let e=await fetch("https://analytics.topledger.xyz/tl/api/queries/13249/results.json?api_key=VXYHhXmv3FGJJbtg0W8nxUm7RHWFH1sxVgXJ8Jn2",{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error("Failed to fetch transaction fees data: ".concat(e.status));return(await e.json()).query_result.data.rows.map(e=>({block_date:e.block_date,Average_Transaction_Fees:e.Average_Transaction_Fees})).sort((e,t)=>new Date(e.block_date).getTime()-new Date(t.block_date).getTime())}catch(e){throw console.error("Error fetching transaction fees data:",e),e}}function o(e){return e>=1e6?"".concat((e/1e6).toFixed(2),"M"):e>=1e3?"".concat((e/1e3).toFixed(2),"K"):e.toFixed(2)}n.d(t,{J:()=>o,fetchTxnFeesData:()=>r})},43356:(e,t,n)=>{n.d(t,{A:()=>u,k:()=>d});var r=n(38637),o=n.n(r),a=n(12115),l=n(29300),s=n.n(l),i=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},f=a.forwardRef(function(e,t){var n=e.className,r=e.top,o=e.left,l=e.offsetLeft,f=void 0===l?10:l,u=e.offsetTop,p=void 0===u?10:u,h=e.style,x=e.children,m=e.unstyled,b=e.applyPositionStyle,g=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,i);return a.createElement("div",c({ref:t,className:s()("visx-tooltip",n),style:c({top:null==r||null==p?r:r+p,left:null==o||null==f?o:o+f},void 0!==b&&b&&{position:"absolute"},!(void 0!==m&&m)&&(void 0===h?d:h))},g),x)});f.propTypes={children:o().node,className:o().string,left:o().number,offsetLeft:o().number,offsetTop:o().number,top:o().number,applyPositionStyle:o().bool,unstyled:o().bool},f.displayName="Tooltip";let u=f},52594:(e,t,n)=>{n.d(t,{A:()=>i,B:()=>s});var r=n(95155),o=n(12115),a=n(47650),l=n(51078);let s=e=>{let{title:t,items:n,maxHeight:o=600,maxItems:a=28}=e,l=n.length>a;return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[t&&(0,r.jsx)("div",{className:"text-[10px] text-gray-400 mb-2 uppercase",children:t}),(0,r.jsx)("div",{style:{maxHeight:l?"".concat(o,"px"):"none"},className:"flex flex-col gap-3 pr-1 ".concat(l?"overflow-y-auto \n          [&::-webkit-scrollbar]:w-1.5 \n          [&::-webkit-scrollbar-track]:bg-transparent \n          [&::-webkit-scrollbar-thumb]:bg-gray-700/40\n          [&::-webkit-scrollbar-thumb]:rounded-full\n          [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60\n          scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40":""),children:n.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"min-w-2 w-2 h-2 mr-1.5 rounded-sm mt-0 flex-shrink-0",style:{backgroundColor:e.color}}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-[11px] text-gray-300 leading-none",children:e.label}),e.value&&(0,r.jsx)("span",{className:"text-[10px] text-gray-500",children:e.value})]})]},e.id))})]})},i=e=>{let{isOpen:t,onClose:n,children:s,title:i,subtitle:c,isLoading:d=!1}=e,f=(0,o.useRef)(null);return((0,o.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[t,n]),t)?a.createPortal((0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm modal-backdrop",children:(0,r.jsxs)("div",{ref:f,className:"relative bg-black/80 border border-gray-900 rounded-xl p-4 w-11/12 max-w-7xl flex flex-col shadow-xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-gray-900",children:[(0,r.jsxs)("div",{children:[i&&(0,r.jsx)("h2",{className:"text-[16px] font-medium text-gray-100",children:i}),c&&(0,r.jsx)("p",{className:"text-gray-500 text-[12px] tracking-wide mt-1",children:c})]}),(0,r.jsx)("button",{onClick:n,className:"bg-gray-800 hover:bg-gray-700 rounded-full p-1.5 text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[s,d&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-10 rounded-md",children:(0,r.jsx)(l.A,{size:"md"})})]})]})}),document.body):null}},57815:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(38637),o=n.n(r),a=n(12115),l=n(47650);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c={top:0,right:0,bottom:0,left:0,width:0,height:0},d=n(43356),f=(0,a.createContext)({isFlippedVertically:!1,isFlippedHorizontally:!1}),u=f.Provider;f.Consumer;var p=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e){var t,n=e.children,r=(e.getRects,e.left),o=e.offsetLeft,l=void 0===o?10:o,s=e.offsetTop,i=void 0===s?10:s,c=e.parentRect,f=e.rect,x=e.style,m=void 0===x?d.k:x,b=e.top,g=e.unstyled,v=e.nodeRef,y=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,p),j=!1,w=!1;if(f&&c){var k=void 0===r?0:r,N=void 0===b?0:b;if(c.width){var T=k+l+f.width-c.width,A=f.width-k-l;j=T>0&&T>A}else{var O=k+l+f.width-window.innerWidth,R=f.width-k-l;j=O>0&&O>R}if(c.height){var _=N+i+f.height-c.height,F=f.height-N-i;w=_>0&&_>F}else w=N+i+f.height>window.innerHeight;k=j?k-f.width-l:k+l,N=w?N-f.height-i:N+i,t="translate("+(k=Math.round(k))+"px, "+(N=Math.round(N))+"px)"}return a.createElement(d.A,h({ref:v,style:h({left:0,top:0,transform:t},!(void 0!==g&&g)&&m)},y),a.createElement(u,{value:{isFlippedVertically:!w,isFlippedHorizontally:!j}},n))}x.propTypes={nodeRef:o().oneOfType([o().string,o().func,o().object])};let m=function(e){var t;return(t=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={rect:void 0,parentRect:void 0},n.nodeRef=a.createRef(),n.getRects=n.getRects.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}n.prototype=Object.create(t.prototype),n.prototype.constructor=n,i(n,t);var r=n.prototype;return r.componentDidMount=function(){var e,t=this;this.node=null!=(e=this.nodeRef)&&e.current?this.nodeRef.current:l.findDOMNode(this),this.setState(function(){return t.getRects()})},r.getRects=function(){if(!this.node)return this.state;var e=this.node,t=e.parentNode;return{rect:e.getBoundingClientRect?e.getBoundingClientRect():c,parentRect:null!=t&&t.getBoundingClientRect?t.getBoundingClientRect():c}},r.render=function(){return a.createElement(e,s({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},n}(a.PureComponent)).displayName="withBoundingRects("+(e.displayName||"")+")",t}(x)},73879:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(12115),o=["tooltipOpen"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){var t=(0,r.useState)(a({tooltipOpen:!1},e)),n=t[0],l=t[1],s=(0,r.useCallback)(function(e){return l("function"==typeof e?function(t){t.tooltipOpen;var n=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,o);return a({},e(n),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})},[l]),i=(0,r.useCallback)(function(){return l({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[l]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:l,showTooltip:s,hideTooltip:i}}},79701:(e,t,n)=>{n.d(t,{A:()=>r});function r(e,t){let n,r;if(void 0===t)for(let t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let o=-1;for(let a of e)null!=(a=t(a,++o,e))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}}}]);