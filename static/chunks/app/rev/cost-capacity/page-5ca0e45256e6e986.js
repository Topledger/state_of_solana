(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5179],{6828:(e,t,a)=>{"use strict";a.d(t,{$C:()=>v,Dc:()=>_,Tj:()=>s,Vg:()=>m,Vy:()=>g,Zp:()=>n,h5:()=>p,h8:()=>x,wL:()=>l,wv:()=>c,z1:()=>r});let s=["#60a5fa","#a78bfa","#34d399","#f97316","#f43f5e","#facc15","#10b981","#8b5cf6","#ec4899","#6b7280","#3b82f6","#059669","#93c5fd","#c4b5fd","#fb923c","#f87171","#fcd34d","#64748b","#0ea5e9","#1e40af","#4f46e5","#7c3aed","#be123c","#0891b2","#ea580c"],r=s[0],n=s[1],l=s[2],o=s[3],c=s[4],i=s[5],u=s[6],d=s[7],h=s[8],f=s[9];s[0],s[1],s[2],s[3];let m="#1f2937",p="#374151",_="#6b7280",g=e=>s[e%s.length],v={"1-3 transactions":r,"4-5 transactions":l,"6-10 transactions":n,"11-100 transactions":o,"101-1000 transactions":c,">1000 transactions":i},x=[r,n,l,o,c,i,h,d,u,f,s[10],s[11],s[12],s[13],s[14],s[15],s[16],s[17],s[18],s[19],s[20],s[21],s[22],s[23],s[24]]},34373:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var s=a(95155),r=a(12115),n=a(79111),l=a(41995),o=a(50109),c=a(4904),i=a(30832),u=a(58888),d=a(72630);async function h(e,t){try{var a,s;console.log("fetchCostCapacityData called with:",{timeFilter:e,currency:t});let r=await fetch("".concat("https://analytics.topledger.xyz/tl/api","/queries/").concat("13207","/results?api_key=").concat("9zbkGgIfDrhCnAhfd5OMJe4z4JxJiB0d4SuO3ynF"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parameters:{"Date Part":e,currency:t}})});if(!r.ok)throw Error("API request failed: ".concat(r.status));let n=(null==(s=(await r.json()).query_result)||null==(a=s.data)?void 0:a.rows)||[];if(!n||0===n.length)return console.warn("No cost capacity rows returned from API for filter:",{timeFilter:e,currency:t}),[];let l=n.map((e,t)=>{t<3&&console.log("Raw data row:",e);let a=e.block_date||"",s=parseFloat(e.base_fee||0),r=parseFloat(e.priority_fee||0),n=parseFloat(e.jito_total_tips||0),l=parseFloat(e.vote_fees||0);return(isNaN(s)||isNaN(r)||isNaN(n)||isNaN(l))&&console.warn("[Data Transform] Invalid numeric value encountered at row index ".concat(t,":"),e),{date:a,base_fee:s,priority_fee:r,jito_total_tips:n,vote_fees:l}}).filter(e=>{let t=e.date&&!isNaN(e.base_fee)&&!isNaN(e.priority_fee)&&!isNaN(e.jito_total_tips)&&!isNaN(e.vote_fees);return t||console.warn("[Data Transform] Filtering out invalid data point:",e),t});return l.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),console.log("Transformed ".concat(l.length," data points")),l}catch(e){return console.error("Error fetching cost capacity data:",e),[]}}let f=(e,t)=>{if(console.log("Formatting value:",e,"Type:",typeof e,"Currency:",t),null==e||isNaN(e))return console.warn("formatValue received invalid input:",e),"USD"===t?"$--":"-- SOL";if("USD"===t)return e>=1e9?"$".concat(Math.round(e/1e9),"B"):e>=1e6?"$".concat(Math.round(e/1e6),"M"):e>=1e3?"$".concat(Math.round(e/1e3),"K"):"$".concat(Math.round(e));return e>=1e9?"".concat(Math.round(e/1e9),"B"):e>=1e6?"".concat(Math.round(e/1e6),"M"):e>=1e3?"".concat(Math.round(e/1e3),"K"):"".concat(Math.round(e))},m=(e,t)=>{let a=new Date(e);if(isNaN(a.getTime()))return"Invalid Date";switch(t){case"Y":return a.getFullYear().toString();case"Q":return"Q".concat(Math.floor(a.getMonth()/3)+1," ").concat(a.getFullYear());case"M":return a.toLocaleDateString("en-US",{month:"short",year:"numeric"});case"W":return a.toLocaleDateString("en-US",{month:"short",day:"numeric"});default:return a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}},p=["base_fee","priority_fee","jito_total_tips","vote_fees"];var _=a(51078),g=a(81838),v=a(7545),x=a(52594),b=a(37918),y=a(42028),j=a(53728),S=a(85204),w=a(6828);let N=e=>{let{className:t="w-4 h-4"}=e;return(0,s.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},k={base_fee:w.Tj[0],priority_fee:w.Tj[1],jito_total_tips:w.Tj[2],vote_fees:w.Tj[3],grid:w.Vg,axisLines:w.h5,tickLabels:w.Dc},T=e=>{let t={};p.forEach(a=>{t[a]=e.reduce((e,t)=>e+(Number(t[a])||0),0)});let a=[...p].sort((e,a)=>t[a]-t[e]),s=[w.Tj[0],w.Tj[1],w.Tj[2],w.Tj[3]],r={};return a.forEach((e,t)=>{r[e]=s[t%s.length]}),r},C=e=>{var t;let{timeFilter:a,currencyFilter:w,displayMode:C="absolute",isModalOpen:D=!1,onModalClose:L=()=>{},onTimeFilterChange:M,onCurrencyChange:A,onDisplayModeChange:F}=e,[P,E]=(0,r.useState)([]),[O,V]=(0,r.useState)(!0),[R,W]=(0,r.useState)(null),[U,B]=(0,r.useState)([]),[Y,q]=(0,r.useState)(null),[z,Q]=(0,r.useState)(!1),[G,$]=(0,r.useState)(C),[I,J]=(0,r.useState)([]),[Z,H]=(0,r.useState)(!0),[K,X]=(0,r.useState)(null),[ee,et]=(0,r.useState)(a),[ea,es]=(0,r.useState)(w),[er,en]=(0,r.useState)(null),[el,eo]=(0,r.useState)(!1),[ec,ei]=(0,r.useState)([]),[eu,ed]=(0,r.useState)(G),[eh,ef]=(0,r.useState)({visible:!1,dataPoint:null,left:0,top:0}),em=(0,r.useRef)(null),ep=(0,r.useRef)(!0),e_=(0,r.useRef)(null),eg=(0,r.useRef)(!0),ev=(0,r.useRef)(null),ex=(0,r.useRef)(null),eb=(0,r.useCallback)(async()=>{V(!0),W(null);try{console.log("Calling fetchCostCapacityData with:",a,w);let e=await h(a,w);0===e.length?(console.error("No data available for this period"),W("No data available for this period."),E([])):(console.log("Fetched data:",e),E(e),B(e),Q(!0),q(null))}catch(t){console.error("[Chart] Error loading chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),W(e),E([]),B([])}finally{V(!1)}},[a,w]),ey=(0,r.useCallback)(async()=>{H(!0),X(null);try{let e=await h(ee,ea);0===e.length?(X("No data available for this period."),J([]),ei([])):(J(e),ei(e),eo(!0),en(null))}catch(t){console.error("[Chart] Error loading modal chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),X(e),J([]),ei([])}finally{H(!1)}},[ee,ea]);(0,r.useEffect)(()=>{eb()},[eb]),(0,r.useEffect)(()=>{$(C)},[C]);let ej=(0,r.useCallback)(e=>{if(!e){z&&(q(null),Q(!1)),em.current&&(clearTimeout(em.current),em.current=null,ep.current=!0);return}let{x0:t,x1:a}=e,s=new Date(t),r=new Date(a);!(isNaN(s.getTime())||isNaN(r.getTime()))&&(q([s,r]),z||Q(!0))},[z]),eS=(0,r.useCallback)(e=>{if(!e){el&&(en(null),eo(!1)),e_.current&&(clearTimeout(e_.current),e_.current=null,eg.current=!0);return}let{x0:t,x1:a}=e,s=new Date(t),r=new Date(a);!(isNaN(s.getTime())||isNaN(r.getTime()))&&(en([s,r]),el||eo(!0))},[el]);(0,r.useEffect)(()=>{if(0===P.length){U.length>0&&B([]);return}if(!Y&&z)return void B(P);if(!Y||!z){U.length!==P.length&&B(P);return}if(!ep.current)return;let[e,t]=Y,a=e.getTime(),s=t.getTime(),r=P.filter(e=>{let t=new Date(e.date).getTime();return t>=a&&t<=s});B(r.length>0?r:P),ep.current=!1,em.current&&clearTimeout(em.current),em.current=setTimeout(()=>{ep.current=!0},100)},[Y,P,z]),(0,r.useEffect)(()=>{if(0===I.length){ec.length>0&&ei([]);return}if(!er&&el)return void ei(I);if(!er||!el){ec.length!==I.length&&ei(I);return}if(!eg.current)return;let[e,t]=er,a=e.getTime(),s=t.getTime(),r=I.filter(e=>{let t=new Date(e.date).getTime();return t>=a&&t<=s});ei(r.length>0?r:I),eg.current=!1,e_.current&&clearTimeout(e_.current),e_.current=setTimeout(()=>{eg.current=!0},100)},[er,I,el]),(0,r.useEffect)(()=>()=>{em.current&&clearTimeout(em.current),e_.current&&clearTimeout(e_.current)},[]);let ew=(0,r.useCallback)(function(e){var t,a;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null==(t=(s?ex:ev).current)?void 0:t.getBoundingClientRect();if(!r)return;let n=e.clientX-r.left,l=e.clientY-r.top,o={left:45},c=r.width-o.left-20;if(n<o.left||n>c+o.left){eh.visible&&ef(e=>({...e,visible:!1}));return}let i=s?el?ec:I:z?U:P,u=Math.floor((n-o.left)/(c/i.length));if(u>=0&&u<i.length){let e=i[u];eh.visible&&(null==(a=eh.dataPoint)?void 0:a.date)===e.date||(console.log("Tooltip data point:",e),ef({visible:!0,dataPoint:e,left:n,top:l}))}},[P,U,I,ec,z,el,eh.visible,null==(t=eh.dataPoint)?void 0:t.date]),eN=(0,r.useCallback)(()=>{eh.visible&&ef(e=>({...e,visible:!1}))},[eh.visible]);(0,r.useEffect)(()=>{D&&(et(a),es(w),ed(G),J(P),ei(U.length>0?U:P),en(Y),eo(z),ey())},[D,a,w,G,P,U,Y,z,ey]),(0,r.useEffect)(()=>{D&&ey()},[D,ee,ea,ey]);let ek=(0,r.useCallback)(e=>{et(e)},[]),eT=(0,r.useCallback)(e=>{es(e)},[]);(0,r.useCallback)(e=>{$(e),F&&F(e)},[F]);let eC=(0,r.useCallback)(e=>{ed(e)},[]),eD=e=>{switch(e){case"base_fee":return"Base Fee";case"priority_fee":return"Priority Fee";case"jito_total_tips":return"Jito total tips";case"vote_fees":return"Vote Fees";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},eL=e=>"".concat(Math.round(e),"%"),eM=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(a)return eL(s>0?e/s*100:0);let r=f(e,t);return"SOL"!==t||r.includes("SOL")||(r+=" SOL"),r},eA=function(e,t,a,r,n){let l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=n,i=o?p.reduce((t,a)=>t+(Number(e[a])||0),0):0;return(0,s.jsx)("g",{children:p.map((u,d)=>{let h=Number(e[u])||0,f=n-r(o?i>0?h/i*100:0:h);return c-=f,(0,s.jsx)("rect",{x:t,y:c,width:a,height:f,fill:k[u],opacity:l?1:.75,rx:2,onMouseEnter:()=>{}},"bar-segment-".concat(e.date,"-").concat(u))})},"bar-".concat(e.date))},eF=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=r?ee:a,x=r?ea:w,b=r?eu:G,j=r?I:P,S=r?el?ec:I:z?U:P,C=r?Z:O,D=r?K:R,L=T(S);return C?(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsx)(_.A,{size:"sm"})}):D||0===j.length?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,s.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:D||"No data available"}),(0,s.jsx)(v.A,{onClick:r?ey:()=>eb(),children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(N,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Refresh"})]})})]}):(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[eh.visible&&eh.dataPoint&&(0,s.jsx)(g.A,{title:m(eh.dataPoint.date,h),items:p.map(e=>{let t=eh.dataPoint[e]||0,a=0;return"percent"===b&&(a=p.reduce((e,t)=>e+(Number(eh.dataPoint[t])||0),0)),{color:L[e]||k.tickLabels,label:eD(e),value:eM(t,x,"percent"===b,a),shape:"square"}}),top:eh.top,left:eh.left,isModal:r}),(0,s.jsx)("div",{className:"h-[85%] w-full overflow-hidden relative",ref:r?ex:ev,onMouseMove:e=>ew(e,r),onMouseLeave:eN,children:(0,s.jsx)(n.A,{children:e=>{var t,a;let{width:r,height:n}=e;if(r<=0||n<=0)return null;let m={top:5,right:25,bottom:30,left:45},_=r-m.left-m.right,g=n-m.top-m.bottom;if(_<=0||g<=0)return null;console.log("Display data length:",S.length);let v=_/S.length,y=.8*v,j="percent"===b?100:Math.max(...S.map(e=>p.reduce((t,a)=>t+(Number(e[a])||0),0))),w=(0,c.A)({domain:[0,"percent"===b?100:1.1*j],range:[g,0],nice:!0});return console.log("Bar rendering info:",{dataPoints:S.length,innerWidth:_,totalBarWidth:v,barWidth:y,maxValue:j,isPercentMode:"percent"===b}),(0,s.jsx)("svg",{width:r,height:n,children:(0,s.jsxs)(l.A,{left:m.left,top:m.top,children:[(0,s.jsx)(o.A,{scale:w,width:_,height:g,stroke:k.grid,strokeOpacity:.5,strokeDasharray:"2,3",numTicks:5}),S.map((e,t)=>{var a,r;let n=t*v;return t%Math.max(1,Math.floor(S.length/6))==0?(0,s.jsx)("g",{children:eA(e,n,y,w,g,(null==(r=eh.dataPoint)?void 0:r.date)===e.date,"percent"===b)},"bar-group-".concat(t)):eA(e,n,y,w,g,(null==(a=eh.dataPoint)?void 0:a.date)===e.date,"percent"===b)}),(0,s.jsx)(u.A,{scale:w,stroke:k.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickFormat:e=>"percent"===b?eL(e):f(e,x),tickLabelProps:()=>({fill:k.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"-0.6em",dy:"0.25em"})}),(0,s.jsx)(d.A,{top:g,scale:(0,i.A)({domain:[new Date((null==(t=S[0])?void 0:t.date)||new Date),new Date((null==(a=S[S.length-1])?void 0:a.date)||new Date)],range:[0,_]}),tickFormat:e=>{switch(h){case"Y":return e.getFullYear().toString();case"Q":return"Q".concat(Math.floor(e.getMonth()/3)+1);case"M":return e.toLocaleDateString("en-US",{month:"short"});default:return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},stroke:k.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,numTicks:Math.min(5,S.length),tickLabelProps:(e,t)=>({fill:k.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:0===t?"start":"middle",dy:"0.5em",dx:0===t?"0.5em":0})})]})})}})}),(0,s.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,s.jsx)(y.A,{data:r?I:P,isModal:r,activeBrushDomain:r?er:Y,onBrushChange:r?eS:ej,onClearBrush:r?()=>{en(null),eo(!1)}:()=>{q(null),Q(!1)},getDate:e=>e.date,getValue:e=>p.reduce((t,a)=>t+(Number(e[a])||0),0),lineColor:k.base_fee,margin:{top:5,right:25,bottom:10,left:45}})})]})};return(0,s.jsxs)("div",{className:"h-full w-full relative",children:[eF(0,0),(0,s.jsx)(x.A,{isOpen:D,onClose:L,title:"Transaction Fees",subtitle:"Tracking different fee components in Solana ecosystem",children:(()=>{p.map(e=>({key:e,displayName:eD(e)}));let e=T(ec.length>0?ec:I);return(0,s.jsxs)("div",{className:"p-4 w-full h-full",children:[(0,s.jsx)("div",{className:"flex items-center justify-between pl-1 py-0 mb-3",children:(0,s.jsxs)("div",{className:"flex space-x-4 items-center",children:[(0,s.jsx)(b.A,{value:ee,onChange:e=>{ek(e),M&&M(e)},options:[{value:"D",label:"D"},{value:"W",label:"W"},{value:"M",label:"M"},{value:"Q",label:"Q"},{value:"Y",label:"Y"}]}),(0,s.jsx)(j.A,{currency:ea,onChange:e=>{eT(e),A&&A(e)}}),(0,s.jsx)(S.A,{mode:eu,onChange:e=>{eC(e)}})]})}),(0,s.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,s.jsx)("div",{className:"h-[60vh]",children:(0,s.jsxs)("div",{className:"flex h-full",children:[(0,s.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900",children:eF(0,0,!0)}),(0,s.jsxs)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:[(0,s.jsx)("div",{className:"text-[10px] text-gray-400 mb-2",children:"FEE TYPES"}),p.map(t=>{let a=e[t]||k.tickLabels;return(0,s.jsxs)("div",{className:"flex items-center mb-1.5",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-sm mr-1.5",style:{backgroundColor:a}}),(0,s.jsx)("span",{className:"text-[11px] text-gray-300",children:eD(t)})]},t)})]})]})})]})})()})]})};var D=a(13600),L=a(74537),M=a(76167),A=a(41865);let F=e=>{let{className:t="w-4 h-4"}=e;return(0,s.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},P={total_vote_transactions:w.Tj[0],total_non_vote_transactions:w.Tj[1],successful_transactions_perc:w.Tj[2],successful_non_vote_transactions_perc:w.Tj[3],total_tps:w.Tj[0],success_tps:w.Tj[2],failed_tps:w.Tj[4],real_tps:w.Tj[1],grid:w.Vg,axisLines:w.h5,tickLabels:w.Dc},E=(e,t)=>{if(0===e.length)return P;let a=[];("volume"===t||"all"===t||"success-volume"===t)&&a.push("total_vote_transactions","total_non_vote_transactions"),("success-rate"===t||"all"===t||"success-volume"===t)&&a.push("successful_transactions_perc","successful_non_vote_transactions_perc"),"tps"===t&&a.push("total_tps","success_tps","failed_tps","real_tps");let s={};a.forEach(t=>{s[t]=e.reduce((e,a)=>e+(Number(a[t])||0),0)});let r=[...a].sort((e,t)=>s[t]-s[e]),n=[w.Tj[0],w.Tj[1],w.Tj[2],w.Tj[3],w.Tj[4],w.Tj[5]],l={};return r.forEach((e,t)=>{l[e]=n[t%n.length]}),{...P,...l,grid:P.grid,axisLines:P.axisLines,tickLabels:P.tickLabels}},O=e=>{let{timeFilter:t,displayMode:a="absolute",isModalOpen:h=!1,onModalClose:f=()=>{},onTimeFilterChange:m,onDisplayModeChange:p,chartType:b="all"}=e,[j,S]=(0,r.useState)([]),[w,N]=(0,r.useState)(!0),[k,T]=(0,r.useState)(null),[C,O]=(0,r.useState)([]),[V,R]=(0,r.useState)(null),[W,U]=(0,r.useState)(!1),[B,Y]=(0,r.useState)(a),[q,z]=(0,r.useState)([]),[Q,G]=(0,r.useState)(!0),[$,I]=(0,r.useState)(null),[J,Z]=(0,r.useState)(t),[H,K]=(0,r.useState)(null),[X,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)([]),[es,er]=(0,r.useState)(B),[en,el]=(0,r.useState)({visible:!1,dataPoint:null,left:0,top:0}),eo=(0,r.useRef)(null),ec=(0,r.useRef)(!0),ei=(0,r.useRef)(null),eu=(0,r.useRef)(!0),ed=(0,r.useRef)(null),eh=(0,r.useRef)(null),ef=(0,r.useCallback)(async()=>{N(!0),T(null);try{console.log("Calling fetchTransactionsData with:",t);let e=await (0,A.fetchTransactionsData)(t);0===e.length?(console.error("No data available for this period"),T("No data available for this period."),S([])):(console.log("Fetched transaction data:",e),S(e),O(e),U(!0),R(null))}catch(t){console.error("[Chart] Error loading chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),T(e),S([]),O([])}finally{N(!1)}},[t]),em=(0,r.useCallback)(async()=>{G(!0),I(null);try{let e=await (0,A.fetchTransactionsData)(J);0===e.length?(I("No data available for this period."),z([]),ea([])):(z(e),ea(e),ee(!0),K(null))}catch(t){console.error("[Chart] Error loading modal chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),I(e),z([]),ea([])}finally{G(!1)}},[J]);(0,r.useEffect)(()=>{ef()},[ef]),(0,r.useEffect)(()=>{Y(a)},[a]),(0,r.useEffect)(()=>{h&&(Z(t),er(B),z(j),ea(C.length>0?C:j),K(V),ee(W),em())},[h,t,B,j,C,V,W,em]),(0,r.useEffect)(()=>{h&&em()},[h,J,em]);let ep=(0,r.useCallback)(e=>{if(!e){W&&(R(null),U(!1)),eo.current&&(clearTimeout(eo.current),eo.current=null,ec.current=!0);return}let{x0:t,x1:a}=e,s=new Date(t),r=new Date(a);!(isNaN(s.getTime())||isNaN(r.getTime()))&&(R([s,r]),W||U(!0))},[W]),e_=(0,r.useCallback)(e=>{if(!e){X&&(K(null),ee(!1)),ei.current&&(clearTimeout(ei.current),ei.current=null,eu.current=!0);return}let{x0:t,x1:a}=e,s=new Date(t),r=new Date(a);!(isNaN(s.getTime())||isNaN(r.getTime()))&&(K([s,r]),X||ee(!0))},[X]);(0,r.useEffect)(()=>{if(0===j.length){C.length>0&&O([]);return}if(!V&&W)return void O(j);if(!V||!W){C.length!==j.length&&O(j);return}if(!ec.current)return;let[e,t]=V,a=e.getTime(),s=t.getTime(),r=j.filter(e=>{let t=new Date(e.date).getTime();return t>=a&&t<=s});O(r.length>0?r:j),ec.current=!1,eo.current&&clearTimeout(eo.current),eo.current=setTimeout(()=>{ec.current=!0},100)},[V,j,W]),(0,r.useEffect)(()=>{if(0===q.length){et.length>0&&ea([]);return}if(!H&&X)return void ea(q);if(!H||!X){et.length!==q.length&&ea(q);return}if(!eu.current)return;let[e,t]=H,a=e.getTime(),s=t.getTime(),r=q.filter(e=>{let t=new Date(e.date).getTime();return t>=a&&t<=s});ea(r.length>0?r:q),eu.current=!1,ei.current&&clearTimeout(ei.current),ei.current=setTimeout(()=>{eu.current=!0},100)},[H,q,X]);let eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!j||0===j.length||!ed.current)return;let a=t?eh.current:ed.current;if(!a)return;let s=a.getBoundingClientRect(),r=e.clientX-s.left,n=e.clientY-s.top,l=t?X?et:q:W?C:j;if(0===l.length)return;let o={right:25,left:45},c=(s.width-o.left-o.right)/l.length,i=Math.min(Math.max(0,Math.floor((r-o.left)/c)),l.length-1);if(i<0||i>=l.length)return;let u=l[i];el({visible:!0,dataPoint:u,top:n,left:r+20})}catch(e){console.error("Error handling mouse movement:",e)}},ev=()=>{el(e=>({...e,visible:!1}))},ex=e=>{let t=[];return"volume"===b?t.push({color:P.total_vote_transactions,label:"Vote Transactions",value:eb(e.total_vote_transactions),shape:"square"},{color:P.total_non_vote_transactions,label:"Non-Vote Transactions",value:eb(e.total_non_vote_transactions),shape:"square"}):"success-rate"===b?t.push({color:P.successful_transactions_perc,label:"Success Rate",value:ey(e.successful_transactions_perc),shape:"circle"},{color:P.successful_non_vote_transactions_perc,label:"Non-Vote Success Rate",value:ey(e.successful_non_vote_transactions_perc),shape:"circle"}):"success-volume"===b?t.push({color:P.successful_transactions_perc,label:"Success Rate",value:ey(e.successful_transactions_perc),shape:"circle"},{color:P.successful_non_vote_transactions_perc,label:"Non-Vote Success Rate",value:ey(e.successful_non_vote_transactions_perc),shape:"circle"},{color:P.total_vote_transactions,label:"Vote Transactions",value:eb(e.total_vote_transactions),shape:"square"},{color:P.total_non_vote_transactions,label:"Non-Vote Transactions",value:eb(e.total_non_vote_transactions),shape:"square"}):"tps"===b&&t.push({color:P.total_tps,label:"Total TPS",value:eb(e.total_tps),shape:"square"},{color:P.success_tps,label:"Success TPS",value:eb(e.success_tps),shape:"square"},{color:P.failed_tps,label:"Failed TPS",value:eb(e.failed_tps),shape:"square"},{color:P.real_tps,label:"Real TPS",value:eb(e.real_tps),shape:"square"}),t},eb=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(0),ey=e=>"".concat(Math.round(e),"%"),ej=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),eS=function(e,a){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=r?J:t,f=r?q:j,m=r?X?et:q:W?C:j,p=r?Q:w,x=r?$:k,S=r?H:V,N=r?e_:ep,T=r?()=>{K(null),ee(!1)}:()=>{R(null),U(!1)},A=E(m,b);return p?(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsx)(_.A,{size:"sm"})}):x||0===f.length?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,s.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:x||"No data available"}),(0,s.jsx)(v.A,{onClick:r?em:()=>ef(),children:(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)(F,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Refresh"})]})})]}):(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[en.visible&&en.dataPoint&&(0,s.jsx)(g.A,{title:ej(en.dataPoint.date),items:ex(en.dataPoint),top:en.top,left:en.left,isModal:r}),(0,s.jsx)("div",{className:"h-[85%] w-full overflow-hidden relative",ref:r?eh:ed,onMouseMove:e=>eg(e,r),onMouseLeave:ev,children:(0,s.jsx)(n.A,{children:e=>{var t,a;let{width:r,height:n}=e;if(r<=0||n<=0)return null;let f={top:5,right:25,bottom:30,left:45},p=r-f.left-f.right,_=n-f.top-f.bottom;if(p<=0||_<=0)return null;console.log("Display data length:",m.length);let g=(0,i.A)({domain:[new Date((null==(t=m[0])?void 0:t.date)||new Date),new Date((null==(a=m[m.length-1])?void 0:a.date)||new Date)],range:[0,p]}),v="volume"===b||"all"===b||"success-volume"===b,x="success-rate"===b||"all"===b||"success-volume"===b,y="tps"===b,j=v?Math.max(...m.map(e=>Math.max(e.total_vote_transactions,e.total_non_vote_transactions))):0,S=(0,c.A)({domain:[0,1.1*j],range:[_,0],nice:!0,round:!1}),w=Array.from({length:8},(e,t)=>1.1*j*t/7),N=(0,c.A)({domain:[0,100],range:[_,0],nice:!0,round:!1}),k=Array.from({length:8},(e,t)=>100*t/7),T=y?Math.max(...m.map(e=>Math.max(e.total_tps,e.success_tps,e.failed_tps,e.real_tps))):0,C=(0,c.A)({domain:[0,1.1*T],range:[_,0],nice:!0,round:!1}),F=Array.from({length:8},(e,t)=>1.1*T*t/7);return(0,s.jsx)("svg",{width:r,height:n,children:(0,s.jsxs)(l.A,{left:f.left,top:f.top,children:[(0,s.jsx)(o.A,{scale:S,width:p,height:_,stroke:A.grid,strokeOpacity:.6,strokeDasharray:"2,3",tickValues:v?w:y?F:k}),v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>S(e.total_vote_transactions),stroke:A.total_vote_transactions,strokeWidth:1.5,curve:M.G}),(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>S(e.total_non_vote_transactions),stroke:A.total_non_vote_transactions,strokeWidth:1.5,curve:M.G})]}),x&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>N(e.successful_transactions_perc),stroke:A.successful_transactions_perc,strokeWidth:1.5,curve:M.G}),(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>N(e.successful_non_vote_transactions_perc),stroke:A.successful_non_vote_transactions_perc,strokeWidth:1.5,curve:M.G})]}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>C(e.total_tps),stroke:A.total_tps,strokeWidth:1.5,curve:M.G}),(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>C(e.success_tps),stroke:A.success_tps,strokeWidth:1.5,curve:M.G}),(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>C(e.failed_tps),stroke:A.failed_tps,strokeWidth:1.5,curve:M.G}),(0,s.jsx)(D.A,{data:m,x:e=>g(new Date(e.date)),y:e=>C(e.real_tps),stroke:A.real_tps,strokeWidth:1.5,curve:M.G})]}),v&&(0,s.jsx)(u.A,{scale:S,left:0,tickFormat:e=>eb(e),stroke:A.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickLabelProps:()=>({fill:A.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"-0.6em",dy:"0.25em"})}),x&&(0,s.jsx)(L.A,{scale:N,left:p,tickFormat:e=>"".concat(e,"%"),stroke:A.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickLabelProps:()=>({fill:A.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"start",dx:"0.5em",dy:"0.25em"})}),y&&(0,s.jsx)(u.A,{scale:C,left:0,tickFormat:e=>eb(e),stroke:A.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickLabelProps:()=>({fill:A.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"-0.6em",dy:"0.25em"})}),(0,s.jsx)(d.A,{top:_,scale:g,tickFormat:e=>{switch(h){case"Y":return e.getFullYear().toString();case"Q":return"Q".concat(Math.floor(e.getMonth()/3)+1);case"M":return e.toLocaleDateString("en-US",{month:"short"});default:return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},stroke:A.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,numTicks:Math.min(5,m.length),tickLabelProps:(e,t)=>({fill:A.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"middle",dy:"0.7em"})})]})})}})}),(0,s.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,s.jsx)(y.A,{data:f,isModal:r,activeBrushDomain:S,onBrushChange:N,onClearBrush:T,getDate:e=>e.date,getValue:e=>"tps"===b?e.total_tps:"success-rate"===b?e.successful_transactions_perc:e.total_vote_transactions+e.total_non_vote_transactions,lineColor:A.total_vote_transactions,margin:{top:5,right:25,bottom:10,left:45}})})]})};return(0,s.jsxs)("div",{className:"relative h-full",children:[eS(0,0),(0,s.jsx)(x.A,{isOpen:h,onClose:f,title:"Transaction Metrics",subtitle:"".concat("volume"===b?"Volume Metrics":"success-rate"===b?"Success Rate Metrics":"success-volume"===b?"Success Rate and Volume Metrics":"tps"===b?"TPS Metrics":"Transaction Metrics"),children:(0,s.jsx)("div",{className:"h-[60vh]",children:(0,s.jsxs)("div",{className:"flex h-full",children:[(0,s.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900",children:eS(0,0,!0)}),(0,s.jsx)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:ex({date:"",total_transactions:0,successful_transactions:0,failed_transactions:0,total_vote_transactions:0,total_non_vote_transactions:0,successful_vote_transactions:0,successful_non_vote_transactions:0,failed_vote_transactions:0,failed_non_vote_transactions:0,successful_transactions_perc:0,non_vote_transactions_perc:0,successful_non_vote_transactions_perc:0,total_tps:0,success_tps:0,failed_tps:0,real_tps:0,total_fees:0,non_vote_transactions_fees:0,vote_transactions_fees:0,priority_fees:0}).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center mb-1.5",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 mr-1.5 ".concat("circle"===e.shape?"rounded-full":"rounded-sm"),style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"text-[11px] text-gray-300",children:e.label})]},t))})]})})})]})};var V=a(21903),R=a(96565);let W=["base_fee","priority_fee","jito_total_tips","vote_fees"],U=[{key:"successful_transactions_perc",label:"Success Rate",shape:"circle",color:P.successful_transactions_perc},{key:"successful_non_vote_transactions_perc",label:"Non-Vote Success Rate",shape:"circle",color:P.successful_non_vote_transactions_perc},{key:"total_vote_transactions",label:"Vote Transactions",shape:"square",color:P.total_vote_transactions},{key:"total_non_vote_transactions",label:"Non-Vote Transactions",shape:"square",color:P.total_non_vote_transactions}],B=[{key:"total_tps",label:"Total TPS",shape:"square",color:"#60a5fa"},{key:"success_tps",label:"Success TPS",shape:"square",color:"#34d399"},{key:"failed_tps",label:"Failed TPS",shape:"square",color:"#f43f5e"},{key:"real_tps",label:"Real TPS",shape:"square",color:"#a78bfa"}];function Y(){let[e,t]=(0,r.useState)("D"),[n,l]=(0,r.useState)("USD"),[o,c]=(0,r.useState)("absolute"),[i,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)("M"),[p,_]=(0,r.useState)("absolute"),[g,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[w,N]=(0,r.useState)("M"),[T,D]=(0,r.useState)("absolute"),[L,M]=(0,r.useState)(!1),[A,F]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),Y=async()=>{if(!P){E(!0);try{let t=await h(e,n);if(0===t.length){console.error("No cost capacity data available for download"),alert("No data available to download. Please try a different time range.");return}let a=["Date,Base Fee,Priority Fee,Jito MEV Tips,Vote Fees",...t.map(t=>[m(t.date,e),t.base_fee,t.priority_fee,t.jito_total_tips,t.vote_fees].join(","))].join("\n"),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),l=document.createElement("a"),o="USD"===n?"usd":"sol",c="solana_transaction_fees_".concat(e,"_").concat(o,"_").concat(new Date().toISOString().split("T")[0],".csv");l.setAttribute("href",r),l.setAttribute("download",c),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Error downloading Cost Capacity data:",e),alert("Failed to download data. Please try again.")}finally{E(!1)}}},q=async()=>{if(!x){y(!0);try{let{fetchTransactionsData:e}=await Promise.resolve().then(a.bind(a,41865)),t=await e(d);if(0===t.length){console.error("No transaction data available for download"),alert("No data available to download. Please try a different time range.");return}let s=["Date,Success Rate (%),Non-Vote Success Rate (%),Vote Transactions,Non-Vote Transactions",...t.map(e=>[m(e.date,d),e.successful_transactions_perc.toFixed(2),e.successful_non_vote_transactions_perc.toFixed(2),e.total_vote_transactions,e.total_non_vote_transactions].join(","))].join("\n"),r=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),l=document.createElement("a"),o="solana_transaction_volume_".concat(d,"_").concat(new Date().toISOString().split("T")[0],".csv");l.setAttribute("href",n),l.setAttribute("download",o),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Error downloading Transaction Success & Volume data:",e),alert("Failed to download data. Please try again.")}finally{y(!1)}}},z=async()=>{if(!A){F(!0);try{let{fetchTransactionsData:e}=await Promise.resolve().then(a.bind(a,41865)),t=await e(w);if(0===t.length){console.error("No TPS metrics data available for download"),alert("No data available to download. Please try a different time range.");return}let s=["Date,Total TPS,Success TPS,Failed TPS,Real TPS",...t.map(e=>[m(e.date,w),e.total_tps.toFixed(2),e.success_tps.toFixed(2),e.failed_tps.toFixed(2),e.real_tps.toFixed(2)].join(","))].join("\n"),r=new Blob([s],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),l=document.createElement("a"),o="solana_tps_metrics_".concat(w,"_").concat(new Date().toISOString().split("T")[0],".csv");l.setAttribute("href",n),l.setAttribute("download",o),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Error downloading TPS Metrics data:",e),alert("Failed to download data. Please try again.")}finally{F(!1)}}},Q=e=>{switch(e){case"base_fee":return"Base Fee";case"priority_fee":return"Priority Fee";case"jito_total_tips":return"Jito MEV Tips";case"vote_fees":return"Vote Fees";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(V.A,{title:"Transaction Fees",description:"Tracking different fee components in Solana ecosystem",accentColor:"blue",onExpandClick:()=>u(!0),onDownloadClick:Y,isDownloading:P,filterBar:(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,s.jsx)(b.A,{value:e,onChange:e=>t(e),options:[{value:"D",label:"D"},{value:"W",label:"W"},{value:"M",label:"M"},{value:"Q",label:"Q"},{value:"Y",label:"Y"}]}),(0,s.jsx)(j.A,{currency:n,onChange:e=>l(e),isCompact:!0}),(0,s.jsx)(S.A,{mode:o,onChange:e=>c(e),isCompact:!0})]}),legend:W.map(e=>(0,s.jsx)(R.A,{label:Q(e),color:k[e]||"#ccc",shape:"square"},e)),children:(0,s.jsx)(C,{timeFilter:e,currencyFilter:n,displayMode:o,isModalOpen:i,onModalClose:()=>u(!1),onTimeFilterChange:t,onCurrencyChange:l,onDisplayModeChange:c})}),(0,s.jsx)(V.A,{title:"Transaction Success & Volume",description:"Success rates and transaction volumes",accentColor:"blue",onExpandClick:()=>v(!0),onDownloadClick:q,isDownloading:x,legend:U.map(e=>(0,s.jsx)(R.A,{label:e.label,color:e.color,shape:"circle"===e.shape?"circle":"square"},e.key)),children:(0,s.jsx)(O,{timeFilter:d,displayMode:p,isModalOpen:g,onModalClose:()=>v(!1),onTimeFilterChange:f,onDisplayModeChange:_,chartType:"success-volume"})}),(0,s.jsx)(V.A,{title:"TPS Metrics",description:"Transactions per second over time",accentColor:"purple",onExpandClick:()=>M(!0),onDownloadClick:z,isDownloading:A,legend:B.map(e=>(0,s.jsx)(R.A,{label:e.label,color:e.color,shape:"circle"===e.shape?"circle":"square"},e.key)),children:(0,s.jsx)(O,{timeFilter:w,displayMode:T,isModalOpen:L,onModalClose:()=>M(!1),onTimeFilterChange:N,onDisplayModeChange:D,chartType:"tps"})})]})}},37918:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(95155);a(12115);let r={D:"D",M:"M",Q:"Q",Y:"Y",W:"W"},n=function(e){let{value:t,onChange:a,options:n}=e,l=n||["D","M","Q","Y"].map(e=>({value:e,label:r[e]}));return(0,s.jsx)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:l.map(e=>(0,s.jsx)("button",{onClick:()=>a(e.value),className:"px-0 py-0.5 text-xs font-medium rounded transition-colors min-w-[25px] ".concat(t===e.value?"bg-gray-800 text-white shadow":"bg-transparent text-gray-400 hover:text-gray-200"),children:e.label},e.value))})}},41865:(e,t,a)=>{"use strict";async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"M";try{var t,a;console.log("Fetching transaction data with timeFilter:",e);let s=await fetch("".concat("https://analytics.topledger.xyz/tl/api/queries/13210/results.json","?api_key=").concat("YDy7XJllrBVuLP5gf1Tx5MclZNpS4euKeyli2Lz6"));if(!s.ok)throw Error("API request failed: ".concat(s.status));let r=(null==(a=(await s.json()).query_result)||null==(t=a.data)?void 0:t.rows)||[];if(!r||0===r.length)return console.warn("No transaction data returned from API"),[];let n=r.map(e=>({date:e.block_date,total_transactions:Number(e.Total_Transactions)||0,successful_transactions:Number(e.Succeessful_Transactions)||0,failed_transactions:Number(e.Failed_Transactions)||0,total_vote_transactions:Number(e.Total_Vote_Transactions)||0,total_non_vote_transactions:Number(e.Total_Non_Vote_Transactions)||0,successful_vote_transactions:Number(e.Successful_Vote_Transactions)||0,successful_non_vote_transactions:Number(e.Successful_Non_Vote_Transactions)||0,failed_vote_transactions:Number(e.Failed_Vote_Transactions)||0,failed_non_vote_transactions:Number(e.Failed_Non_Vote_Transactions)||0,successful_transactions_perc:parseFloat(e.Succeesful_Transactions_perc)||0,non_vote_transactions_perc:parseFloat(e.Non_Vote_Transactions_perc)||0,successful_non_vote_transactions_perc:parseFloat(e.Successful_Non_Vote_Transactiosn_perc)||0,total_tps:Number(e.Total_TPS)||0,success_tps:Number(e.Success_TPS)||0,failed_tps:Number(e.Failed_TPS)||0,real_tps:Number(e.Real_TPS)||0,total_fees:Number(e.Total_Fees)||0,non_vote_transactions_fees:Number(e.Non_Vote_Transactions_Fees)||0,vote_transactions_fees:Number(e.Vote_Transactions_Fees)||0,priority_fees:Number(e.Priority_Fees)||0}));return n.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),n}catch(e){return console.error("Error fetching transaction data:",e),[]}}a.d(t,{fetchTransactionsData:()=>s})},60308:(e,t,a)=>{Promise.resolve().then(a.bind(a,34373))},74537:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(12115),r=a(29300),n=a.n(r),l=a(14945),o=a(2758),c=["axisClassName","labelOffset","tickLength","tickLabelProps"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}var u={dx:"0.25em",dy:"0.25em",fill:"#222",fontFamily:"Arial",fontSize:10,textAnchor:"start"};function d(e){var t=e.axisClassName,a=e.labelOffset,r=e.tickLength,d=e.tickLabelProps,h=function(e,t){if(null==e)return{};var a,s,r={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,c),f="function"==typeof d?d:i({},u,d);return s.createElement(l.A,i({axisClassName:n()("visx-axis-right",t),labelOffset:void 0===a?36:a,orientation:o.A.right,tickLabelProps:f,tickLength:void 0===r?8:r},h))}},81838:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(95155);a(12115);let r=e=>{let{type:t,color:a}=e;return"circle"===t?(0,s.jsx)("div",{className:"h-2 w-2 rounded-full mr-1.5",style:{backgroundColor:a}}):(0,s.jsx)("div",{className:"h-2 w-2 rounded-sm mr-1.5",style:{backgroundColor:a}})},n=(e,t)=>{if(/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d{2}\/\d{2}\/\d{4}/.test(e)){let a=new Date(e);if(!isNaN(a.getTime())){if("W"===t)return"Week of ".concat(a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}));if("M"===t)return a.toLocaleDateString("en-US",{month:"short",year:"numeric"});if("Q"===t){let e=Math.floor(a.getMonth()/3)+1;return"Q".concat(e,", ").concat(a.getFullYear())}else if("Y"===t)return a.getFullYear().toString();return a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}}return/^[A-Za-z]{3}\s\d{4}$/.test(e)||/^Q[1-4]\s\d{4}$/.test(e)||/^\d{4}$/.test(e),e},l=(e,t)=>{if("string"==typeof e){if(t){let a={USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",CNY:"\xa5",SOL:"SOL"},s=a[t]||t;if("SOL"===t){if(e.includes("SOL"))return e;for(let[t,s]of Object.entries(a))if("SOL"!==t&&e.startsWith(s))return"".concat(e.substring(s.length)," SOL");return"".concat(e," SOL")}for(let[r,n]of Object.entries(a))if(e.startsWith(n)&&r!==t)return e.replace(n,s)}return e}if("number"==typeof e){if(t)switch(t){case"USD":return"$".concat(e.toLocaleString());case"EUR":return"€".concat(e.toLocaleString());case"GBP":return"\xa3".concat(e.toLocaleString());case"JPY":case"CNY":return"\xa5".concat(e.toLocaleString());case"SOL":return"".concat(e.toLocaleString()," SOL");default:return"".concat(t).concat(e.toLocaleString())}return e.toLocaleString()}return String(e)},o=e=>{let{title:t,items:a,top:o,left:c,isModal:i=!1,timeFilter:u,currencyFilter:d}=e,h=a.some(e=>e.axis),f=n(t,u);return(0,s.jsxs)("div",{className:"absolute z-10 pointer-events-none bg-gray-900/95 shadow-lg border border-gray-800 rounded-md p-2 text-xs min-w-[120px]",style:{top:"".concat(o,"px"),left:c>(i?500:250)?"".concat(c-160,"px"):"".concat(c+10,"px"),transform:"translateY(-100%)"},children:[(0,s.jsx)("div",{className:"text-gray-400 text-[10px] font-normal pb-1 mb-1 border-b border-gray-800",children:f}),(0,s.jsx)("div",{className:"space-y-1",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,s.jsx)(r,{type:e.shape||"circle",color:e.color}),(0,s.jsx)("span",{className:"text-gray-400 font-normal ml-2",children:e.label}),h&&e.axis&&(0,s.jsxs)("span",{className:"ml-1 text-[9px] text-gray-500",children:["(",e.axis," axis)"]})]}),(0,s.jsx)("span",{className:"text-gray-300 font-normal ml-4",children:l(e.value,d)})]},"tooltip-item-".concat(t)))})]})}},85204:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(95155);a(12115);let r=e=>{let{mode:t,onChange:a,isCompact:r=!1}=e;return(0,s.jsxs)("div",{className:"flex items-center",children:[!r&&(0,s.jsx)("span",{className:"text-xs text-gray-400"}),(0,s.jsxs)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:[(0,s.jsx)("button",{className:"text-xs px-1.5 py-1 rounded ".concat("absolute"===t?"bg-gray-800 text-white shadow":"text-gray-400 hover:text-gray-300"),onClick:()=>a("absolute"),title:"Chart View",children:(0,s.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{x:"3",y:"3",width:"4",height:"18",rx:"1",fill:"currentColor"}),(0,s.jsx)("rect",{x:"10",y:"8",width:"4",height:"13",rx:"1",fill:"currentColor"}),(0,s.jsx)("rect",{x:"17",y:"5",width:"4",height:"16",rx:"1",fill:"currentColor"})]})}),(0,s.jsx)("button",{className:"text-xs px-1.5 py-0.5 rounded ".concat("percent"===t?"bg-gray-800 text-white shadow":"text-gray-400 hover:text-gray-300"),onClick:()=>a("percent"),title:"Percent View",children:"%"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4410,5083,166,1182,5955,4685,3414,8441,1684,7358],()=>t(60308)),_N_E=e.O()}]);