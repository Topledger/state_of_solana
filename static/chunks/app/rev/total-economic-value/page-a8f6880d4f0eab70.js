(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3833],{7545:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(95155);a(12115);let l=e=>{let{onClick:t,children:a,className:l="",disabled:o=!1}=e;return(0,r.jsx)("button",{onClick:t,disabled:o,className:"\n        px-2 py-1 \n        bg-gray-800/20 hover:bg-gray-700/20 \n        text-gray-200/80 \n        rounded \n        text-xs leading-relaxed tracking-wide\n        transition-colors duration-200 \n        border border-gray-700/40 \n        flex items-center justify-center\n        disabled:opacity-50 disabled:pointer-events-none\n        ".concat(l,"\n      "),children:a})}},16852:(e,t,a)=>{"use strict";async function r(){try{console.log("Fetching economic value chart data");let e=await fetch("https://analytics.topledger.xyz/tl/api/queries/12261/results.json?api_key=pwtF5dJZGAA47aSxonN2thOIiO3OssMFxpdcH8B1",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw console.error("API request failed with status: ".concat(e.status)),Error("API request failed with status: ".concat(e.status));let t=await e.json();if(!t.query_result||!t.query_result.data||!t.query_result.data.rows)throw console.error("Invalid API response structure:",t),Error("Invalid API response structure");return t.query_result.data.rows.map(e=>({year:e.year,real_economic_value:e.real_economic_value||0,total_economic_value:e.total_economic_value||0,real_economic_value_usd:e.real_economic_value_usd||0,total_economic_value_usd:e.total_economic_value_usd||0})).sort((e,t)=>e.year-t.year)}catch(e){throw console.error("Error fetching economic value chart data:",e),e}}a.d(t,{fetchEconomicValueChartData:()=>r})},16945:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155),l=a(12115),o=a(51078);function n(e){let{columns:t,data:a,keyExtractor:n,isLoading:s=!1,error:i=null,noDataMessage:c="No data available",initialSortColumn:u,initialSortDirection:d="asc",className:m="",containerClassName:h="overflow-x-auto",headerClassName:_="bg-gray-900/50",rowClassName:f=e=>e%2==0?"bg-black/30":"bg-gray-900/10",cellClassName:v="px-3 py-2 text-[11px] text-gray-300",loadingComponent:x,errorComponent:y}=e,[g,p]=(0,l.useState)(u),[b,j]=(0,l.useState)(d),w=(0,l.useMemo)(()=>g&&a.length?[...a].sort((e,t)=>{let a=e[g],r=t[g];return void 0===a&&void 0===r?0:void 0===a?"asc"===b?1:-1:void 0===r?"asc"===b?-1:1:"string"==typeof a&&"string"==typeof r?"asc"===b?a.localeCompare(r):r.localeCompare(a):"asc"===b?a>r?1:-1:a<r?1:-1}):a,[a,g,b]),N=e=>{if(!e.sortable)return;let t=e.key;g===t?j("asc"===b?"desc":"asc"):(p(t),j("asc"))},k=e=>e.sortable&&g===e.key?(0,r.jsx)("span",{className:"ml-1 text-blue-400",children:"asc"===b?"↑":"↓"}):null;return s?x||(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(o.A,{size:"sm"})}):i?y||(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("p",{className:"text-red-400 text-[12px]",children:i})}):a.length?(0,r.jsx)("div",{className:h,children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-800 ".concat(m),children:[(0,r.jsx)("thead",{className:_,children:(0,r.jsx)("tr",{children:t.map(e=>(0,r.jsxs)("th",{className:"text-".concat(e.align||"left"," text-[10px] font-medium text-gray-400 uppercase tracking-wider px-3 py-2 ").concat(e.sortable?"cursor-pointer hover:text-gray-200 transition-colors":""),onClick:()=>e.sortable&&N(e),children:[e.header,k(e)]},e.key))})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-800/50",children:w.map((e,a)=>(0,r.jsx)("tr",{className:f(a),children:t.map(t=>(0,r.jsx)("td",{className:"".concat(v," ").concat("right"===t.align?"text-right":"center"===t.align?"text-center":"text-left"),children:t.render?t.render(e):e[t.key]},"".concat(n(e),"-").concat(t.key)))},n(e)))})]})}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("p",{className:"text-gray-400 text-[12px]",children:c})})}},26960:(e,t,a)=>{Promise.resolve().then(a.bind(a,65240))},37918:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155);a(12115);let l={D:"D",M:"M",Q:"Q",Y:"Y",W:"W"},o=function(e){let{value:t,onChange:a,options:o}=e,n=o||["D","M","Q","Y"].map(e=>({value:e,label:l[e]}));return(0,r.jsx)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:n.map(e=>(0,r.jsx)("button",{onClick:()=>a(e.value),className:"px-0 py-0.5 text-xs font-medium rounded transition-colors min-w-[25px] ".concat(t===e.value?"bg-gray-800 text-white shadow":"bg-transparent text-gray-400 hover:text-gray-200"),children:e.label},e.value))})}},45191:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(28749),l=a(95442),o=(0,a(70222).A)("domain","range","reverse","align","padding","round");function n(e){return o(function e(){var t,a,o=(0,l.A)().unknown(void 0),n=o.domain,s=o.range,i=0,c=1,u=!1,d=0,m=0,h=.5;function _(){var e=n().length,r=c<i,l=r?c:i,o=r?i:c;t=(o-l)/Math.max(1,e-d+2*m),u&&(t=Math.floor(t)),l+=(o-l-t*(e-d))*h,a=t*(1-d),u&&(l=Math.round(l),a=Math.round(a));var _=(function(e,t,a){e*=1,t*=1,a=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+a;for(var r=-1,l=0|Math.max(0,Math.ceil((t-e)/a)),o=Array(l);++r<l;)o[r]=e+r*a;return o})(e).map(function(e){return l+t*e});return s(r?_.reverse():_)}return delete o.unknown,o.domain=function(e){return arguments.length?(n(e),_()):n()},o.range=function(e){return arguments.length?([i,c]=e,i*=1,c*=1,_()):[i,c]},o.rangeRound=function(e){return[i,c]=e,i*=1,c*=1,u=!0,_()},o.bandwidth=function(){return a},o.step=function(){return t},o.round=function(e){return arguments.length?(u=!!e,_()):u},o.padding=function(e){return arguments.length?(d=Math.min(1,m=+e),_()):d},o.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),_()):d},o.paddingOuter=function(e){return arguments.length?(m=+e,_()):m},o.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),_()):h},o.copy=function(){return e(n(),[i,c]).round(u).paddingInner(d).paddingOuter(m).align(h)},r.C.apply(_(),arguments)}(),e)}},52594:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,B:()=>s});var r=a(95155),l=a(12115),o=a(47650),n=a(51078);let s=e=>{let{title:t,items:a,maxHeight:l=600,maxItems:o=28}=e,n=a.length>o;return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[t&&(0,r.jsx)("div",{className:"text-[10px] text-gray-400 mb-2 uppercase",children:t}),(0,r.jsx)("div",{style:{maxHeight:n?"".concat(l,"px"):"none"},className:"flex flex-col gap-3 pr-1 ".concat(n?"overflow-y-auto \n          [&::-webkit-scrollbar]:w-1.5 \n          [&::-webkit-scrollbar-track]:bg-transparent \n          [&::-webkit-scrollbar-thumb]:bg-gray-700/40\n          [&::-webkit-scrollbar-thumb]:rounded-full\n          [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60\n          scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40":""),children:a.map(e=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"min-w-2 w-2 h-2 mr-1.5 rounded-sm mt-0 flex-shrink-0",style:{backgroundColor:e.color}}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-[11px] text-gray-300 leading-none",children:e.label}),e.value&&(0,r.jsx)("span",{className:"text-[10px] text-gray-500",children:e.value})]})]},e.id))})]})},i=e=>{let{isOpen:t,onClose:a,children:s,title:i,subtitle:c,isLoading:u=!1}=e,d=(0,l.useRef)(null);return((0,l.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&a()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[t,a]),t)?o.createPortal((0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm modal-backdrop",children:(0,r.jsxs)("div",{ref:d,className:"relative bg-black/80 border border-gray-900 rounded-xl p-4 w-11/12 max-w-7xl flex flex-col shadow-xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-gray-900",children:[(0,r.jsxs)("div",{children:[i&&(0,r.jsx)("h2",{className:"text-[16px] font-medium text-gray-100",children:i}),c&&(0,r.jsx)("p",{className:"text-gray-500 text-[12px] tracking-wide mt-1",children:c})]}),(0,r.jsx)("button",{onClick:a,className:"bg-gray-800 hover:bg-gray-700 rounded-full p-1.5 text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,r.jsxs)("div",{className:"flex-1 relative",children:[s,u&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-10 rounded-md",children:(0,r.jsx)(n.A,{size:"md"})})]})]})}),document.body):null}},65240:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var r=a(95155),l=a(12115);async function o(){try{console.log("Fetching economic value data...");let e=await fetch("".concat("https://analytics.topledger.xyz/tl/api/queries/12258/results.json","?api_key=").concat("zVcf4W7XBKoMwpOrZ8qfJKBn2vIUhn77XN1FUMr6"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw console.error("API request failed with status ".concat(e.status)),Error("API request failed with status ".concat(e.status));let t=await e.json();if(!t.query_result||!t.query_result.data||!t.query_result.data.rows)throw console.error("Unexpected API response structure"),Error("API response missing expected data structure");let a=t.query_result.data.rows;if(console.log("Received ".concat(a.length," rows of data")),0===a.length)return console.warn("No data returned from API"),[];return a.map(e=>({year:e.year||0,quarter:e.quarter||0,base_fee:Number(e.base_fee||0),priority_fee:Number(e.priority_fee||0),vote_fees:Number(e.vote_fees||0),total_jito_tips:Number(e.total_jito_tips||0),real_economic_value:Number(e.real_economic_value||0),sol_issuance:Number(e.sol_issuance||0),total_economic_value:Number(e.total_economic_value||0),base_fee_usd:Number(e.base_fee_usd||0),priority_fee_usd:Number(e.priority_fee_usd||0),vote_fees_usd:Number(e.vote_fees_usd||0),total_jito_tips_usd:Number(e.total_jito_tips_usd||0),sol_issuance_usd:Number(e.sol_issuance_usd||0),real_economic_value_usd:Number(e.real_economic_value_usd||0),total_economic_value_usd:Number(e.total_economic_value_usd||0)})).sort((e,t)=>e.year!==t.year?t.year-e.year:t.quarter-e.quarter)}catch(e){return console.error("Error fetching economic value data:",e),[]}}async function n(){try{console.log("Fetching yearly economic value data...");let e=await fetch("".concat("https://analytics.topledger.xyz/tl/api/queries/12261/results.json","?api_key=").concat("pwtF5dJZGAA47aSxonN2thOIiO3OssMFxpdcH8B1"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw console.error("API request failed with status ".concat(e.status)),Error("API request failed with status ".concat(e.status));let t=await e.json();if(!t.query_result||!t.query_result.data||!t.query_result.data.rows)throw console.error("Unexpected API response structure"),Error("API response missing expected data structure");let a=t.query_result.data.rows;if(console.log("Received ".concat(a.length," rows of yearly data")),0===a.length)return console.warn("No yearly data returned from API"),[];return a.map(e=>({year:e.year||0,base_fee:Number(e.base_fee||0),priority_fee:Number(e.priority_fee||0),vote_fees:Number(e.vote_fees||0),total_jito_tips:Number(e.total_jito_tips||0),real_economic_value:Number(e.real_economic_value||0),sol_issuance:Number(e.sol_issuance||0),total_economic_value:Number(e.total_economic_value||0),base_fee_usd:Number(e.base_fee_usd||0),priority_fee_usd:Number(e.priority_fee_usd||0),vote_fees_usd:Number(e.vote_fees_usd||0),total_jito_tips_usd:Number(e.total_jito_tips_usd||0),sol_issuance_usd:Number(e.sol_issuance_usd||0),real_economic_value_usd:Number(e.real_economic_value_usd||0),total_economic_value_usd:Number(e.total_economic_value_usd||0)})).sort((e,t)=>t.year-e.year)}catch(e){return console.error("Error fetching yearly economic value data:",e),[]}}var s=a(53728),i=a(37918),c=a(79111),u=a(41995),d=a(50109),m=a(45191),h=a(4904),_=a(58888),f=a(72630),v=a(71734),x=a(16852),y=a(51078),g=a(81838),p=a(7545),b=a(52594);let j=e=>{let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},w={real_economic_value_sol:"#9F7AEA",total_economic_value_sol:"#10B981",real_economic_value_usd:"#8B5CF6",total_economic_value_usd:"#0EA5E9",grid:"#1f2937",axisLines:"#374151",tickLabels:"#6b7280",background:"rgba(255, 255, 255, 0.05)"},N=["real_economic_value","total_economic_value"],k=e=>{switch(e){case"real_economic_value":return"Real Economic Value";case"total_economic_value":return"Total Economic Value";default:return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}},S=(e,t)=>{if(0===e.length)return w;let a={};N.forEach(r=>{a[r]=e.reduce((e,a)=>e+(Number("USD"===t?a["".concat(r,"_usd")]:a["".concat(r,"_sol")])||0),0)});let r=[...N].sort((e,t)=>a[t]-a[e]),l="USD"===t?["#0EA5E9","#8B5CF6"]:["#10B981","#9F7AEA"],o={...w};return r.forEach((e,a)=>{"USD"===t?"real_economic_value"===e?o.real_economic_value_usd=l[a%l.length]:"total_economic_value"===e&&(o.total_economic_value_usd=l[a%l.length]):"real_economic_value"===e?o.real_economic_value_sol=l[a%l.length]:"total_economic_value"===e&&(o.total_economic_value_sol=l[a%l.length])}),o},A=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(a.length>0){let r=S(a,t);if("real_economic_value"===e)return"USD"===t?r.real_economic_value_usd:r.real_economic_value_sol;if("total_economic_value"===e)return"USD"===t?r.total_economic_value_usd:r.total_economic_value_sol}else if("real_economic_value"===e)return"USD"===t?w.real_economic_value_usd:w.real_economic_value_sol;else if("total_economic_value"===e)return"USD"===t?w.total_economic_value_usd:w.total_economic_value_sol;return"#cccccc"};function D(e){var t;let{currency:a,isModalOpen:o=!1,onModalClose:n=()=>{},onCurrencyChange:i}=e,[D,E]=(0,l.useState)([]),[C,L]=(0,l.useState)(!0),[U,q]=(0,l.useState)(null),[M,O]=(0,l.useState)([]),[F,P]=(0,l.useState)(!0),[I,R]=(0,l.useState)(null),[V,Y]=(0,l.useState)(a),[B,T]=(0,l.useState)({visible:!1,dataPoint:null,left:0,top:0}),z=(0,l.useRef)(null),W=(0,l.useRef)(null),Q=(0,l.useCallback)(async()=>{L(!0),q(null);try{let e=await (0,x.fetchEconomicValueChartData)();E(e)}catch(e){console.error("Error loading economic value chart data:",e),q("Failed to load chart data"),E([])}finally{L(!1)}},[]),$=(0,l.useCallback)(async()=>{P(!0),R(null);try{let e=await (0,x.fetchEconomicValueChartData)();O(e)}catch(e){console.error("Error loading modal economic value chart data:",e),R("Failed to load chart data"),O([])}finally{P(!1)}},[]);(0,l.useEffect)(()=>{Q()},[Q]),(0,l.useEffect)(()=>{o&&(Y(a),O(D),$())},[o,a,D,$]);let G=(0,l.useCallback)((e,t)=>{if("USD"===t)if(e>=1e9)return"$".concat((e/1e9).toFixed(1),"B");else if(e>=1e6)return"$".concat((e/1e6).toFixed(1),"M");else return"$".concat(e.toFixed(0));return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toFixed(1)},[]),J=(0,l.useCallback)(function(e){var t,a;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=null==(t=(r?W:z).current)?void 0:t.getBoundingClientRect();if(!l)return;let o=e.clientX-l.left,n=e.clientY-l.top,s={left:70,right:30},i=l.width-s.left-s.right;if(o<s.left||o>i+s.left){B.visible&&T(e=>({...e,visible:!1}));return}let c=r?M:D,u=i/c.length,d=Math.floor((o-s.left)/u);if(d>=0&&d<c.length){let e=c[d];B.visible&&(null==(a=B.dataPoint)?void 0:a.year)===e.year||T({visible:!0,dataPoint:e,left:o,top:n-10})}},[D,M,B.visible,null==(t=B.dataPoint)?void 0:t.year]),H=(0,l.useCallback)(()=>{B.visible&&T(e=>({...e,visible:!1}))},[B.visible]),Z=(0,l.useCallback)(e=>{Y(e),i&&i(e)},[i]),K=(0,l.useCallback)((e,t)=>A(e,t),[]),X=function(e,t){var l;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=o?M:D,s=o?V:a,i=o?F:C,x=o?I:U;return(S(n,s),N.map(e=>"".concat(e,"_").concat(s.toLowerCase())),i)?(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(y.A,{size:"sm"})}):x||0===n.length?(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,r.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:x||"No data available"}),(0,r.jsx)(p.A,{onClick:o?$:Q,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(j,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Refresh"})]})})]}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[B.visible&&B.dataPoint&&(0,r.jsx)(g.A,{title:"Year: ".concat((null==(l=B.dataPoint)?void 0:l.year)||""),items:N.map(e=>{if(!B.dataPoint)return{color:"#ccc",label:"",value:"",shape:"square"};let t="".concat(e,"_").concat(s.toLowerCase());return{color:A(e,s,n),label:k(e),value:G(Number(B.dataPoint[t]),s),shape:"square"}}),top:B.top,left:B.left,isModal:o}),(0,r.jsx)("div",{className:"h-full w-full overflow-hidden relative ".concat(o?"pt-2":""),ref:o?W:z,onMouseMove:e=>J(e,o),onMouseLeave:H,children:(0,r.jsx)(c.A,{children:e=>{let{width:t,height:a}=e;if(t<=0||a<=0)return null;let l={top:20,right:30,bottom:40,left:70},o=t-l.left-l.right,i=a-l.top-l.bottom;if(o<=0||i<=0)return null;let c=(0,m.A)({domain:n.map(e=>e.year.toString()),range:[0,o],padding:.35}),x=Math.max(...n.map(e=>"USD"===s?Math.max(e.total_economic_value_usd,e.real_economic_value_usd):Math.max(e.total_economic_value,e.real_economic_value))),y=(0,h.A)({domain:[0,1.15*x],range:[i,0],nice:!0});return(0,r.jsx)("svg",{width:t,height:a,children:(0,r.jsxs)(u.A,{left:l.left,top:l.top,children:[(0,r.jsx)("rect",{x:0,y:0,width:o,height:i,fill:"transparent",rx:4}),(0,r.jsx)(d.A,{scale:y,width:o,height:i,stroke:w.grid,strokeOpacity:.5,strokeDasharray:"2,3",numTicks:6}),n.map((e,t)=>{var a;let l=c.bandwidth(),o=c(e.year.toString())||0,n=B.visible&&(null==(a=B.dataPoint)?void 0:a.year)===e.year?1:.75;return(0,r.jsxs)("g",{children:[(0,r.jsx)(v.A,{x:o,y:y("USD"===s?e.real_economic_value_usd:e.real_economic_value),width:.45*l,height:i-y("USD"===s?e.real_economic_value_usd:e.real_economic_value),fill:K("real_economic_value",s),rx:4,opacity:n}),(0,r.jsx)(v.A,{x:o+.55*l,y:y("USD"===s?e.total_economic_value_usd:e.total_economic_value),width:.45*l,height:i-y("USD"===s?e.total_economic_value_usd:e.total_economic_value),fill:K("total_economic_value",s),rx:4,opacity:n})]},"bar-group-".concat(t))}),(0,r.jsx)(_.A,{scale:y,stroke:w.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:6,tickFormat:e=>G(e,s),label:s,labelProps:{fill:w.tickLabels,fontSize:11,textAnchor:"middle",dy:-40,dx:-45},tickLabelProps:()=>({fill:w.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"-0.6em",dy:"0.25em"})}),(0,r.jsx)(f.A,{top:i,scale:c,stroke:w.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,tickLabelProps:()=>({fill:w.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"middle",dy:"0.5em"})})]})})}})})]})};return(0,r.jsxs)("div",{className:"h-full w-full relative",children:[X(0,0),(0,r.jsxs)(b.A,{isOpen:o,onClose:n,title:"Economic Value",subtitle:"Real vs Total Economic Value in the Solana Ecosystem",children:[(0,r.jsx)("div",{className:"flex items-center justify-between pl-1 py-0 mb-3",children:(0,r.jsx)("div",{className:"flex space-x-4 items-center",children:(0,r.jsx)(s.A,{currency:V,onChange:e=>Z(e)})})}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,r.jsx)("div",{className:"h-[65vh]",children:(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)("div",{className:"w-[86%] h-full pr-4 border-r border-gray-900",children:X(0,0,!0)}),(0,r.jsx)("div",{className:"w-[14%] h-full pl-4 flex flex-col justify-start items-start",children:N.map(e=>(0,r.jsxs)("div",{className:"flex items-center mb-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-sm mr-1.5",style:{backgroundColor:A(e,V,M)}}),(0,r.jsx)("span",{className:"text-[11px] text-gray-300",children:k(e)})]},e))})]})})]})]})}var E=a(21903),C=a(96565),L=a(16945);function U(){let[e,t]=(0,l.useState)([]),[c,u]=(0,l.useState)(!0),[d,m]=(0,l.useState)(null),[h,_]=(0,l.useState)([]),[f,v]=(0,l.useState)(!0),[x,y]=(0,l.useState)(null),[g,p]=(0,l.useState)("USD"),[b,j]=(0,l.useState)("USD"),[w,S]=(0,l.useState)(!1),[U,q]=(0,l.useState)("Y"),[M,O]=(0,l.useState)("year"),[F,P]=(0,l.useState)("desc"),[I,R]=(0,l.useState)(!1),V=async()=>{if(!w){S(!0);try{let{fetchEconomicValueChartData:e}=await Promise.resolve().then(a.bind(a,16852)),t=await e();if(0===t.length){console.error("No economic value data available for download"),alert("No data available to download.");return}let r=["Year,Real Economic Value (SOL),Total Economic Value (SOL),Real Economic Value (USD),Total Economic Value (USD)",...t.map(e=>[e.year,e.real_economic_value,e.total_economic_value,e.real_economic_value_usd,e.total_economic_value_usd].join(","))].join("\n"),l=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(l),n=document.createElement("a"),s="solana_economic_value_".concat(b,"_").concat(new Date().toISOString().split("T")[0],".csv");n.setAttribute("href",o),n.setAttribute("download",s),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){console.error("Error downloading economic value data:",e),alert("Failed to download data. Please try again.")}finally{S(!1)}}};(0,l.useEffect)(()=>{!async function(){u(!0),m(null);try{let e=await o();t(e)}catch(e){console.error("Error loading quarterly economic value data:",e),m("Failed to load quarterly economic value data")}finally{u(!1)}}()},[]),(0,l.useEffect)(()=>{!async function(){v(!0),y(null);try{let e=await n();_(e)}catch(e){console.error("Error loading yearly economic value data:",e),y("Failed to load yearly economic value data")}finally{v(!1)}}()},[]);let Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(e)};(0,l.useMemo)(()=>h.length?[...h].sort((e,t)=>{let a="USD"===g?"_usd":"",r="quarter"===M?M:M.includes("_")?"".concat(M).concat(a):M,l=e[r],o=t[r];return"asc"===F?l>o?1:-1:l<o?1:-1}):[],[h,M,F,g]),(0,l.useMemo)(()=>e.length?[...e].sort((e,t)=>{if("year"===M&&"desc"===F)return e.year!==t.year?t.year-e.year:t.quarter-e.quarter;if("year"===M&&"asc"===F)return e.year!==t.year?e.year-t.year:e.quarter-t.quarter;if("quarter"===M)return e.year!==t.year?"desc"===F?t.year-e.year:e.year-t.year:"desc"===F?t.quarter-e.quarter:e.quarter-t.quarter;let a="USD"===g?"_usd":"",r=M.includes("_")?"".concat(M).concat(a):M,l=e[r],o=t[r];return"asc"===F?l>o?1:-1:l<o?1:-1}):[],[e,M,F,g]);let B=(0,l.useMemo)(()=>[{key:"year",header:"Year",sortable:!0,align:"left"},{key:"base_fee",header:"Base Fee",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.base_fee_usd,!0):Y(e.base_fee)},{key:"priority_fee",header:"Priority Fee",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.priority_fee_usd,!0):Y(e.priority_fee)},{key:"vote_fees",header:"Vote Fees",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.vote_fees_usd,!0):Y(e.vote_fees)},{key:"total_jito_tips",header:"Jito Tips",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.total_jito_tips_usd,!0):Y(e.total_jito_tips)},{key:"sol_issuance",header:"SOL Issuance",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.sol_issuance_usd,!0):Y(e.sol_issuance)},{key:"real_economic_value",header:"Real Economic Value",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.real_economic_value_usd,!0):Y(e.real_economic_value)},{key:"total_economic_value",header:"Total Economic Value",sortable:!0,align:"right",render:e=>(0,r.jsx)("span",{className:"font-medium text-gray-100",children:"USD"===g?Y(e.total_economic_value_usd,!0):Y(e.total_economic_value)})}],[g]),T=(0,l.useMemo)(()=>[{key:"year",header:"Year",sortable:!0,align:"left"},{key:"quarter",header:"Quarter",sortable:!0,align:"left",render:e=>"Q".concat(e.quarter)},{key:"base_fee",header:"Base Fee",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.base_fee_usd,!0):Y(e.base_fee)},{key:"priority_fee",header:"Priority Fee",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.priority_fee_usd,!0):Y(e.priority_fee)},{key:"vote_fees",header:"Vote Fees",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.vote_fees_usd,!0):Y(e.vote_fees)},{key:"total_jito_tips",header:"Jito Tips",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.total_jito_tips_usd,!0):Y(e.total_jito_tips)},{key:"sol_issuance",header:"SOL Issuance",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.sol_issuance_usd,!0):Y(e.sol_issuance)},{key:"real_economic_value",header:"Real Economic Value",sortable:!0,align:"right",render:e=>"USD"===g?Y(e.real_economic_value_usd,!0):Y(e.real_economic_value)},{key:"total_economic_value",header:"Total Economic Value",sortable:!0,align:"right",render:e=>(0,r.jsx)("span",{className:"font-medium text-gray-100",children:"USD"===g?Y(e.total_economic_value_usd,!0):Y(e.total_economic_value)})}],[g]);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(E.A,{title:"Total Economic Value",description:"Yearly economic value of Solana",accentColor:"blue",onExpandClick:()=>R(!0),onDownloadClick:V,isDownloading:w,filterBar:(0,r.jsx)(s.A,{currency:b,onChange:e=>j(e),isCompact:!0}),legend:N.map(e=>(0,r.jsx)(C.A,{label:k(e),color:A(e,b),shape:"square"},e)),children:(0,r.jsx)(D,{currency:b,isModalOpen:I,onModalClose:()=>R(!1),onCurrencyChange:e=>j(e)})}),(0,r.jsxs)("div",{className:"bg-black/80 backdrop-blur-sm p-4 rounded-xl border border-gray-900 shadow-lg hover:shadow-blue-900/20 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("div",{className:"-mt-1",children:[(0,r.jsx)("h2",{className:"text-[12px] font-normal text-gray-300 leading-tight mb-0.5",children:"Total Economic Value Data"}),(0,r.jsx)("p",{className:"text-gray-500 text-[10px] tracking-wide",children:"Detailed analysis of Solana's economic value"})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)("button",{className:"p-1.5 bg-blue-500/10 rounded-md text-blue-400 hover:bg-blue-500/20 transition-colors ".concat(w?"opacity-50 cursor-not-allowed":""),onClick:V,title:"Download CSV",disabled:w,children:w?(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})})]}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pl-1 py-2 overflow-x-auto",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsx)(i.A,{value:U,onChange:e=>q(e),options:[{value:"Q",label:"Q"},{value:"Y",label:"Y"}]})}),(0,r.jsx)(s.A,{currency:g,onChange:e=>p(e),isCompact:!0})]}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),"Y"===U?(0,r.jsx)(L.A,{columns:B,data:h,keyExtractor:e=>e.year.toString(),isLoading:f,error:x,noDataMessage:"No yearly economic value data available",initialSortColumn:"year",initialSortDirection:"desc"}):(0,r.jsx)(L.A,{columns:T,data:e,keyExtractor:e=>"".concat(e.year,"-Q").concat(e.quarter),isLoading:c,error:d,noDataMessage:"No quarterly economic value data available",initialSortColumn:"year",initialSortDirection:"desc"})]})]})}},71734:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(12115),l=a(29300),o=a.n(l),n=["className","innerRef"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function i(e){var t=e.className,a=e.innerRef,l=function(e,t){if(null==e)return{};var a,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,n);return r.createElement("rect",s({ref:a,className:o()("visx-bar",t)},l))}},81838:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(95155);a(12115);let l=e=>{let{type:t,color:a}=e;return"circle"===t?(0,r.jsx)("div",{className:"h-2 w-2 rounded-full mr-1.5",style:{backgroundColor:a}}):(0,r.jsx)("div",{className:"h-2 w-2 rounded-sm mr-1.5",style:{backgroundColor:a}})},o=(e,t)=>{if(/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d{2}\/\d{2}\/\d{4}/.test(e)){let a=new Date(e);if(!isNaN(a.getTime())){if("W"===t)return"Week of ".concat(a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}));if("M"===t)return a.toLocaleDateString("en-US",{month:"short",year:"numeric"});if("Q"===t){let e=Math.floor(a.getMonth()/3)+1;return"Q".concat(e,", ").concat(a.getFullYear())}else if("Y"===t)return a.getFullYear().toString();return a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}}return/^[A-Za-z]{3}\s\d{4}$/.test(e)||/^Q[1-4]\s\d{4}$/.test(e)||/^\d{4}$/.test(e),e},n=(e,t)=>{if("string"==typeof e){if(t){let a={USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",CNY:"\xa5",SOL:"SOL"},r=a[t]||t;if("SOL"===t){if(e.includes("SOL"))return e;for(let[t,r]of Object.entries(a))if("SOL"!==t&&e.startsWith(r))return"".concat(e.substring(r.length)," SOL");return"".concat(e," SOL")}for(let[l,o]of Object.entries(a))if(e.startsWith(o)&&l!==t)return e.replace(o,r)}return e}if("number"==typeof e){if(t)switch(t){case"USD":return"$".concat(e.toLocaleString());case"EUR":return"€".concat(e.toLocaleString());case"GBP":return"\xa3".concat(e.toLocaleString());case"JPY":case"CNY":return"\xa5".concat(e.toLocaleString());case"SOL":return"".concat(e.toLocaleString()," SOL");default:return"".concat(t).concat(e.toLocaleString())}return e.toLocaleString()}return String(e)},s=e=>{let{title:t,items:a,top:s,left:i,isModal:c=!1,timeFilter:u,currencyFilter:d}=e,m=a.some(e=>e.axis),h=o(t,u);return(0,r.jsxs)("div",{className:"absolute z-10 pointer-events-none bg-gray-900/95 shadow-lg border border-gray-800 rounded-md p-2 text-xs min-w-[120px]",style:{top:"".concat(s,"px"),left:i>(c?500:250)?"".concat(i-160,"px"):"".concat(i+10,"px"),transform:"translateY(-100%)"},children:[(0,r.jsx)("div",{className:"text-gray-400 text-[10px] font-normal pb-1 mb-1 border-b border-gray-800",children:h}),(0,r.jsx)("div",{className:"space-y-1",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,r.jsx)(l,{type:e.shape||"circle",color:e.color}),(0,r.jsx)("span",{className:"text-gray-400 font-normal ml-2",children:e.label}),m&&e.axis&&(0,r.jsxs)("span",{className:"ml-1 text-[9px] text-gray-500",children:["(",e.axis," axis)"]})]}),(0,r.jsx)("span",{className:"text-gray-300 font-normal ml-4",children:n(e.value,d)})]},"tooltip-item-".concat(t)))})]})}},95442:(e,t,a)=>{"use strict";a.d(t,{A:()=>function e(){var t=new r,a=[],l=[],o=s;function i(e){let r=t.get(e);if(void 0===r){if(o!==s)return o;t.set(e,r=a.push(e)-1)}return l[r%l.length]}return i.domain=function(e){if(!arguments.length)return a.slice();for(let l of(a=[],t=new r,e))t.has(l)||t.set(l,a.push(l)-1);return i},i.range=function(e){return arguments.length?(l=Array.from(e),i):l.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(a,l).unknown(o)},n.C.apply(i,arguments),i}});class r extends Map{constructor(e,t=o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,a]of e)this.set(t,a)}get(e){return super.get(l(this,e))}has(e){return super.has(l(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},a){let r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},a){let r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}(this,e))}}function l({_intern:e,_key:t},a){let r=t(a);return e.has(r)?e.get(r):a}function o(e){return null!==e&&"object"==typeof e?e.valueOf():e}var n=a(28749);let s=Symbol("implicit")}},e=>{var t=t=>e(e.s=t);e.O(0,[4410,166,3414,8441,1684,7358],()=>t(26960)),_N_E=e.O()}]);