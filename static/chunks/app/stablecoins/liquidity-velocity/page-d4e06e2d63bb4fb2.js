(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4771],{10255:(e,t,l)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),l(95155),l(47650),l(85744),l(20589)},14468:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>M});var a=l(95155),n=l(12115),r=l(21903),s=l(96565),o=l(55028),i=l(53728),c=l(79111),d=l(30832),u=l(4904),f=l(76167),h=l(13600),m=l(41995),x=l(72630),p=l(58888),g=l(50109),b=l(43356),v=l(51078),S=l(7545),j=l(52594),y=l(42028);let w=e=>({USDC:"#2775ca",USDT:"#26a17b",PYUSD:"#0f4af0",EURC:"#0258fc",EUROe:"#1e3da0",USDe:"#8c8c8c",USDY:"#fa7a35",sUSD:"#6b7280",USDS:"#34d399",FDUSD:"#10b981",AUSD:"#f97316",USDG:"#f59e0b"})[e]||"#6b7280",k=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e<1?e.toFixed(4):e.toFixed(2),_=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),A=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USDC";try{var t,l,a;let n=await fetch("https://analytics.topledger.xyz/tl/api/queries/12899/results?api_key=PDO9L8zUfu9YfUaqvNXTW13Zwz9jJiYYB2HmjAyN",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parameters:{mint_name:e}}),cache:"no-store"});if(!n.ok)throw Error("Failed to fetch data: ".concat(n.status," ").concat(n.statusText));let r=await n.json();console.log("API Response structure:",JSON.stringify(Object.keys(r||{})));let s=[];if((null==r||null==(l=r.query_result)||null==(t=l.data)?void 0:t.rows)&&Array.isArray(r.query_result.data.rows))s=r.query_result.data.rows;else if((null==r?void 0:r.rows)&&Array.isArray(r.rows))s=r.rows;else{if(!((null==r||null==(a=r.data)?void 0:a.rows)&&Array.isArray(r.data.rows)))return console.error("Unexpected API response format:",r),[];s=r.data.rows}return s.map(t=>({block_date:t.block_date||"",mint_name:t.mint_name||e,Avg_P2P_Transfer_Size:Number(t.Avg_P2P_Transfer_Size)||0,Median_P2P_Transfer_Size:Number(t.Median_P2P_Transfer_Size)||0,date:t.block_date?new Date(t.block_date):new Date})).sort((e,t)=>{var l,a;return((null==(l=e.date)?void 0:l.getTime())||0)-((null==(a=t.date)?void 0:a.getTime())||0)})}catch(e){return console.error("[P2PTransferSizeData] Error fetching data:",e),console.error("[P2PTransferSizeData] Error details:",e instanceof Error?e.message:String(e)),[]}};var N=l(60194),C=l(59722);let D=e=>{let{className:t="w-4 h-4"}=e;return(0,a.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},P=e=>{let{stablecoin:t,isModalOpen:l=!1,onModalClose:r=()=>{}}=e,[o,P]=(0,n.useState)([]),[T,U]=(0,n.useState)(!0),[O,E]=(0,n.useState)(null),[M,z]=(0,n.useState)([]),[L,R]=(0,n.useState)(null),[F,B]=(0,n.useState)(null),[I,W]=(0,n.useState)(null),Y=(0,n.useRef)(null),q=(0,n.useRef)(null),[G,H]=(0,n.useState)(!1),[V,J]=(0,n.useState)(null),[Z,X]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(null),[$,ee]=(0,n.useState)(t),[et,el]=(0,n.useState)([]),[ea,en]=(0,n.useState)(null),[er,es]=(0,n.useState)(!0),eo=(0,n.useCallback)(async()=>{U(!0),E(null);try{let e=await A(t);if(0===e.length)E("No data available."),P([]),z([]);else{let t=e.map(e=>({...e,date:e.date||new Date(e.block_date)}));P(t),z(t),H(!1),J(null)}}catch(t){console.error("[AvgTransferSizeChart] Error loading chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),E(e),P([]),z([])}finally{U(!1)}},[t]),ei=(0,n.useCallback)(async()=>{es(!0),en(null);try{let e=await A($);if(0===e.length)en("No data available."),el([]);else{let t=e.map(e=>({...e,date:e.date||new Date(e.block_date)}));el(t),X(!1),Q(null)}}catch(t){console.error("[AvgTransferSizeChart] Error loading modal chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),en(e),el([])}finally{es(!1)}},[$]);(0,n.useEffect)(()=>{eo()},[eo]),(0,n.useEffect)(()=>{if(0===o.length){M.length>0&&z([]);return}if(!V&&G)return void z(o);if(!V||!G){M.length!==o.length&&z(o);return}let[e,t]=V,l=o.filter(l=>{let a=l.date;return a&&a>=e&&a<=t});z(l.length>0?l:o)},[V,o,G,M.length]),(0,n.useEffect)(()=>{l||ee(t)},[t,l]),(0,n.useEffect)(()=>{l&&(ee(t),o.length>0?(el(o),es(!1),en(null),X(!1),Q(null)):ei())},[l,t,o,ei]),(0,n.useEffect)(()=>{l&&(Q(V),X(G))},[l,V,G]),(0,n.useEffect)(()=>{l&&ei()},[$,l,ei]);let ec=(0,n.useCallback)(e=>{if(!e){G&&(J(null),H(!1));return}let{x0:t,x1:l}=e;J([new Date(t),new Date(l)]),G||H(!0)},[G]),ed=(0,n.useCallback)(e=>{if(!e){Z&&(Q(null),X(!1));return}let{x0:t,x1:l}=e;Q([new Date(t),new Date(l)]),Z||X(!0)},[Z]),eu=(0,n.useCallback)((e,t)=>{if(!t||0===e.length)return e;let[l,a]=t,n=e.filter(e=>e.date&&e.date>=l&&e.date<=a);return n.length>0?n:e},[]),ef=(0,n.useCallback)(e=>{ee(e)},[]),eh=(0,n.useCallback)((e,t,l,a,n,r)=>{let{x:s}=(0,C.A)(e)||{x:0},o=l.invert(s-n.left),i=null,c=1/0;if(t.forEach(e=>{if(e&&"object"==typeof e&&e.date){let t=Math.abs(e.date.getTime()-o.getTime());t<c&&(c=t,i=e)}}),i){let e=i;R({date:e.date,stablecoin:r,avgTransferSize:e.Avg_P2P_Transfer_Size,color:w(r)}),B(l(e.date)+n.left),W(a(e.Avg_P2P_Transfer_Size)+n.top)}else R(null),B(null),W(null)},[]),em=function(e,l){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?$:t,s=n?et:o,i=n?K:V,j=n?Z:G,A=n?er:T,C=n?ea:O,P=j?eu(s,i):s;return A?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(v.A,{size:"sm"})}):C||0===s.length?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,a.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:C||"No data available"}),(0,a.jsx)(S.A,{onClick:n?ei:eo,children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(D,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:"Refresh"})]})})]}):(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"h-[85%] w-full overflow-hidden relative",ref:n?q:Y,children:(0,a.jsx)(c.A,{children:e=>{let{width:t,height:l}=e;if(t<=0||l<=0)return null;let n={top:10,right:20,bottom:50,left:60},s=t-n.left-n.right,o=l-n.top-n.bottom;if(s<=0||o<=0)return null;if(0===P.length)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{className:"text-gray-400/80 text-xs",children:"No data available for the selected time range"})});let i=(0,N.A)(P,e=>e.date),c=(0,d.A)({domain:i,range:[0,s]}),v=Math.max(...P.map(e=>e.Avg_P2P_Transfer_Size)),S=(0,u.A)({domain:[0,1.1*v],range:[o,0],nice:!0}),j=w(r);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{width:t,height:l,children:(0,a.jsxs)(m.A,{left:n.left,top:n.top,children:[(0,a.jsx)(g.A,{scale:S,width:s,stroke:"#1f2937",strokeOpacity:.5,strokeDasharray:"2,3"}),P.length>0&&(0,a.jsx)(h.A,{data:P,x:e=>c(e.date||new Date),y:e=>S(e.Avg_P2P_Transfer_Size),stroke:j,strokeWidth:2.5,strokeOpacity:.8,curve:f.G}),(0,a.jsx)(x.A,{top:o,scale:c,stroke:"#374151",strokeWidth:.5,tickStroke:"transparent",hideAxisLine:!1,tickLength:0,numTicks:t<500?5:10,tickLabelProps:()=>({fill:"#6b7280",fontSize:11,fontWeight:300,textAnchor:"middle",dy:"0.5em"}),tickFormat:e=>e.toLocaleDateString("en-US",{month:"numeric",year:"2-digit"})}),(0,a.jsx)(p.A,{scale:S,stroke:"#374151",strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,numTicks:5,tickFormat:e=>k(e),tickLabelProps:()=>({fill:"#6b7280",fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dy:"0.33em",dx:"-0.5em"})}),(0,a.jsx)("rect",{width:s,height:o,fill:"transparent",onMouseMove:e=>eh(e,P,c,S,n,r),onMouseLeave:()=>{R(null),B(null),W(null)}})]})}),L&&null!=F&&null!=I&&(0,a.jsxs)(b.A,{left:F,top:I,style:{...b.k,backgroundColor:"#1f2937",color:"white",border:"1px solid #374151",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,a.jsx)("div",{className:"text-xs font-medium mb-1",children:_(L.date.toISOString())}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L.color}}),(0,a.jsx)("div",{className:"text-xs",children:L.stablecoin}),(0,a.jsx)("div",{className:"text-xs font-medium",children:k(L.avgTransferSize)})]})]})]})}})}),(0,a.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,a.jsx)(c.A,{children:e=>{let{width:t,height:l}=e;return t<=0||l<=0?null:(0,a.jsx)(y.A,{data:s,isModal:n,activeBrushDomain:i,onBrushChange:n?ed:ec,onClearBrush:()=>{n?(Q(null),X(!1)):(J(null),H(!1))},getDate:e=>e.date.toISOString(),getValue:e=>e.Avg_P2P_Transfer_Size,lineColor:w(r),margin:{top:5,right:20,bottom:10,left:60}})}})})]})};return(0,a.jsxs)("div",{className:"h-full w-full relative",children:[em(0,0),(0,a.jsxs)(j.A,{isOpen:l,onClose:r,title:"Average P2P Transfer Size",subtitle:"".concat($," average peer-to-peer transfer size over time"),children:[(0,a.jsx)("div",{className:"flex items-center justify-start pl-1 py-0 mb-3",children:(0,a.jsx)(i.A,{currency:$,options:["USDC","USDT","PYUSD","EURC","EUROe","USDe","USDY","sUSD","USDS","FDUSD","AUSD","USDG"],onChange:ef,isCompact:!0,label:"Stablecoin"})}),(0,a.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,a.jsx)("div",{className:"h-[70vh]",children:(0,a.jsxs)("div",{className:"flex h-full",children:[(0,a.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900",children:em(0,0,!0)}),(0,a.jsxs)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-400 mb-2",children:"STABLECOIN"}),er?(0,a.jsx)(s.A,{label:"Loading...",color:w($),isLoading:!0}):(0,a.jsx)(s.A,{label:$,color:w($),shape:"square"},$)]})]})})]})]})},T=e=>{let{className:t="w-4 h-4"}=e;return(0,a.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},U=e=>{let{stablecoin:t,isModalOpen:l=!1,onModalClose:r=()=>{}}=e,[o,D]=(0,n.useState)([]),[P,U]=(0,n.useState)(!0),[O,E]=(0,n.useState)(null),[M,z]=(0,n.useState)([]),[L,R]=(0,n.useState)(null),[F,B]=(0,n.useState)(null),[I,W]=(0,n.useState)(null),Y=(0,n.useRef)(null),q=(0,n.useRef)(null),[G,H]=(0,n.useState)(!1),[V,J]=(0,n.useState)(null),[Z,X]=(0,n.useState)(!1),[K,Q]=(0,n.useState)(null),[$,ee]=(0,n.useState)(t),[et,el]=(0,n.useState)([]),[ea,en]=(0,n.useState)(null),[er,es]=(0,n.useState)(!0),eo=(0,n.useCallback)(async()=>{U(!0),E(null);try{let e=await A(t);if(0===e.length)E("No data available."),D([]),z([]);else{let t=e.map(e=>({...e,date:e.date||new Date(e.block_date)}));D(t),z(t),H(!1),J(null)}}catch(t){console.error("[MedianTransferSizeChart] Error loading chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),E(e),D([]),z([])}finally{U(!1)}},[t]),ei=(0,n.useCallback)(async()=>{es(!0),en(null);try{let e=await A($);if(0===e.length)en("No data available."),el([]);else{let t=e.map(e=>({...e,date:e.date||new Date(e.block_date)}));el(t),X(!1),Q(null)}}catch(t){console.error("[MedianTransferSizeChart] Error loading modal chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),en(e),el([])}finally{es(!1)}},[$]);(0,n.useEffect)(()=>{eo()},[eo]),(0,n.useEffect)(()=>{if(0===o.length){M.length>0&&z([]);return}if(!V&&G)return void z(o);if(!V||!G){M.length!==o.length&&z(o);return}let[e,t]=V,l=o.filter(l=>{let a=l.date;return a&&a>=e&&a<=t});z(l.length>0?l:o)},[V,o,G,M.length]),(0,n.useEffect)(()=>{l||ee(t)},[t,l]),(0,n.useEffect)(()=>{l&&(ee(t),o.length>0?(el(o),es(!1),en(null),X(!1),Q(null)):ei())},[l,t,o,ei]),(0,n.useEffect)(()=>{l&&(Q(V),X(G))},[l,V,G]),(0,n.useEffect)(()=>{l&&ei()},[$,l,ei]);let ec=(0,n.useCallback)(e=>{if(!e){G&&(J(null),H(!1));return}let{x0:t,x1:l}=e;J([new Date(t),new Date(l)]),G||H(!0)},[G]),ed=(0,n.useCallback)(e=>{if(!e){Z&&(Q(null),X(!1));return}let{x0:t,x1:l}=e;Q([new Date(t),new Date(l)]),Z||X(!0)},[Z]),eu=(0,n.useCallback)((e,t)=>{if(!t||0===e.length)return e;let[l,a]=t,n=e.filter(e=>e.date&&e.date>=l&&e.date<=a);return n.length>0?n:e},[]),ef=(0,n.useCallback)(e=>{ee(e)},[]),eh=(0,n.useCallback)((e,t,l,a,n,r)=>{let{x:s}=(0,C.A)(e)||{x:0},o=l.invert(s-n.left),i=null,c=1/0;if(t.forEach(e=>{if(e&&"object"==typeof e&&e.date){let t=Math.abs(e.date.getTime()-o.getTime());t<c&&(c=t,i=e)}}),i){let e=i;R({date:e.date,stablecoin:r,medianTransferSize:e.Median_P2P_Transfer_Size,color:w(r)}),B(l(e.date)+n.left),W(a(e.Median_P2P_Transfer_Size)+n.top)}else R(null),B(null),W(null)},[]),em=function(e,l){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?$:t,s=n?et:o,i=n?K:V,j=n?Z:G,w=n?er:P,A=n?ea:O,C=j?eu(s,i):s;return w?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(v.A,{size:"sm"})}):A||0===s.length?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,a.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:A||"No data available"}),(0,a.jsx)(S.A,{onClick:n?ei:eo,children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(T,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{children:"Refresh"})]})})]}):(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"h-[85%] w-full overflow-hidden relative",ref:n?q:Y,children:(0,a.jsx)(c.A,{children:e=>{let{width:t,height:l}=e;if(t<=0||l<=0)return null;let n={top:10,right:20,bottom:50,left:60},s=t-n.left-n.right,o=l-n.top-n.bottom;if(s<=0||o<=0)return null;if(0===C.length)return(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("div",{className:"text-gray-400/80 text-xs",children:"No data available for the selected time range"})});let i=(0,N.A)(C,e=>e.date),c=(0,d.A)({domain:i,range:[0,s]}),v=Math.max(...C.map(e=>e.Median_P2P_Transfer_Size)),S=(0,u.A)({domain:[0,1.1*v],range:[o,0],nice:!0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{width:t,height:l,children:(0,a.jsxs)(m.A,{left:n.left,top:n.top,children:[(0,a.jsx)(g.A,{scale:S,width:s,stroke:"#1f2937",strokeOpacity:.5,strokeDasharray:"2,3"}),C.length>0&&(0,a.jsx)(h.A,{data:C,x:e=>c(e.date||new Date),y:e=>S(e.Median_P2P_Transfer_Size),stroke:"#f97316",strokeWidth:2.5,strokeOpacity:.8,curve:f.G}),(0,a.jsx)(x.A,{top:o,scale:c,stroke:"#374151",strokeWidth:.5,tickStroke:"transparent",hideAxisLine:!1,tickLength:0,numTicks:t<500?5:10,tickLabelProps:()=>({fill:"#6b7280",fontSize:11,fontWeight:300,textAnchor:"middle",dy:"0.5em"}),tickFormat:e=>e.toLocaleDateString("en-US",{month:"numeric",year:"2-digit"})}),(0,a.jsx)(p.A,{scale:S,stroke:"#374151",strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,numTicks:5,tickFormat:e=>k(e),tickLabelProps:()=>({fill:"#6b7280",fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dy:"0.33em",dx:"-0.5em"})}),(0,a.jsx)("rect",{width:s,height:o,fill:"transparent",onMouseMove:e=>eh(e,C,c,S,n,r),onMouseLeave:()=>{R(null),B(null),W(null)}})]})}),L&&null!=F&&null!=I&&(0,a.jsxs)(b.A,{left:F,top:I,style:{...b.k,backgroundColor:"#1f2937",color:"white",border:"1px solid #374151",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:[(0,a.jsx)("div",{className:"text-xs font-medium mb-1",children:_(L.date.toISOString())}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:L.color}}),(0,a.jsx)("div",{className:"text-xs",children:L.stablecoin}),(0,a.jsx)("div",{className:"text-xs font-medium",children:k(L.medianTransferSize)})]})]})]})}})}),(0,a.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,a.jsx)(c.A,{children:e=>{let{width:t,height:l}=e;return t<=0||l<=0?null:(0,a.jsx)(y.A,{data:s,isModal:n,activeBrushDomain:i,onBrushChange:n?ed:ec,onClearBrush:()=>{n?(Q(null),X(!1)):(J(null),H(!1))},getDate:e=>e.date.toISOString(),getValue:e=>e.Median_P2P_Transfer_Size,lineColor:"#f97316",margin:{top:5,right:20,bottom:10,left:60}})}})})]})};return(0,a.jsxs)("div",{className:"h-full w-full relative",children:[em(0,0),(0,a.jsxs)(j.A,{isOpen:l,onClose:r,title:"Median P2P Transfer Size",subtitle:"".concat($," median peer-to-peer transfer size over time"),children:[(0,a.jsx)("div",{className:"flex items-center justify-start pl-1 py-0 mb-3",children:(0,a.jsx)(i.A,{currency:$,options:["USDC","USDT","PYUSD","EURC","EUROe","USDe","USDY","sUSD","USDS","FDUSD","AUSD","USDG"],onChange:ef,isCompact:!0,label:"Stablecoin"})}),(0,a.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,a.jsx)("div",{className:"h-[70vh]",children:(0,a.jsxs)("div",{className:"flex h-full",children:[(0,a.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900",children:em(0,0,!0)}),(0,a.jsxs)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-400 mb-2",children:"STABLECOIN"}),er?(0,a.jsx)(s.A,{label:"Loading...",color:"#f97316",isLoading:!0}):(0,a.jsx)(s.A,{label:$,color:"#f97316",shape:"square"},$)]})]})})]})]})},O=(0,o.default)(()=>l.e(7701).then(l.bind(l,7701)),{loadableGenerated:{webpack:()=>[7701]},ssr:!1}),E=(0,o.default)(()=>l.e(7763).then(l.bind(l,27763)),{loadableGenerated:{webpack:()=>[27763]},ssr:!1});function M(){let[e,t]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),[m,x]=(0,n.useState)("USDC"),[p,g]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[S,j]=(0,n.useState)([]),[y,w]=(0,n.useState)([]),k=["USDC","USDT","PYUSD","EURC","EUROe","USDe","USDY","sUSD","USDS","FDUSD","AUSD","USDG"],_=e=>{console.log("Currency changed from",m,"to",e),x(e)},A=async()=>{if(!p){g(!0);try{let{fetchLiquidityVelocityData:e,formatNumber:t}=await l.e(8483).then(l.bind(l,58483)),a=await e();if(0===a.length){console.error("No stablecoin velocity data available for download"),alert("No data available to download.");return}let n=[...new Set(a.map(e=>e.mint_name))],r=["Month",...n],s=a.reduce((e,t)=>(e[t.month]||(e[t.month]={month:t.month},n.forEach(l=>e[t.month][l]=0)),e[t.month][t.mint_name]=t.velocity,e),{}),o=[r.join(","),...Object.values(s).map(e=>[e.month,...n.map(t=>e[t]||0)].join(","))].join("\n"),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(i),d=document.createElement("a"),u="solana_stablecoin_velocity_".concat(new Date().toISOString().split("T")[0],".csv");d.setAttribute("href",c),d.setAttribute("download",u),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(e){console.error("Error downloading stablecoin velocity data:",e),alert("Failed to download data. Please try again.")}finally{g(!1)}}},N=async()=>{if(!b){v(!0);try{let{fetchLiquidityVelocityData:e,formatNumber:t}=await l.e(8483).then(l.bind(l,58483)),a=await e();if(0===a.length){console.error("No stablecoin P2P velocity data available for download"),alert("No data available to download.");return}let n=[...new Set(a.map(e=>e.mint_name))],r=["Month",...n],s=a.reduce((e,t)=>(e[t.month]||(e[t.month]={month:t.month},n.forEach(l=>e[t.month][l]=0)),e[t.month][t.mint_name]=t.p2p_velocity,e),{}),o=[r.join(","),...Object.values(s).map(e=>[e.month,...n.map(t=>e[t]||0)].join(","))].join("\n"),i=new Blob([o],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(i),d=document.createElement("a"),u="solana_stablecoin_p2p_velocity_".concat(new Date().toISOString().split("T")[0],".csv");d.setAttribute("href",c),d.setAttribute("download",u),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(e){console.error("Error downloading stablecoin P2P velocity data:",e),alert("Failed to download data. Please try again.")}finally{v(!1)}}},C=e=>void 0===e?"":new Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsx)("div",{className:"flex space-x-4 items-center",children:(0,a.jsx)(i.A,{currency:m,options:k,onChange:_,label:"Stablecoin"})})}),(0,a.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(r.A,{title:"Stablecoin Velocity",description:"Velocity indicators of stablecoins on Solana",accentColor:"blue",className:"h-[500px]",onExpandClick:()=>t(!0),onDownloadClick:A,isDownloading:p,legend:S.map(e=>(0,a.jsx)(s.A,{label:e.label,color:e.color,shape:"square",tooltipText:e.value?C(e.value):void 0},e.label)),children:(0,a.jsx)(O,{isModalOpen:e,onModalClose:()=>t(!1),legendsChanged:j})}),(0,a.jsx)(r.A,{title:"P2P Velocity",description:"Peer-to-peer velocity indicators of stablecoins on Solana",accentColor:"green",className:"h-[500px]",onExpandClick:()=>c(!0),onDownloadClick:N,isDownloading:b,legend:y.map(e=>(0,a.jsx)(s.A,{label:e.label,color:e.color,shape:"square",tooltipText:e.value?C(e.value):void 0},e.label)),children:(0,a.jsx)(E,{isModalOpen:o,onModalClose:()=>c(!1),legendsChanged:w})})]}),(0,a.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,a.jsx)(r.A,{title:"Average P2P Transfer Size",description:"Mean value of peer-to-peer transfer size over time",accentColor:"blue",onExpandClick:()=>u(!0),filterBar:(0,a.jsx)(i.A,{currency:m,onChange:_,options:k,isCompact:!0}),children:(0,a.jsx)(P,{stablecoin:m,isModalOpen:d,onModalClose:()=>u(!1)},"avg-".concat(m))}),(0,a.jsx)(r.A,{title:"Median P2P Transfer Size",description:"Middle value of peer-to-peer transfer size over time",accentColor:"orange",onExpandClick:()=>h(!0),filterBar:(0,a.jsx)(i.A,{currency:m,onChange:_,options:k,isCompact:!0}),children:(0,a.jsx)(U,{stablecoin:m,isModalOpen:f,onModalClose:()=>h(!1)},"median-".concat(m))})]})]})}},17828:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,l(64054).createAsyncLocalStorage)()},36645:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=l(88229)._(l(67357));function n(e,t){var l;let n={};"function"==typeof e&&(n.loader=e);let r={...n,...t};return(0,a.default)({...r,modules:null==(l=r.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43356:(e,t,l)=>{"use strict";l.d(t,{A:()=>f,k:()=>d});var a=l(38637),n=l.n(a),r=l(12115),s=l(29300),o=l.n(s),i=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var d={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},u=r.forwardRef(function(e,t){var l=e.className,a=e.top,n=e.left,s=e.offsetLeft,u=void 0===s?10:s,f=e.offsetTop,h=void 0===f?10:f,m=e.style,x=e.children,p=e.unstyled,g=e.applyPositionStyle,b=function(e,t){if(null==e)return{};var l,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)l=r[a],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,i);return r.createElement("div",c({ref:t,className:o()("visx-tooltip",l),style:c({top:null==a||null==h?a:a+h,left:null==n||null==u?n:n+u},void 0!==g&&g&&{position:"absolute"},!(void 0!==p&&p)&&(void 0===m?d:m))},b),x)});u.propTypes={children:n().node,className:n().string,left:n().number,offsetLeft:n().number,offsetTop:n().number,top:n().number,applyPositionStyle:n().bool,unstyled:n().bool},u.displayName="Tooltip";let f=u},55028:(e,t,l)=>{"use strict";l.d(t,{default:()=>n.a});var a=l(36645),n=l.n(a)},60194:(e,t,l)=>{"use strict";function a(e,t){let l,a;if(void 0===t)for(let t of e)null!=t&&(void 0===l?t>=t&&(l=a=t):(l>t&&(l=t),a<t&&(a=t)));else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(void 0===l?r>=r&&(l=a=r):(l>r&&(l=r),a<r&&(a=r)))}return[l,a]}l.d(t,{A:()=>a})},62146:(e,t,l)=>{"use strict";function a(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),l(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return r},createSnapshot:function(){return o}});let l=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw l}getStore(){}run(){throw l}exit(){throw l}enterWith(){throw l}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function r(){return n?new n:new a}function s(e){return n?n.bind(e):a.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=l(95155),n=l(12115),r=l(62146);function s(e){return{default:e&&"default"in e?e.default:e}}l(10255);let o={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},l=(0,n.lazy)(()=>t.loader().then(s)),i=t.loading;function c(e){let s=i?(0,a.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?n.Suspense:n.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(l,{...e})]}):(0,a.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(l,{...e})});return(0,a.jsx)(c,{...o?{fallback:s}:{},children:d})}return c.displayName="LoadableComponent",c}},85744:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=l(17828)},91314:(e,t,l)=>{Promise.resolve().then(l.bind(l,14468))}},e=>{var t=t=>e(e.s=t);e.O(0,[4410,5083,166,1182,5955,4685,3414,8441,1684,7358],()=>t(91314)),_N_E=e.O()}]);