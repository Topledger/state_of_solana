(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2686],{10255:(e,t,a)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),a(95155),a(47650),a(85744),a(20589)},17828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,a(64054).createAsyncLocalStorage)()},24407:(e,t,a)=>{Promise.resolve().then(a.bind(a,33037))},33037:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(95155),n=a(12115),s=a(6874),i=a.n(s),o=a(62207),l=a(50187),c=a(53335);let d=(0,a(55028).default)(()=>Promise.all([a.e(3414),a.e(2229)]).then(a.bind(a,82229)),{loadableGenerated:{webpack:()=>[82229]},ssr:!1}),u=e=>"string"==typeof e?e:"object"==typeof e&&!Array.isArray(e)&&e&&"field"in e?e.field:Array.isArray(e)?e.map(e=>"string"==typeof e?e:e&&"object"==typeof e&&"field"in e?e.field:"unknown").join(", "):"unknown";function m(){var e;let[t,a]=(0,n.useState)([]),[s,m]=(0,n.useState)(""),[h,p]=(0,n.useState)("all"),[x,g]=(0,n.useState)([]),[y,f]=(0,n.useState)(!1),[v,b]=(0,n.useState)({});(0,n.useEffect)(()=>{if(!s)return void g([]);switch(s){case"overview":g([{id:"dashboard",name:"User Activity",path:"/dashboard"},{id:"network-usage",name:"Network Usage",path:"/network-usage"},{id:"protocol-rev",name:"Protocol Revenue",path:"/protocol-rev"},{id:"market-dynamics",name:"Market Dynamics",path:"/market-dynamics"}]);break;case"dex":g([{id:"summary",name:"Summary",path:"/dex/summary"},{id:"volume",name:"Volume",path:"/dex/volume"},{id:"tvl",name:"TVL",path:"/dex/tvl"},{id:"traders",name:"Traders",path:"/dex/traders"},{id:"aggregators",name:"DEX Aggregators",path:"/dex/aggregators"}]);break;case"rev":g([{id:"overview",name:"Summary",path:"/rev"},{id:"cost-capacity",name:"Cost & Capacity",path:"/rev/cost-capacity"},{id:"issuance-burn",name:"Issuance & Burn",path:"/rev/issuance-burn"},{id:"total-economic-value",name:"Total Economic Value",path:"/rev/total-economic-value"},{id:"breakdown",name:"Breakdown",path:"/rev/breakdown"}]);break;case"stablecoins":g([{id:"stablecoin-usage",name:"Stablecoin Usage",path:"/stablecoins/stablecoin-usage"},{id:"transaction-activity",name:"Transaction Activity",path:"/stablecoins/transaction-activity"},{id:"liquidity-velocity",name:"Liquidity Velocity",path:"/stablecoins/liquidity-velocity"},{id:"mint-burn",name:"Mint & Burn",path:"/stablecoins/mint-burn"},{id:"platform-exchange",name:"Platform & Exchange",path:"/stablecoins/platform-exchange"},{id:"tvl",name:"TVL",path:"/stablecoins/tvl"}]);break;case"protocol-revenue":g([{id:"summary",name:"Summary",path:"/protocol-revenue/summary"},{id:"total",name:"Total",path:"/protocol-revenue/total"},{id:"dex-ecosystem",name:"DEX Ecosystem",path:"/protocol-revenue/dex-ecosystem"},{id:"nft-ecosystem",name:"NFT Ecosystem",path:"/protocol-revenue/nft-ecosystem"},{id:"depin",name:"DePin",path:"/protocol-revenue/depin"}]);break;default:g([])}p("all")},[s]),(0,n.useEffect)(()=>{f(!0),(async()=>{try{let e;e="all"!==h||s?"all"===h&&s?(await (0,o.rh)()).filter(e=>x.some(t=>t.id===e.page)):await (0,o.AW)(h):await (0,o.rh)(),a(Array.isArray(e)?e:[])}catch(e){console.error("Error loading charts:",e),a([])}})()},[s,h,x]);let j=async e=>{if(window.confirm("Are you sure you want to delete this chart?"))try{if(await (0,o.A9)(e))a(t=>t.filter(t=>t.id!==e)),b(t=>{let a={...t};return delete a[e],a});else throw Error("Failed to delete chart")}catch(e){console.error("Error deleting chart:",e),alert("Failed to delete chart: ".concat(e instanceof Error?e.message:String(e)))}},w=e=>{b(t=>({...t,[e]:!t[e]}))};return y?(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 pb-5 mb-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Charts"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"View, preview, and manage charts you've created"})]}),(0,r.jsx)(i(),{href:"/admin/chart-creator",children:(0,r.jsx)(c.A,{variant:"primary",children:"Create New Chart"})})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("select",{id:"menuFilter",value:s,onChange:e=>{m(e.target.value)},className:"mt-1 block w-full pl-3 pr-10 py-2 text-base text-gray-400  rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-gray-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"All Menus"}),(0,r.jsx)("option",{value:"overview",children:"Overview"}),(0,r.jsx)("option",{value:"dex",children:"DEX"}),(0,r.jsx)("option",{value:"rev",children:"REV"}),(0,r.jsx)("option",{value:"stablecoins",children:"Stablecoins"}),(0,r.jsx)("option",{value:"protocol-revenue",children:"Protocol Revenue"})]})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("select",{id:"pageFilter",value:h,onChange:e=>p(e.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base text-gray-400 border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:!s&&"all"!==h,children:[(0,r.jsx)("option",{value:"all",children:"All Pages"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})})]}),0===t.length?(0,r.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[(0,r.jsx)("svg",{className:"h-12 w-12 text-gray-400 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No charts found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:""===s&&"all"===h?"You haven't created any charts yet.":""!==s&&"all"===h?"No charts found for the selected menu: ".concat(s):"No charts found for the selected page: ".concat((null==(e=x.find(e=>e.id===h))?void 0:e.name)||h)}),(0,r.jsx)(i(),{href:"/admin/chart-creator",children:(0,r.jsx)(c.A,{variant:"primary",children:"Create your first chart"})})]}):(0,r.jsx)("div",{className:"space-y-6",children:t.map(e=>(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,r.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.subtitle||"No subtitle"," â€¢",(0,r.jsx)("span",{className:"ml-1",children:(()=>{let t=[...l.F,...x].find(t=>t.id===e.page);return t?t.name:e.page})()})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(c.A,{variant:"secondary",size:"sm",onClick:()=>w(e.id),children:v[e.id]?"Hide Preview":"Show Preview"}),(0,r.jsx)(i(),{href:(()=>{let t=[...l.F,...x].find(t=>t.id===e.page);return(null==t?void 0:t.path)||"#"})(),target:"_blank",children:(0,r.jsx)(c.A,{variant:"primary",size:"sm",children:"View on Page"})}),(0,r.jsx)(c.A,{variant:"danger",size:"sm",onClick:()=>j(e.id),children:"Delete"})]})]}),(0,r.jsx)("div",{className:"p-4 bg-gray-50 text-sm",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Type:"})," ",(0,r.jsx)("span",{className:"text-gray-900",children:e.chartType})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Created:"})," ",(0,r.jsx)("span",{className:"text-gray-900",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"X-Axis:"})," ",(0,r.jsx)("span",{className:"text-gray-900",children:e.dataMapping.xAxis})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-gray-700",children:"Y-Axis:"})," ",(0,r.jsx)("span",{className:"text-gray-900",children:u(e.dataMapping.yAxis)})]})]})}),v[e.id]&&(0,r.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsx)("div",{className:"h-[500px] overflow-auto",children:(0,r.jsx)(d,{pageId:"preview",overrideCharts:[e]})})})]},e.id))})]}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-10 w-10 text-indigo-500 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading charts..."})]})})}},36645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(88229)._(a(67357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,r.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50187:(e,t,a)=>{"use strict";a.d(t,{F:()=>r,X:()=>n});let r=[{id:"total",name:"Total Revenue",path:"/protocol-revenue/total"},{id:"summary",name:"Revenue Summary",path:"/protocol-revenue/summary"},{id:"dex-ecosystem",name:"DEX Ecosystem",path:"/protocol-revenue/dex-ecosystem"},{id:"nft-ecosystem",name:"NFT Ecosystem",path:"/protocol-revenue/nft-ecosystem"},{id:"depin",name:"DePIN",path:"/protocol-revenue/depin"}],n=[{id:"bar",name:"Bar Chart"},{id:"stacked-bar",name:"Stacked Bar Chart"},{id:"line",name:"Line Chart"},{id:"dual-axis",name:"Dual Axis Chart"},{id:"pie",name:"Pie Chart"}]},53335:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155);function n(e){let{children:t,type:a="button",onClick:n,variant:s="primary",size:i="md",disabled:o=!1,className:l="",isLoading:c=!1,icon:d}=e;return(0,r.jsxs)("button",{type:a,onClick:n,disabled:o||c,className:"\n        ".concat({primary:"bg-indigo-600 hover:bg-indigo-700 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800",danger:"bg-red-600 hover:bg-red-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white",warning:"bg-yellow-500 hover:bg-yellow-600 text-white"}[s]," \n        ").concat({sm:"px-2.5 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-2 text-base"}[i]," \n        ").concat(o?"opacity-50 cursor-not-allowed":"","\n        inline-flex justify-center items-center border border-transparent rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\n        ").concat(l,"\n      "),children:[c&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d&&!c&&(0,r.jsx)("span",{className:"mr-2",children:d}),t]})}a(12115)},55028:(e,t,a)=>{"use strict";a.d(t,{default:()=>n.a});var r=a(36645),n=a.n(r)},62146:(e,t,a)=>{"use strict";function r(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),a(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return i},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new r}function i(e){return n?n.bind(e):r.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let r=a(95155),n=a(12115),s=a(62146);function i(e){return{default:e&&"default"in e?e.default:e}}a(10255);let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},l=function(e){let t={...o,...e},a=(0,n.lazy)(()=>t.loader().then(i)),l=t.loading;function c(e){let i=l?(0,r.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?n.Suspense:n.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:i}:{},children:d})}return c.displayName="LoadableComponent",c}},85744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=a(17828)}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,2207,8441,1684,7358],()=>t(24407)),_N_E=e.O()}]);