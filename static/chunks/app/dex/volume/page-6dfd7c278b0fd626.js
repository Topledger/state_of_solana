(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4683],{1444:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var r=a(95155),l=a(12115),n=a(79111),o=a(41995),s=a(50109),i=a(45191),c=a(4904),d=a(72630),u=a(58888),m=a(71734);async function h(e){try{var t,a;console.log("fetchVolumeHistoryData called with timeFilter:",e);let r=await fetch("".concat("https://analytics.topledger.xyz/tl/api","/queries/").concat("13192","/results?api_key=").concat("PSDSE4K3HsoXJX8a3dgeps4GF1ilSejrVjmkF8Fe"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parameters:{"Date Part":e}})});if(!r.ok)throw Error("API request failed: ".concat(r.status));let l=(null==(a=(await r.json()).query_result)||null==(t=a.data)?void 0:t.rows)||[];if(!l||0===l.length)return console.warn("No volume history rows returned from API for filter:",e),[];let n=l.map(e=>({date:e.period_start||e.dt||"",volume:parseFloat(e.Volume||e.volume||0)})).filter(e=>e.date);return n.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),console.log("Transformed ".concat(n.length," data points")),n}catch(e){return console.error("Error fetching volume history data:",e),[]}}function f(e,t){try{let a=new Date(e);if(isNaN(a.getTime()))return e;switch(t){case"Q":return"Q".concat(Math.floor(a.getUTCMonth()/3)+1," ").concat(a.getUTCFullYear());case"M":return a.toLocaleDateString("en-US",{month:"short",year:"numeric",timeZone:"UTC"});default:return a.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"})}}catch(t){return console.error("Error formatting date:",t),e}}var g=a(51078),p=a(81838),x=a(7545),v=a(52594),b=a(37918),y=a(42028),w=a(6828);let j=e=>{let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},k={volumeBar:w.Tj[0],grid:w.Vg,axisLines:w.h5,tickLabels:w.Dc},N=e=>{var t;let{timeFilter:a,isModalOpen:w=!1,onModalClose:N=()=>{}}=e,[S,A]=(0,l.useState)([]),[M,C]=(0,l.useState)(!0),[T,L]=(0,l.useState)(null),[D,B]=(0,l.useState)([]),[E,O]=(0,l.useState)(null),[F,P]=(0,l.useState)(!1),[R,V]=(0,l.useState)([]),[W,_]=(0,l.useState)(!0),[z,I]=(0,l.useState)(null),[$,q]=(0,l.useState)(a),[U,H]=(0,l.useState)(null),[Q,Y]=(0,l.useState)(!1),[K,J]=(0,l.useState)([]),[X,Z]=(0,l.useState)({visible:!1,dataPoint:null,left:0,top:0}),G=(0,l.useRef)(null),ee=(0,l.useRef)(!0),et=(0,l.useRef)(null),ea=(0,l.useRef)(!0),er=(0,l.useCallback)(async()=>{C(!0),L(null);try{let e=await h(a);0===e.length?(L("No data available for this period."),A([])):(A(e),B(e),P(!0),O(null))}catch(t){console.error("[Chart] Error loading chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),L(e),A([]),B([])}finally{C(!1)}},[a]),el=(0,l.useCallback)(async()=>{_(!0),I(null);try{let e=await h($);0===e.length?(I("No data available for this period."),V([]),J([])):(V(e),J(e),Y(!0),H(null))}catch(t){console.error("[Chart] Error loading modal chart data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),I(e),V([]),J([])}finally{_(!1)}},[$]);(0,l.useEffect)(()=>{er()},[er]),(0,l.useMemo)(()=>S.map(e=>({...e,dateObj:new Date(e.date)})),[S]);let en=(0,l.useCallback)(e=>{if(!e){F&&(O(null),P(!1),B(S)),G.current&&(clearTimeout(G.current),G.current=null,ee.current=!0);return}let{x0:t,x1:a}=e,r=new Date(t),l=new Date(a);!(isNaN(r.getTime())||isNaN(l.getTime()))&&(O([r,l]),F||P(!0),ee.current&&(ee.current=!1,B(S.filter(e=>{let t=new Date(e.date);return t>=r&&t<=l})),G.current=setTimeout(()=>{ee.current=!0,G.current=null},100)))},[F,S]),eo=(0,l.useCallback)(e=>{if(!e){Q&&(H(null),Y(!1),J(R)),et.current&&(clearTimeout(et.current),et.current=null,ea.current=!0);return}let{x0:t,x1:a}=e,r=new Date(t),l=new Date(a);!(isNaN(r.getTime())||isNaN(l.getTime()))&&(H([r,l]),Q||Y(!0),ea.current&&(ea.current=!1,J(R.filter(e=>{let t=new Date(e.date);return t>=r&&t<=l})),et.current=setTimeout(()=>{ea.current=!0,et.current=null},100)))},[Q,R]),es=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.currentTarget.getBoundingClientRect(),r=e.clientX-a.left,l={left:45},n=a.width-l.left-20;if(r<l.left||r>n+l.left){X.visible&&Z(e=>({...e,visible:!1}));return}let o=t?Q?K:R:F?D:S,s=Math.floor((r-l.left)/(n/o.length));if(s>=0&&s<o.length){var i;let t=o[s];X.visible&&(null==(i=X.dataPoint)?void 0:i.date)===t.date||Z({visible:!0,dataPoint:t,left:e.clientX,top:e.clientY})}},[S,D,R,K,F,Q,X.visible,null==(t=X.dataPoint)?void 0:t.date]),ei=(0,l.useCallback)(()=>{X.visible&&Z(e=>({...e,visible:!1}))},[X.visible]);(0,l.useEffect)(()=>{w&&(console.log("Modal opened - initializing with data"),q(a),V(S),J(D),H(E),Y(F),_(!1),0===S.length&&el())},[w,a,S,D,E,F,el]);let ec=(0,l.useCallback)(e=>{console.log("Time filter changed to:",e),q(e)},[]);(0,l.useEffect)(()=>{w&&el()},[$,w,el]);let ed=function(e,t){var l;let h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=h?$:a,b=h?R:S,w=h?Q?K:R:F?D:S,N=h?W:M,A=h?z:T,C=h?Q:F;return N?(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(g.A,{size:"sm"})}):A||0===b.length?(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,r.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:A||"No data available"}),(0,r.jsx)(x.A,{onClick:h?el:er,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(j,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Refresh"})]})})]}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[X.visible&&X.dataPoint&&(0,r.jsx)(p.A,{title:f(X.dataPoint.date,v),items:[{color:k.volumeBar,label:"Volume",value:(l=X.dataPoint.volume)>=1e9?"$".concat((l/1e9).toFixed(1),"B"):l>=1e6?"$".concat((l/1e6).toFixed(1),"M"):l>=1e3?"$".concat((l/1e3).toFixed(1),"K"):"$".concat(l.toFixed(0)),shape:"square"}],top:X.top-(h?50:240),left:X.left-(h?50:240),isModal:h}),(0,r.jsx)("div",{className:"h-[85%] w-full overflow-hidden",onMouseMove:e=>es(e,h),onMouseLeave:ei,children:(0,r.jsx)(n.A,{children:e=>{let{width:t,height:a}=e;if(t<=0||a<=0)return null;let l={top:5,right:25,bottom:30,left:45},n=t-l.left-l.right,h=a-l.top-l.bottom;if(n<=0||h<=0)return null;let g=w.map(e=>new Date(e.date)),p=(0,i.A)({domain:g,range:[0,n],padding:.3}),x=(0,c.A)({domain:[0,1.1*Math.max(...w.map(e=>e.volume))||1],range:[h,0],nice:!0});return(0,r.jsx)("svg",{width:t,height:a,className:"overflow-visible",children:(0,r.jsxs)(o.A,{left:l.left,top:l.top,children:[(0,r.jsx)(s.A,{scale:x,width:n,stroke:k.grid,strokeDasharray:"2,3",strokeOpacity:.5,numTicks:5}),C&&(0,r.jsx)("text",{x:0,y:-8,fontSize:8,fill:k.volumeBar,textAnchor:"start",children:"Filtered: ".concat(w.length," item").concat(1!==w.length?"s":"")}),w.map(e=>{var t;let a=p(new Date(e.date)),l=p.bandwidth(),n=Math.max(0,h-x(e.volume));return void 0===a||n<0?null:(0,r.jsx)(m.A,{x:a,y:h-n,width:l,height:n,fill:k.volumeBar,opacity:(null==(t=X.dataPoint)?void 0:t.date)===e.date?1:.7,rx:2},"bar-".concat(e.date))}),(0,r.jsx)(d.A,{top:h,scale:p,tickFormat:e=>f(e.toISOString(),v),stroke:k.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,tickLabelProps:(e,t)=>({fill:k.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:0===t?"start":"middle",dy:"0.5em",dx:0===t?"0.5em":0}),numTicks:Math.min(6,w.length)}),(0,r.jsx)(u.A,{scale:x,stroke:k.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickFormat:e=>{let t=Number(e);return 0===t?"$0":t>=1e9?"$".concat(Math.round(t/1e9),"B"):t>=1e6?"$".concat(Math.round(t/1e6),"M"):t>=1e3?"$".concat(Math.round(t/1e3),"K"):"$".concat(t)},tickLabelProps:()=>({fill:k.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"1em",dy:"0.5em"})})]})})}})}),(0,r.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,r.jsx)(y.A,{data:h?R:S,isModal:h,activeBrushDomain:h?U:E,onBrushChange:h?eo:en,onClearBrush:h?()=>{H(null),Y(!1)}:()=>{O(null),P(!1)},getDate:e=>e.date,getValue:e=>e.volume,lineColor:k.volumeBar,margin:{top:5,right:25,bottom:10,left:45}})})]})};return(0,r.jsxs)("div",{className:"h-full w-full relative",children:[ed(0,0),(0,r.jsxs)(v.A,{isOpen:w,onClose:N,title:"Trading Volume History",subtitle:"Tracking trading volume trends across the Solana ecosystem",children:[(0,r.jsx)("div",{className:"flex items-center justify-start pl-1 py-0 mb-3",children:(0,r.jsx)(b.A,{value:$,onChange:e=>ec(e),options:[{value:"W",label:"W"},{value:"M",label:"M"},{value:"Q",label:"Q"}]})}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,r.jsx)("div",{className:"h-[60vh]",children:(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900",children:ed(0,0,!0)}),(0,r.jsxs)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:[(0,r.jsx)("div",{className:"text-[10px] text-gray-400 mb-2",children:"METRICS"}),(0,r.jsxs)("div",{className:"flex items-center mb-1.5",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-sm mr-1.5",style:{backgroundColor:k.volumeBar}}),(0,r.jsx)("span",{className:"text-[11px] text-gray-300",children:"Volume"})]})]})]})})]})]})};var S=a(41545),A=a(78398);let M=async()=>{try{let a="https://analytics.topledger.xyz/tl/api/queries/13222/results.json?api_key=zDjwKXvTQCdB16ViEfeQbVavTt3LmNYFe5KRTSZA";console.log("[VolumeByProgram] Fetching from URL:",a);let r=null;for(let l=0;l<=2;l++){l>0&&(console.log("[VolumeByProgram] Retry attempt ".concat(l,"/").concat(2,"...")),await new Promise(e=>setTimeout(e,1e3*Math.pow(2,l-1))));let n=new AbortController,o=setTimeout(()=>n.abort(),2e4);try{var e,t;let r=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal});if(clearTimeout(o),console.log("[VolumeByProgram] Received response with status:",r.status),!r.ok)throw Error("API request failed: ".concat(r.status," ").concat(r.statusText));let l=(null==(t=(await r.json()).query_result)||null==(e=t.data)?void 0:e.rows)||[];if(!l||0===l.length)throw Error("No data returned from API");let s=l.reduce((e,t)=>e+t.volume,0),i=l.map(e=>({dex:e.dex,volume:e.volume,percentage:e.volume/s*100}));return console.log("[VolumeByProgram] Successfully processed ".concat(i.length," data points")),i}catch(e){if(clearTimeout(o),"AbortError"===e.name){if(console.warn("[VolumeByProgram] Fetch request timed out after ".concat(20," seconds (attempt ").concat(l+1,"/").concat(3,")")),2===l)throw Error("API request timed out after ".concat(3," attempts"));r=e;continue}if(r=e,l<2){console.warn("[VolumeByProgram] Fetch error (attempt ".concat(l+1,"/").concat(3,"):"),e.message);continue}throw e}}throw r||Error("Failed to fetch volume by program data after all retries")}catch(e){throw console.error("[VolumeByProgram] Error fetching volume by program data after all attempts:",e),e}},C=[{dex:"Raydium",volume:358e7,percentage:46.5},{dex:"Orca",volume:212e7,percentage:27.5},{dex:"Meteora",volume:98e7,percentage:12.7},{dex:"OpenBook",volume:65e7,percentage:8.4},{dex:"Jupiter",volume:38e7,percentage:4.9}],T=async()=>{try{console.log("[VolumeByProgram] Attempting to fetch real data from API...");let e=await M();return console.log("[VolumeByProgram] Successfully fetched real data, returning",e.length,"points"),e}catch(t){console.error("[VolumeByProgram] Using fallback data due to error:",t);let e=C.map(e=>({dex:e.dex,volume:Math.round(e.volume*(.98+.04*Math.random())),percentage:Math.round(e.percentage*(.98+.04*Math.random())*10)/10}));return console.log("[VolumeByProgram] Returning fallback data"),e}},L=e=>e>=1e9?"$".concat((e/1e9).toFixed(1),"B"):e>=1e6?"$".concat((e/1e6).toFixed(1),"M"):e>=1e3?"$".concat((e/1e3).toFixed(1),"K"):"$".concat(e.toFixed(1)),D=e=>{let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},B=()=>w.Tj.slice(0,10),E=e=>{let{isModalOpen:t=!1,onModalClose:a=()=>{}}=e,[s,i]=(0,l.useState)([]),[c,d]=(0,l.useState)(!0),[u,m]=(0,l.useState)(null),[h,f]=(0,l.useState)([]),[b,y]=(0,l.useState)(!0),[w,j]=(0,l.useState)({visible:!1,data:null,x:0,y:0}),k=(0,l.useRef)(null),N=(0,l.useRef)(null),M=(0,l.useCallback)(async()=>{d(!0),m(null);try{let e=await T();i(e)}catch(e){console.error("Error loading chart data:",e),m("No data available for this period."),i([])}finally{d(!1)}},[]);(0,l.useEffect)(()=>{M()},[M]),(0,l.useEffect)(()=>{t&&(y(!0),s.length>0?(f(s),y(!1)):T().then(e=>{f(e)}).catch(e=>{console.error("Error loading modal chart data:",e)}).finally(()=>{y(!1)}))},[t,s]);let C=e=>{let t=[...e].sort((e,t)=>t.volume-e.volume).map(e=>e.dex),a=B();return(0,A.A)({domain:t,range:a.slice(0,t.length)})},E=s.length>0?C(s):null,O=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t){let e=r?N.current:k.current;if(e){let r=e.getBoundingClientRect();j({visible:!0,data:t,x:a.clientX-r.left,y:a.clientY-r.top})}}else j(e=>({...e,visible:!1}))},F=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?h:s,a=e?b:c,l=e?N:k;if(a)return(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(g.A,{size:"sm"})});if(u||0===t.length)return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,r.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:u||"No data available"}),(0,r.jsx)(x.A,{onClick:e?()=>{y(!0),T().then(e=>{f(e)}).catch(e=>{console.error("Error loading modal chart data:",e)}).finally(()=>{y(!1)})}:M,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(D,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Refresh"})]})})]});let i=C(t);return(0,r.jsxs)("div",{className:"h-full w-full relative",ref:l,children:[w.visible&&w.data&&(0,r.jsx)(p.A,{title:w.data.dex,items:[{color:i(w.data.dex),label:"Volume",value:L(w.data.volume),shape:"square"},{color:i(w.data.dex),label:"Share",value:"".concat(w.data.percentage.toFixed(1),"%"),shape:"square"}],top:w.y,left:w.x,isModal:e}),(0,r.jsx)(n.A,{children:a=>{let{width:l,height:n}=a,s=Math.min(l,n)/2.5,c=l/2,d=n/2;return(0,r.jsx)("svg",{width:l,height:n,children:(0,r.jsx)(o.A,{top:d,left:c,children:(0,r.jsx)(S.A,{data:t,pieValue:e=>e.volume,outerRadius:s,innerRadius:.3*s,cornerRadius:3,padAngle:.005,children:t=>t.arcs.map((a,l)=>{let{data:n}=a,[o,s]=t.path.centroid(a),c=n.percentage>5,d=i(n.dex);return(0,r.jsxs)("g",{onMouseMove:t=>O(!0,n,t,e),onMouseLeave:()=>O(!1,null,null,e),children:[(0,r.jsx)("path",{d:t.path(a)||"",fill:d,stroke:"#000",strokeWidth:.5,strokeOpacity:.3}),c&&(0,r.jsx)("text",{fill:"white",x:o,y:s,dy:".33em",fontSize:10,textAnchor:"middle",pointerEvents:"none",children:"".concat(n.percentage.toFixed(0),"%")})]},"arc-".concat(n.dex,"-").concat(l))})})})})}})]})};return(0,r.jsxs)("div",{className:"h-full w-full relative",ref:k,children:[w.visible&&w.data&&E&&(0,r.jsx)(p.A,{title:w.data.dex,items:[{color:E(w.data.dex),label:"Volume",value:L(w.data.volume),shape:"square"},{color:E(w.data.dex),label:"Share",value:"".concat(w.data.percentage.toFixed(1),"%"),shape:"square"}],top:w.y,left:w.x,isModal:!1}),F(!1),(0,r.jsx)(v.A,{isOpen:t,onClose:a,title:"Volume by Program",subtitle:"Breakdown of trading volume by decentralized exchange",children:(0,r.jsx)("div",{className:"h-[60vh]",children:(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)("div",{className:"w-[80%] h-full pr-3 border-r border-gray-900",ref:N,children:F(!0)}),(0,r.jsx)("div",{className:"w-[20%] pl-3",children:(0,r.jsx)("div",{className:"flex flex-col gap-5 pt-1 h-full overflow-hidden",children:(0,r.jsx)("div",{className:"flex flex-col gap-2 max-h-[58vh] overflow-y-auto pr-1 [&::-webkit-scrollbar]:w-1.5  [&::-webkit-scrollbar-track]:bg-transparent  [&::-webkit-scrollbar-thumb]:bg-gray-700/40 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40",children:b?(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 bg-purple-500 mr-2 rounded-sm mt-0.5 animate-pulse"}),(0,r.jsx)("span",{className:"text-[11px] text-gray-300",children:"Loading..."})]}):h.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 mr-2 rounded-sm mt-0.5",style:{backgroundColor:C(h)(e.dex)}}),(0,r.jsxs)("span",{className:"text-[11px] text-gray-300",children:[e.dex," ",(0,r.jsxs)("span",{className:"text-gray-400",children:["(",e.percentage.toFixed(1),"%)"]})]})]},"legend-".concat(t)))})})})]})})})]})};var O=a(4503);let F=e=>e>=1e9?"$".concat((e/1e9).toFixed(1),"B"):e>=1e6?"$".concat((e/1e6).toFixed(1),"M"):e>=1e3?"$".concat((e/1e3).toFixed(1),"K"):"$".concat(e.toFixed(0)),P=(e,t)=>{let a=new Date(e);if(isNaN(a.getTime()))return console.warn("Invalid date string: ".concat(e,", using fallback")),e;switch(t){case"D":case"W":return a.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"M":return a.toLocaleDateString("en-US",{month:"short",year:"numeric"});default:return e}},R=async e=>{try{console.log("Fetching memecoin volume data with timeFilter:",e);let t="https://analytics.topledger.xyz/tl/api/queries/13231/results?api_key=gFXy7839FSeqNL8PFFT8rVNNBWt9IJ9Jp7UOKzSu",a={parameters:{"Date Part":e}};return console.log("Request URL:",t),console.log("Request body:",JSON.stringify(a)),new Promise((r,l)=>{{let n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.withCredentials=!1,n.timeout=1e4,n.ontimeout=function(){console.error("Request timed out"),l(Error("Request timed out"))},n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status)try{var t,a;let o=JSON.parse(n.responseText);if(console.log("API response structure keys:",Object.keys(o)),!(null==(a=o.query_result)||null==(t=a.data)?void 0:t.rows)){console.error("API response missing expected data structure."),l(Error("API response missing expected data structure"));return}let s=o.query_result.data.rows;if(console.log("Received ".concat(s.length," data points from API")),0===s.length){console.warn("API returned 0 data points"),r({dates:[],series:[],totalsByToken:[]});return}if(console.log("First few data points:",s.slice(0,3)),s.length>0){let e=s[0];console.log("Sample row keys:",Object.keys(e)),console.log("Sample row values:",Object.values(e))}let i=s.map(e=>({date:e.block_date||e.date||e.period_start||e.time||"",mint:e.Mint||e.mint||e.token||"",symbol:e.Mint||e.symbol||e.name||"",volume:"number"==typeof e.Volume?e.Volume:"number"==typeof e.volume?e.volume:parseFloat(e.Volume||e.volume||"0")})).filter(e=>!!e.date);console.log("Processed typedRows sample:",i.slice(0,3));let c=new Map,d=new Set;i.forEach(e=>{let t=e.date,a=e.mint||"",r=e.symbol||"Unknown (".concat(a.substring(0,6),"...)"),l="number"==typeof e.volume?e.volume:parseFloat(e.volume||"0");c.has(t)||c.set(t,new Map);let n=c.get(t),o=n.get(r)||0;n.set(r,o+l),d.add(r)}),console.log("Dates after grouping:",Array.from(c.keys()).slice(0,5)),console.log("Tokens after grouping:",Array.from(d).slice(0,5));let u=Array.from(c.keys()).sort((e,t)=>new Date(e).getTime()-new Date(t).getTime()),m=u.map(t=>P(t,e)),h=Array.from(d),f={};h.forEach(e=>{f[e]=0});let g=h.map(e=>{let t=u.map(t=>{let a=c.get(t),r=(null==a?void 0:a.get(e))||0;return f[e]+=r,r});return{name:e,data:t}});Object.values(f).reduce((e,t)=>e+t,0);let p=Object.entries(f).map(e=>{let[t,a]=e;return{token:t,volume:a}}).sort((e,t)=>t.volume-e.volume),x={dates:m,series:g,totalsByToken:p};console.log("Successfully processed memecoin data:",{datesCount:x.dates.length,seriesCount:x.series.length,tokensCount:x.totalsByToken.length}),r(x)}catch(e){console.error("Failed to parse or process response:",e),l(e)}else console.error("API request failed with status:",n.status),l(Error("API request failed with status: ".concat(n.status)))},n.onerror=function(){console.error("Request failed due to network error"),l(Error("Network error"))},n.send(JSON.stringify(a))}})}catch(e){throw console.error("Error in fetchMemecoinVolumeData:",e),e}},V=e=>{let t=[],a=new Date;if("D"===e)for(let r=14;r>=0;r--){let l=new Date(a);l.setDate(l.getDate()-r),t.push(P(l.toISOString(),e))}else if("W"===e)for(let r=8;r>=0;r--){let l=new Date(a);l.setDate(l.getDate()-7*r),t.push(P(l.toISOString(),e))}else for(let r=6;r>=0;r--){let l=new Date(a);l.setMonth(l.getMonth()-r),t.push(P(l.toISOString(),e))}let r=["BONK","WIF","POPCAT","DOGE","SLERF","Other"],l=r.map(a=>{let r=0;switch(a){case"BONK":r=5e6;break;case"WIF":r=3e6;break;case"POPCAT":r=2e6;break;case"DOGE":r=15e5;break;case"SLERF":r=1e6;break;case"Other":r=5e5;break;default:r=2e5}return{name:a,data:t.map((a,l)=>{let n=.5+Math.random(),o="D"===e?(15-l)/15:(t.length-l)/t.length;return Math.round(r*n*o)})}}),n=r.map((e,t)=>({token:e,volume:l[t].data.reduce((e,t)=>e+t,0)}));return n.sort((e,t)=>t.volume-e.volume),{dates:t,series:l,totalsByToken:n}},W=async e=>{if(console.log("Attempting to fetch memecoin volume data for timeFilter:",e),window.__memoizedChartData){let t="memecoin_data_".concat(e);delete window.__memoizedChartData[t],console.log("Cleared memoized data for ".concat(t))}for(let t=0;t<3;t++)try{t>0&&(console.log("Retry attempt ".concat(t," for timeFilter ").concat(e)),await new Promise(e=>setTimeout(e,300*t)));let a=await R(e);if(a.dates.length>0&&a.series.length>0&&a.totalsByToken.length>0)return console.log("Successfully retrieved real data from API with",a.dates.length,"dates and",a.series.length,"tokens"),console.log("First few dates from real data:",a.dates.slice(0,5)),console.log("First few tokens from real data:",a.totalsByToken.slice(0,5).map(e=>e.token)),a;if(console.warn("API returned incomplete data on attempt ".concat(t,", ").concat(t<2?"retrying":"using fallback data")),t<2)continue}catch(e){if(console.error("Error on attempt ".concat(t,":"),e),t<2)continue;console.warn("All API attempts failed, using fallback data")}let t=V(e);console.log("Using fallback data with",t.dates.length,"dates and",t.series.length,"tokens");{let a="memecoin_data_".concat(e);window.__memoizedChartData||(window.__memoizedChartData={}),window.__memoizedChartData[a]=t}return t},_=e=>{let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},z=w.Tj.slice(0,17),I=e=>{if(!e||0===e.length)return{};let t=[...e.map(e=>({name:e.name,totalVolume:e.data.reduce((e,t)=>e+t,0)}))].sort((e,t)=>t.totalVolume-e.totalVolume),a={};return t.forEach((e,t)=>{a[e.name]=z[t%z.length]}),a},$={grid:"#1f2937",axisLines:"#374151",tickLabels:"#6b7280"},q=e=>{var t;let{timeFilter:a,isModalOpen:m=!1,onModalClose:h=()=>{},onDataUpdate:f=()=>{}}=e,[w,j]=(0,l.useState)({dates:[],series:[],totalsByToken:[]}),[k,N]=(0,l.useState)(!0),[S,M]=(0,l.useState)(null),[C,T]=(0,l.useState)({dates:[],series:[],totalsByToken:[]}),[L,D]=(0,l.useState)(null),[B,E]=(0,l.useState)(!1),[P,R]=(0,l.useState)({dates:[],series:[],totalsByToken:[]}),[V,q]=(0,l.useState)(!0),[U,H]=(0,l.useState)(null),[Q,Y]=(0,l.useState)(a),[K,J]=(0,l.useState)(null),[X,Z]=(0,l.useState)(!1),[G,ee]=(0,l.useState)({dates:[],series:[],totalsByToken:[]}),et=(0,l.useRef)(null),ea=(0,l.useRef)(null),[er,el]=(0,l.useState)({visible:!1,data:null,left:0,top:0}),en=(0,l.useRef)(null),eo=(0,l.useRef)(!0),es=(0,l.useRef)(null),ei=(0,l.useRef)(!0),ec=(0,l.useCallback)(async()=>{N(!0),M(null);try{let e=await W(a);0===e.dates.length||0===e.series.length?(M("No data available for this period."),j({dates:[],series:[],totalsByToken:[]})):(j(e),T(e),E(!0),D(null))}catch(t){console.error("[Chart] Error loading memecoin volume data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),M(e),j({dates:[],series:[],totalsByToken:[]}),T({dates:[],series:[],totalsByToken:[]})}finally{N(!1)}},[a]),ed=(0,l.useCallback)(async()=>{q(!0),H(null);try{let e=await W(Q);0===e.dates.length||0===e.series.length?(H("No data available for this period."),R({dates:[],series:[],totalsByToken:[]}),ee({dates:[],series:[],totalsByToken:[]})):(R(e),ee(e),Z(!0),J(null))}catch(t){console.error("[Chart] Error loading modal memecoin volume data:",t);let e="Failed to load data.";t instanceof Error&&(e=t.message||e),H(e),R({dates:[],series:[],totalsByToken:[]}),ee({dates:[],series:[],totalsByToken:[]})}finally{q(!1)}},[Q]);(0,l.useEffect)(()=>{ec()},[ec]),(0,l.useMemo)(()=>w.dates.map(e=>({date:e,dateObj:new Date(e)})),[w.dates]);let eu=(0,l.useCallback)(e=>e&&e.dates&&0!==e.dates.length?e.dates.map((t,a)=>({date:t,volume:e.series.reduce((e,t)=>e+(t.data[a]||0),0)})):[],[]),em=(0,l.useCallback)(e=>{if(!e){B&&(D(null),E(!1),T(w)),en.current&&(clearTimeout(en.current),en.current=null,eo.current=!0);return}let{x0:t,x1:a}=e,r=new Date(t),l=new Date(a);if(!(isNaN(r.getTime())||isNaN(l.getTime()))&&(D([r,l]),B||E(!0),eo.current)){eo.current=!1;let e=[];if(w.dates.forEach((t,a)=>{let n=new Date(t);n>=r&&n<=l&&e.push(a)}),0===e.length)T(w);else{let t=e.map(e=>w.dates[e]),a=w.series.map(t=>({name:t.name,data:e.map(e=>t.data[e]||0)})),r={};a.forEach(e=>{r[e.name]=e.data.reduce((e,t)=>e+t,0)}),T({dates:t,series:a,totalsByToken:Object.entries(r).map(e=>{let[t,a]=e;return{token:t,volume:a}}).sort((e,t)=>t.volume-e.volume)})}en.current=setTimeout(()=>{eo.current=!0,en.current=null},100)}},[B,w]),eh=(0,l.useCallback)(e=>{if(!e){X&&(J(null),Z(!1),ee(P)),es.current&&(clearTimeout(es.current),es.current=null,ei.current=!0);return}let{x0:t,x1:a}=e,r=new Date(t),l=new Date(a);if(!(isNaN(r.getTime())||isNaN(l.getTime()))&&(J([r,l]),X||Z(!0),ei.current)){ei.current=!1;let e=[];if(P.dates.forEach((t,a)=>{let n=new Date(t);n>=r&&n<=l&&e.push(a)}),0===e.length)ee(P);else{let t=e.map(e=>P.dates[e]),a=P.series.map(t=>({name:t.name,data:e.map(e=>t.data[e]||0)})),r={};a.forEach(e=>{r[e.name]=e.data.reduce((e,t)=>e+t,0)}),ee({dates:t,series:a,totalsByToken:Object.entries(r).map(e=>{let[t,a]=e;return{token:t,volume:a}}).sort((e,t)=>t.volume-e.volume)})}es.current=setTimeout(()=>{ei.current=!0,es.current=null},100)}},[X,P]),ef=(0,l.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.currentTarget.getBoundingClientRect(),r=e.clientX-a.left,l=e.clientY-a.top,n={left:45},o=a.width-n.left-20;if(r<n.left||r>o+n.left){er.visible&&el(e=>({...e,visible:!1}));return}let s=t?X?G:P:B?C:w;if(!s||!s.dates||0===s.dates.length)return;let i=Math.floor((r-n.left)/(o/s.dates.length));if(i>=0&&i<s.dates.length){var c;let e=s.dates[i],t=s.series.map((e,t)=>({token:e.name,volume:e.data[i]||0,color:z[t%z.length]})).filter(e=>e.volume>0).sort((e,t)=>t.volume-e.volume);er.visible&&(null==(c=er.data)?void 0:c.date)===e||el({visible:!0,data:{date:e,tokens:t},left:r,top:l})}},[w,C,P,G,B,X,er.visible,null==(t=er.data)?void 0:t.date]),eg=(0,l.useCallback)(()=>{er.visible&&el(e=>({...e,visible:!1}))},[er.visible]);(0,l.useEffect)(()=>{m&&(console.log("Modal opened - initializing with data"),Y(a),R(w),ee(C),J(L),Z(B),q(!1),0===w.dates.length&&ed())},[m,a,w,C,L,B,ed]);let ep=(0,l.useCallback)(e=>{console.log("Time filter changed to:",e),Y(e)},[]);(0,l.useEffect)(()=>{m&&ed()},[Q,m,ed]);let ex=(0,l.useCallback)(e=>{if(!e||!e.dates||0===e.dates.length||!e.series||0===e.series.length)return{processedData:[],keys:[]};let t=e.series.map(e=>e.name);return{processedData:e.dates.map((t,a)=>{let r={date:t};return e.series.forEach(e=>{r[e.name]=e.data[a]||0}),r}),keys:t}},[]);(0,l.useEffect)(()=>{if(C.totalsByToken.length>0){let e=C.totalsByToken.reduce((e,t)=>e+t.volume,0);f(C.totalsByToken.map(t=>({token:t.token,volume:t.volume,percentage:e>0?t.volume/e*100:0})))}},[C.totalsByToken]);let ev=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=a?P:w,m=a?X?G:P:B?C:w,h=a?V:k,f=a?U:S,v=a?K:L,b=a?X:B,j=a?eh:em,N=a?()=>{J(null),Z(!1),ee(P)}:()=>{D(null),E(!1),T(w)};if(h)return(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(g.A,{size:"sm"})});if(f||0===l.dates.length)return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,r.jsx)("div",{className:"text-gray-400/80 text-xs mb-2",children:f||"No data available"}),(0,r.jsx)(x.A,{onClick:a?ed:ec,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Refresh"})]})})]});let{processedData:M,keys:R}=ex(m);return 0===M.length?(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-gray-400 text-sm",children:[(0,r.jsx)("div",{className:"mb-2",children:"No data available for this time period"}),(0,r.jsx)(x.A,{onClick:a?ed:ec,children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(_,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{children:"Refresh"})]})})]}):(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[er.visible&&er.data&&(0,r.jsx)(p.A,{title:er.data.date,items:er.data.tokens.map(e=>({color:e.color,label:e.token,value:F(e.volume),shape:"square"})),top:er.top,left:er.left,isModal:a}),(0,r.jsx)("div",{className:"h-[85%] w-full overflow-hidden relative",ref:a?ea:et,onMouseMove:e=>ef(e,a),onMouseLeave:eg,children:(0,r.jsx)(n.A,{children:e=>{let{width:t,height:a}=e;if(t<=0||a<=0)return null;let l={top:5,right:25,bottom:30,left:45},n=t-l.left-l.right,h=a-l.top-l.bottom;if(n<=0||h<=0)return null;let f=Math.max(...M.map(e=>R.reduce((t,a)=>t+(e[a]||0),0))),g=(0,i.A)({domain:M.map(e=>e.date),padding:.3,range:[0,n]}),p=(0,c.A)({domain:[0,1.1*f],range:[h,0],nice:!0}),x=(0,A.A)({domain:R,range:R.map(e=>I(m.series)[e]||z[0])});return(0,r.jsx)("svg",{width:t,height:a,className:"overflow-visible",children:(0,r.jsxs)(o.A,{left:l.left,top:l.top,children:[(0,r.jsx)(s.A,{scale:p,width:n,stroke:$.grid,strokeDasharray:"2,3",strokeOpacity:.5,numTicks:5}),b&&(0,r.jsx)("text",{x:0,y:-8,fontSize:8,fill:z[0],textAnchor:"start",children:"Filtered: ".concat(m.dates.length," item").concat(1!==m.dates.length?"s":"")}),(0,r.jsx)(O.A,{data:M,keys:R,x:e=>e.date,xScale:g,yScale:p,color:x,children:e=>e.map(e=>e.bars.map(t=>{var a;return(0,r.jsx)("rect",{x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color,opacity:er.visible&&(null==(a=er.data)?void 0:a.date)===t.bar.data.date?.9:.7,rx:2},"bar-stack-".concat(e.index,"-").concat(t.index))}))}),(0,r.jsx)(d.A,{top:h,scale:g,stroke:$.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,hideZero:!0,tickLabelProps:(e,t)=>({fill:$.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:0===t?"start":"middle",dy:"0.5em",dx:0===t?"0.5em":0}),numTicks:Math.min(6,M.length)}),(0,r.jsx)(u.A,{scale:p,stroke:$.axisLines,strokeWidth:.5,tickStroke:"transparent",tickLength:0,numTicks:5,tickFormat:e=>{let t=Number(e);return 0===t?"$0":t>=1e9?"$".concat(Math.round(t/1e9),"B"):t>=1e6?"$".concat(Math.round(t/1e6),"M"):t>=1e3?"$".concat(Math.round(t/1e3),"K"):"$".concat(t)},tickLabelProps:()=>({fill:$.tickLabels,fontSize:11,fontWeight:300,letterSpacing:"0.05em",textAnchor:"end",dx:"-0.6em",dy:"0.25em"})})]})})}})}),(0,r.jsx)("div",{className:"h-[15%] w-full mt-1",children:(0,r.jsx)(y.A,{data:eu(a?P:w),isModal:a,activeBrushDomain:v,onBrushChange:j,onClearBrush:N,getDate:e=>e.date,getValue:e=>e.volume,lineColor:z[0],margin:{top:5,right:25,bottom:10,left:45}})})]})};return(0,r.jsxs)("div",{className:"h-full w-full relative",children:[ev(0,0),(0,r.jsxs)(v.A,{isOpen:m,onClose:h,title:"Top Memecoins by Volume",subtitle:"Analysis of trading volume across memecoins",children:[(0,r.jsx)("div",{className:"flex items-center justify-start pl-1 py-0 mb-3",children:(0,r.jsx)(b.A,{value:Q,onChange:ep,options:[{value:"D",label:"D"},{value:"W",label:"W"},{value:"M",label:"M"}]})}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full mb-3"}),(0,r.jsx)("div",{className:"h-[60vh]",children:(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsx)("div",{className:"w-[90%] h-full pr-3 border-r border-gray-900 relative",children:ev(0,0,!0)}),(0,r.jsx)("div",{className:"w-[10%] h-full pl-3 flex flex-col justify-start items-start",children:!V&&G.totalsByToken.length>0?(0,r.jsx)(v.B,{items:G.totalsByToken.map((e,t)=>({id:e.token,color:z[t%z.length],label:e.token}))}):(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 bg-amber-500 mr-2 rounded-sm mt-0.5 animate-pulse"}),(0,r.jsx)("span",{className:"text-[11px] text-gray-300",children:"Loading..."})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 bg-amber-400 mr-2 rounded-sm mt-0.5 animate-pulse"}),(0,r.jsx)("span",{className:"text-[11px] text-gray-300",children:"Loading..."})]})]})})]})})]})]})};var U=a(21903),H=a(96565);let Q=["#a78bfa","#60a5fa","#9ca3af","#f97316","#34d399","#f43f5e","#facc15","#14b8a6","#8b5cf6","#6b7280"],Y=Q.slice(0,17);function K(){let[e,t]=(0,l.useState)("W"),[a,n]=(0,l.useState)(!1),[o,s]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[m,g]=(0,l.useState)("W"),[p,x]=(0,l.useState)("W"),[v,y]=(0,l.useState)(!1),[w,j]=(0,l.useState)(!1),[k,S]=(0,l.useState)([]),[A,M]=(0,l.useState)(!0),[C,D]=(0,l.useState)([]),[B,O]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{M(!0);try{let e=await T();S(e)}catch(e){console.error("Error fetching volume by program data:",e)}finally{M(!1)}})()},[]);let F=async()=>{if(!i){c(!0);try{let t=await h(e);if(0===t.length)return void alert("No data available to download");let a=["Date,Volume ($)",...t.map(t=>{let a=f(t.date,e),r=t.volume.toString();return[a,r].join(",")})].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(r),n=document.createElement("a"),o="solana_dex_volume_".concat(e,"_").concat(new Date().toISOString().split("T")[0],".csv");n.setAttribute("href",l),n.setAttribute("download",o),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){console.error("Error downloading volume data:",e),alert("Failed to download data. Please try again.")}finally{c(!1)}}},P=async()=>{if(!d){u(!0);try{let e=await T();if(0===e.length)return void alert("No data available to download");let t=["DEX,Volume ($),Share (%)",...e.map(e=>[e.dex,e.volume.toString(),e.percentage.toFixed(2)].join(","))].join("\n"),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(a),l=document.createElement("a"),n="solana_dex_volume_by_program_".concat(new Date().toISOString().split("T")[0],".csv");l.setAttribute("href",r),l.setAttribute("download",n),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}catch(e){console.error("Error downloading volume by program data:",e),alert("Failed to download data. Please try again.")}finally{u(!1)}}},R=async()=>{if(!w){j(!0);try{let e=await W(p);if(0===e.dates.length||0===e.series.length)return void alert("No data available to download");let t=["Date",...e.series.map(e=>e.name)],a=e.dates.map((t,a)=>{let r=[t];return e.series.forEach(e=>{var t;r.push((null==(t=e.data[a])?void 0:t.toString())||"0")}),r}),r=[t.join(","),...a.map(e=>e.join(","))].join("\n"),l=new Blob([r],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(l),o=document.createElement("a"),s="solana_memecoin_volume_".concat(p,"_").concat(new Date().toISOString().split("T")[0],".csv");o.setAttribute("href",n),o.setAttribute("download",s),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(e){console.error("Error downloading memecoin volume data:",e),alert("Failed to download data. Please try again.")}finally{j(!1)}}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[(0,r.jsx)(U.A,{title:"Trading Volume History",description:"Tracking trading volume trends across the Solana ecosystem",accentColor:"blue",onExpandClick:()=>n(!0),onDownloadClick:F,isDownloading:i,filterBar:(0,r.jsx)(b.A,{value:e,onChange:e=>t(e),options:[{value:"W",label:"W"},{value:"M",label:"M"},{value:"Q",label:"Q"}]}),children:(0,r.jsx)(N,{timeFilter:e,isModalOpen:a,onModalClose:()=>n(!1)})}),(0,r.jsx)(U.A,{title:"Volume by Program",description:"Breakdown of trading volume by decentralized exchange",accentColor:"purple",onExpandClick:()=>s(!0),onDownloadClick:P,isDownloading:d,legendWidth:"1/4",legend:A?(0,r.jsx)(H.A,{label:"Loading...",color:"#a78bfa",isLoading:!0}):k.map((e,t)=>(0,r.jsx)(H.A,{label:"".concat(e.dex," (").concat(e.percentage.toFixed(1),"%)"),color:Q[t%Q.length],tooltipText:"".concat(e.dex,": ").concat(L(e.volume)," (").concat(e.percentage.toFixed(1),"%)")},"legend-".concat(t))),children:(0,r.jsx)(E,{isModalOpen:o,onModalClose:()=>s(!1)})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,r.jsx)(U.A,{title:"Volume by Token",description:"Most traded tokens by volume over time",accentColor:"green",filterBar:(0,r.jsx)(b.A,{value:m,onChange:e=>g(e),options:[{value:"W",label:"W"},{value:"M",label:"M"},{value:"Q",label:"Q"}]}),children:(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-500 text-sm",children:"Token Volume Chart (Coming Soon)"})})}),(0,r.jsx)(U.A,{title:"Top Memecoins by Volume",description:"Analysis of trading volume across memecoins",accentColor:"orange",onExpandClick:()=>y(!0),onDownloadClick:R,isDownloading:w,filterBar:(0,r.jsx)(b.A,{value:p,onChange:e=>x(e),options:[{value:"D",label:"D"},{value:"W",label:"W"},{value:"M",label:"M"}]}),legend:B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H.A,{label:"Loading...",color:"#f59e0b",isLoading:!0}),(0,r.jsx)(H.A,{label:"Loading...",color:"#fbbf24",isLoading:!0}),(0,r.jsx)(H.A,{label:"Loading...",color:"#fcd34d",isLoading:!0})]}):C.map((e,t)=>(0,r.jsx)(H.A,{label:e.token,color:Y[t%Y.length],tooltipText:e.token},"memecoin-legend-".concat(t))),children:(0,r.jsx)(q,{timeFilter:p,isModalOpen:v,onModalClose:()=>y(!1),onDataUpdate:e=>{D(e),O(!1)}})})]})]})}},4503:(e,t,a)=>{"use strict";a.d(t,{A:()=>k});var r=a(12115),l=a(29300),n=a.n(l),o=Array.prototype.slice,s=a(51884);function i(e,t){if((l=e.length)>1)for(var a,r,l,n=1,o=e[t[0]],s=o.length;n<l;++n)for(r=o,o=e[t[n]],a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(r[a][1])?r[a][0]:r[a][1]}function c(e){for(var t=e.length,a=Array(t);--t>=0;)a[t]=t;return a}function d(e,t){return e[t]}var u=a(41995);function m(e){return null==e?void 0:e[0]}function h(e){return null==e?void 0:e[1]}var f=a(2339);function g(e){var t=e.map(p);return c(e).sort(function(e,a){return t[e]-t[a]})}function p(e){for(var t,a=0,r=-1,l=e.length;++r<l;)(t=+e[r][1])&&(a+=t);return a}function x(e){for(var t,a=-1,r=0,l=e.length,n=-1/0;++a<l;)(t=+e[a][1])>n&&(n=t,r=a);return r}var v={ascending:g,descending:function(e){return g(e).reverse()},insideout:function(e){var t,a,r,l=e.length,n=e.map(p),o=(t=e.map(x),c(e).sort(function(e,a){return t[e]-t[a]})),s=0,i=0,d=[],u=[];for(a=0;a<l;++a)r=o[a],s<i?(s+=n[r],d.push(r)):(i+=n[r],u.push(r));return u.reverse().concat(d)},none:c,reverse:function(e){return c(e).reverse()}};Object.keys(v);var b={expand:function(e,t){if((r=e.length)>0){for(var a,r,l,n=0,o=e[0].length;n<o;++n){for(l=a=0;a<r;++a)l+=e[a][n][1]||0;if(l)for(a=0;a<r;++a)e[a][n][1]/=l}i(e,t)}},diverging:function(e,t){if((s=e.length)>0)for(var a,r,l,n,o,s,i=0,c=e[t[0]].length;i<c;++i)for(n=o=0,a=0;a<s;++a)(l=(r=e[t[a]][i])[1]-r[0])>0?(r[0]=n,r[1]=n+=l):l<0?(r[1]=o,r[0]=o+=l):(r[0]=0,r[1]=l)},none:i,silhouette:function(e,t){if((a=e.length)>0){for(var a,r=0,l=e[t[0]],n=l.length;r<n;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;l[r][1]+=l[r][0]=-s/2}i(e,t)}},wiggle:function(e,t){if((l=e.length)>0&&(r=(a=e[t[0]]).length)>0){for(var a,r,l,n=0,o=1;o<r;++o){for(var s=0,c=0,d=0;s<l;++s){for(var u=e[t[s]],m=u[o][1]||0,h=(m-(u[o-1][1]||0))/2,f=0;f<s;++f){var g=e[t[f]];h+=(g[o][1]||0)-(g[o-1][1]||0)}c+=m,d+=h*m}a[o-1][1]+=a[o-1][0]=n,c&&(n-=d/c)}a[o-1][1]+=a[o-1][0]=n,i(e,t)}}};Object.keys(b);var y=a(71734),w=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function j(){return(j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function k(e){var t=e.data,a=e.className,l=e.top,g=e.left,p=e.x,x=e.y0,k=void 0===x?m:x,N=e.y1,S=void 0===N?h:N,A=e.xScale,M=e.yScale,C=e.color,T=e.keys,L=e.value,D=e.order,B=e.offset,E=e.children,O=function(e,t){if(null==e)return{};var a,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,w),F=function(){var e=(0,s.A)([]),t=c,a=i,r=d;function l(l){var n,o,s=e.apply(this,arguments),i=l.length,c=s.length,d=Array(c);for(n=0;n<c;++n){for(var u,m=s[n],h=d[n]=Array(i),f=0;f<i;++f)h[f]=u=[0,+r(l[f],m,f,l)],u.data=l[f];h.key=m}for(n=0,o=t(d);n<c;++n)d[o[n]].index=n;return a(d,o),d}return l.keys=function(t){return arguments.length?(e="function"==typeof t?t:(0,s.A)(o.call(t)),l):e},l.value=function(e){return arguments.length?(r="function"==typeof e?e:(0,s.A)(+e),l):r},l.order=function(e){return arguments.length?(t=null==e?c:"function"==typeof e?e:(0,s.A)(o.call(e)),l):t},l.offset=function(e){return arguments.length?(a=null==e?i:e,l):a},l}();T&&F.keys(T),L&&(0,f.A)(F.value,L),D&&F.order(D&&v[D]||v.none),B&&F.offset(B&&b[B]||b.none);var P=F(t),R=function(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),a=e.domain();return Math.abs(t[t.length-1]-t[0])/a.length}(A),V=P.map(function(e,t){var a=e.key;return{index:t,key:a,bars:e.map(function(t,r){var l=(M(k(t))||0)-(M(S(t))||0),n=M(S(t)),o="bandwidth"in A?A(p(t.data)):Math.max((A(p(t.data))||0)-R/2);return{bar:t,key:a,index:r,height:l,width:R,x:o||0,y:n||0,color:C(e.key,r)}})}});return E?r.createElement(r.Fragment,null,E(V)):r.createElement(u.A,{className:n()("visx-bar-stack",a),top:l,left:g},V.map(function(e){return e.bars.map(function(t){return r.createElement(y.A,j({key:"bar-stack-"+e.index+"-"+t.index,x:t.x,y:t.y,height:t.height,width:t.width,fill:t.color},O))})}))}},6828:(e,t,a)=>{"use strict";a.d(t,{$C:()=>v,Dc:()=>p,Tj:()=>r,Vg:()=>f,Vy:()=>x,Zp:()=>n,h5:()=>g,h8:()=>b,wL:()=>o,wv:()=>i,z1:()=>l});let r=["#60a5fa","#a78bfa","#34d399","#f97316","#f43f5e","#facc15","#10b981","#8b5cf6","#ec4899","#6b7280","#3b82f6","#059669","#93c5fd","#c4b5fd","#fb923c","#f87171","#fcd34d","#64748b","#0ea5e9","#1e40af","#4f46e5","#7c3aed","#be123c","#0891b2","#ea580c"],l=r[0],n=r[1],o=r[2],s=r[3],i=r[4],c=r[5],d=r[6],u=r[7],m=r[8],h=r[9];r[0],r[1],r[2],r[3];let f="#1f2937",g="#374151",p="#6b7280",x=e=>r[e%r.length],v={"1-3 transactions":l,"4-5 transactions":o,"6-10 transactions":n,"11-100 transactions":s,"101-1000 transactions":i,">1000 transactions":c},b=[l,n,o,s,i,c,m,u,d,h,r[10],r[11],r[12],r[13],r[14],r[15],r[16],r[17],r[18],r[19],r[20],r[21],r[22],r[23],r[24]]},21903:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155);a(12115);var l=a(30963),n=a(51078);let o=e=>{let{title:t,description:a,children:o,filterBar:s,legend:i,onExpandClick:c,onDownloadClick:d,isDownloading:u=!1,accentColor:m="blue",className:h="",legendWidth:f="1/5",isLoading:g=!1}=e,p={blue:{hover:"hover:shadow-blue-900/20",button:"bg-blue-500/10 text-blue-400 hover:bg-blue-500/20",border:"border-blue-400"},purple:{hover:"hover:shadow-purple-900/20",button:"bg-purple-500/10 text-purple-400 hover:bg-purple-500/20",border:"border-purple-400"},green:{hover:"hover:shadow-green-900/20",button:"bg-green-500/10 text-green-400 hover:bg-green-500/20",border:"border-green-400"},orange:{hover:"hover:shadow-orange-900/20",button:"bg-orange-500/10 text-orange-400 hover:bg-orange-500/20",border:"border-orange-400"},indigo:{hover:"hover:shadow-indigo-900/20",button:"bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20",border:"border-indigo-400"}}[m];return(0,r.jsxs)("div",{className:"bg-black/80 backdrop-blur-sm p-4 rounded-xl border border-gray-900 shadow-lg ".concat(p.hover," transition-all duration-300 ").concat(h),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("div",{className:"-mt-1",children:[(0,r.jsx)("h2",{className:"text-[12px] font-normal text-gray-300 leading-tight mb-0.5",children:t}),a&&(0,r.jsx)("p",{className:"text-gray-500 text-[10px] tracking-wide",children:a})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[d&&(0,r.jsx)("button",{className:"p-1.5 ".concat(p.button," rounded-md transition-colors ").concat(u?"opacity-50 cursor-not-allowed":""),onClick:d,title:"Download CSV",disabled:u,children:u?(0,r.jsx)(n.A,{size:"xs",className:"w-4 h-4"}):(0,r.jsx)(l.s3,{className:"w-4 h-4"})}),c&&(0,r.jsx)("button",{className:"p-1.5 ".concat(p.button," rounded-md transition-colors"),onClick:c,title:"Expand Chart",children:(0,r.jsx)(l.mS,{className:"w-4 h-4"})})]})]}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full"}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center justify-start pl-1 py-2 overflow-visible relative",children:s}),(0,r.jsx)("div",{className:"h-px bg-gray-900 w-full"})]}),(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row mt-3 h-[360px] lg:h-[380px]",children:[(0,r.jsxs)("div",{className:"flex-grow ".concat(i?"lg:pr-4 lg:border-r lg:border-gray-900":""," h-80 lg:h-auto relative"),children:[g&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10 rounded-md",children:(0,r.jsx)(n.A,{size:"md"})}),o]}),i&&(0,r.jsx)("div",{className:"w-full ".concat({"1/4":"lg:w-1/4","1/5":"lg:w-1/5","1/6":"lg:w-1/6"}[f]," mt-2 lg:mt-0 lg:pl-4 flex flex-row lg:flex-col"),children:(0,r.jsx)("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2 pt-1 pb-0 h-full w-full overflow-hidden",children:(0,r.jsx)("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-2 w-full h-full overflow-y-auto overflow-x-auto lg:overflow-x-hidden [&::-webkit-scrollbar]:w-1.5  [&::-webkit-scrollbar-track]:bg-transparent  [&::-webkit-scrollbar-thumb]:bg-gray-700/40 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40",children:i})})})]})]})}},30963:(e,t,a)=>{"use strict";a.d(t,{Kx:()=>c,WH:()=>s,c2:()=>o,it:()=>l,mS:()=>d,s3:()=>u,vv:()=>i,wH:()=>n});var r=a(95155);function l(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}function n(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}function o(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}function s(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function i(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}function c(e){let{className:t="w-4 h-4"}=e;return(0,r.jsx)("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}a(12115);let d=e=>{let{className:t}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M15 3h6v6"}),(0,r.jsx)("path",{d:"M9 21H3v-6"}),(0,r.jsx)("path",{d:"M21 3l-7 7"}),(0,r.jsx)("path",{d:"M3 21l7-7"})]})},u=e=>{let{className:t}=e;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[(0,r.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,r.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,r.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}},37298:(e,t,a)=>{Promise.resolve().then(a.bind(a,1444))},37918:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155);a(12115);let l={D:"D",M:"M",Q:"Q",Y:"Y",W:"W"},n=function(e){let{value:t,onChange:a,options:n}=e,o=n||["D","M","Q","Y"].map(e=>({value:e,label:l[e]}));return(0,r.jsx)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:o.map(e=>(0,r.jsx)("button",{onClick:()=>a(e.value),className:"px-0 py-0.5 text-xs font-medium rounded transition-colors min-w-[25px] ".concat(t===e.value?"bg-gray-800 text-white shadow":"bg-transparent text-gray-400 hover:text-gray-200"),children:e.label},e.value))})}},41545:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(12115),l=a(29300),n=a.n(l),o=a(41995),s=a(35083),i=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e){var t=e.className,a=e.top,l=e.left,d=e.data,u=e.centroid,m=e.innerRadius,h=e.outerRadius,f=e.cornerRadius,g=e.startAngle,p=e.endAngle,x=e.padAngle,v=e.padRadius,b=e.pieSort,y=e.pieSortValues,w=e.pieValue,j=e.children,k=e.fill,N=void 0===k?"":k,S=function(e,t){if(null==e)return{};var a,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,i),A=(0,s.JL)({innerRadius:void 0===m?0:m,outerRadius:h,cornerRadius:f,padRadius:v}),M=(0,s.rL)({startAngle:g,endAngle:p,padAngle:x,value:w,sort:b,sortValues:y}),C=M(void 0===d?[]:d);return j?r.createElement(r.Fragment,null,j({arcs:C,path:A,pie:M})):r.createElement(o.A,{className:"visx-pie-arcs-group",top:a,left:l},C.map(function(e,a){return r.createElement("g",{key:"pie-arc-"+a},r.createElement("path",c({className:n()("visx-pie-arc",t),d:A(e)||"",fill:null==N||"string"==typeof N?N:N(e)},S)),null==u?void 0:u(A.centroid(e),e))}))}},45191:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(28749),l=a(95442),n=(0,a(70222).A)("domain","range","reverse","align","padding","round");function o(e){return n(function e(){var t,a,n=(0,l.A)().unknown(void 0),o=n.domain,s=n.range,i=0,c=1,d=!1,u=0,m=0,h=.5;function f(){var e=o().length,r=c<i,l=r?c:i,n=r?i:c;t=(n-l)/Math.max(1,e-u+2*m),d&&(t=Math.floor(t)),l+=(n-l-t*(e-u))*h,a=t*(1-u),d&&(l=Math.round(l),a=Math.round(a));var f=(function(e,t,a){e*=1,t*=1,a=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+a;for(var r=-1,l=0|Math.max(0,Math.ceil((t-e)/a)),n=Array(l);++r<l;)n[r]=e+r*a;return n})(e).map(function(e){return l+t*e});return s(r?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(o(e),f()):o()},n.range=function(e){return arguments.length?([i,c]=e,i*=1,c*=1,f()):[i,c]},n.rangeRound=function(e){return[i,c]=e,i*=1,c*=1,d=!0,f()},n.bandwidth=function(){return a},n.step=function(){return t},n.round=function(e){return arguments.length?(d=!!e,f()):d},n.padding=function(e){return arguments.length?(u=Math.min(1,m=+e),f()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),f()):u},n.paddingOuter=function(e){return arguments.length?(m=+e,f()):m},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),f()):h},n.copy=function(){return e(o(),[i,c]).round(d).paddingInner(u).paddingOuter(m).align(h)},r.C.apply(f(),arguments)}(),e)}},51078:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(95155);a(12115);let l=e=>{let{size:t="sm",className:a=""}=e;return(0,r.jsx)("div",{className:"flex justify-center items-center h-full ".concat(a),children:(0,r.jsx)("div",{className:"\n          animate-spin \n          ".concat({xs:"h-3 w-3 border-[1.5px]",sm:"h-4 w-4 border-[1.5px]",md:"h-5 w-5 border-2"}[t]," \n          border-gray-600/50 \n          rounded-full \n          border-t-transparent\n        ")})})}},78398:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95442),l=(0,a(70222).A)("domain","range","reverse","unknown");function n(e){return l((0,r.A)(),e)}},81838:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(95155);a(12115);let l=e=>{let{type:t,color:a}=e;return"circle"===t?(0,r.jsx)("div",{className:"h-2 w-2 rounded-full mr-1.5",style:{backgroundColor:a}}):(0,r.jsx)("div",{className:"h-2 w-2 rounded-sm mr-1.5",style:{backgroundColor:a}})},n=(e,t)=>{if(/^\d{4}-\d{2}-\d{2}/.test(e)||/^\d{2}\/\d{2}\/\d{4}/.test(e)){let a=new Date(e);if(!isNaN(a.getTime())){if("W"===t)return"Week of ".concat(a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}));if("M"===t)return a.toLocaleDateString("en-US",{month:"short",year:"numeric"});if("Q"===t){let e=Math.floor(a.getMonth()/3)+1;return"Q".concat(e,", ").concat(a.getFullYear())}else if("Y"===t)return a.getFullYear().toString();return a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}}return/^[A-Za-z]{3}\s\d{4}$/.test(e)||/^Q[1-4]\s\d{4}$/.test(e)||/^\d{4}$/.test(e),e},o=(e,t)=>{if("string"==typeof e){if(t){let a={USD:"$",EUR:"€",GBP:"\xa3",JPY:"\xa5",CNY:"\xa5",SOL:"SOL"},r=a[t]||t;if("SOL"===t){if(e.includes("SOL"))return e;for(let[t,r]of Object.entries(a))if("SOL"!==t&&e.startsWith(r))return"".concat(e.substring(r.length)," SOL");return"".concat(e," SOL")}for(let[l,n]of Object.entries(a))if(e.startsWith(n)&&l!==t)return e.replace(n,r)}return e}if("number"==typeof e){if(t)switch(t){case"USD":return"$".concat(e.toLocaleString());case"EUR":return"€".concat(e.toLocaleString());case"GBP":return"\xa3".concat(e.toLocaleString());case"JPY":case"CNY":return"\xa5".concat(e.toLocaleString());case"SOL":return"".concat(e.toLocaleString()," SOL");default:return"".concat(t).concat(e.toLocaleString())}return e.toLocaleString()}return String(e)},s=e=>{let{title:t,items:a,top:s,left:i,isModal:c=!1,timeFilter:d,currencyFilter:u}=e,m=a.some(e=>e.axis),h=n(t,d);return(0,r.jsxs)("div",{className:"absolute z-10 pointer-events-none bg-gray-900/95 shadow-lg border border-gray-800 rounded-md p-2 text-xs min-w-[120px]",style:{top:"".concat(s,"px"),left:i>(c?500:250)?"".concat(i-160,"px"):"".concat(i+10,"px"),transform:"translateY(-100%)"},children:[(0,r.jsx)("div",{className:"text-gray-400 text-[10px] font-normal pb-1 mb-1 border-b border-gray-800",children:h}),(0,r.jsx)("div",{className:"space-y-1",children:a.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-400",children:[(0,r.jsx)(l,{type:e.shape||"circle",color:e.color}),(0,r.jsx)("span",{className:"text-gray-400 font-normal ml-2",children:e.label}),m&&e.axis&&(0,r.jsxs)("span",{className:"ml-1 text-[9px] text-gray-500",children:["(",e.axis," axis)"]})]}),(0,r.jsx)("span",{className:"text-gray-300 font-normal ml-4",children:o(e.value,u)})]},"tooltip-item-".concat(t)))})]})}},95442:(e,t,a)=>{"use strict";a.d(t,{A:()=>function e(){var t=new r,a=[],l=[],n=s;function i(e){let r=t.get(e);if(void 0===r){if(n!==s)return n;t.set(e,r=a.push(e)-1)}return l[r%l.length]}return i.domain=function(e){if(!arguments.length)return a.slice();for(let l of(a=[],t=new r,e))t.has(l)||t.set(l,a.push(l)-1);return i},i.range=function(e){return arguments.length?(l=Array.from(e),i):l.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return e(a,l).unknown(n)},o.C.apply(i,arguments),i}});class r extends Map{constructor(e,t=n){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,a]of e)this.set(t,a)}get(e){return super.get(l(this,e))}has(e){return super.has(l(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},a){let r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},a){let r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}(this,e))}}function l({_intern:e,_key:t},a){let r=t(a);return e.has(r)?e.get(r):a}function n(e){return null!==e&&"object"==typeof e?e.valueOf():e}var o=a(28749);let s=Symbol("implicit")},96565:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(95155);a(12115);let l=e=>{let{label:t,color:a,shape:l="square",isLoading:n=!1,tooltipText:o}=e;return(0,r.jsxs)("div",{className:"flex items-start whitespace-nowrap",children:[(0,r.jsx)("div",{className:"w-2 h-2 mr-2 ".concat("circle"===l?"rounded-full":"rounded-sm"," mt-0.5 ").concat(n?"animate-pulse":""),style:{background:a}}),(0,r.jsx)("span",{className:"text-xs text-gray-300 truncate",title:o||t,children:t.length>20&&!o?"".concat(t.substring(0,20),"..."):t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4410,5083,166,1182,5955,4685,8441,1684,7358],()=>t(37298)),_N_E=e.O()}]);