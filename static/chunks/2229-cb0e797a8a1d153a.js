"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2229],{6828:(e,t,i)=>{i.d(t,{$C:()=>x,Dc:()=>h,Tj:()=>a,Vg:()=>g,Vy:()=>m,Zp:()=>l,h5:()=>f,h8:()=>A,wL:()=>o,wv:()=>s,z1:()=>r});let a=["#60a5fa","#a78bfa","#34d399","#f97316","#f43f5e","#facc15","#10b981","#8b5cf6","#ec4899","#6b7280","#3b82f6","#059669","#93c5fd","#c4b5fd","#fb923c","#f87171","#fcd34d","#64748b","#0ea5e9","#1e40af","#4f46e5","#7c3aed","#be123c","#0891b2","#ea580c"],r=a[0],l=a[1],o=a[2],n=a[3],s=a[4],d=a[5],c=a[6],p=a[7],u=a[8],y=a[9];a[0],a[1],a[2],a[3];let g="#1f2937",f="#374151",h="#6b7280",m=e=>a[e%a.length],x={"1-3 transactions":r,"4-5 transactions":o,"6-10 transactions":l,"11-100 transactions":n,"101-1000 transactions":s,">1000 transactions":d},A=[r,l,o,n,s,d,u,p,c,y,a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24]]},37918:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(95155);i(12115);let r={D:"D",M:"M",Q:"Q",Y:"Y",W:"W"},l=function(e){let{value:t,onChange:i,options:l}=e,o=l||["D","M","Q","Y"].map(e=>({value:e,label:r[e]}));return(0,a.jsx)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:o.map(e=>(0,a.jsx)("button",{onClick:()=>i(e.value),className:"px-0 py-0.5 text-xs font-medium rounded transition-colors min-w-[25px] ".concat(t===e.value?"bg-gray-800 text-white shadow":"bg-transparent text-gray-400 hover:text-gray-200"),children:e.label},e.value))})}},82229:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var a=i(95155),r=i(12115),l=i(62207),o=i(21903),n=i(96565),s=i(55028),d=i(6828),c=i(37918),p=i(53728),u=i(85204);function y(e){return"string"==typeof e?e:e.field}let g=e=>(function(e){return e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):e>=1e3?"$".concat((e/1e3).toFixed(2),"K"):"$".concat(e.toFixed(2))})(e),f=(0,s.default)(()=>Promise.all([i.e(4410),i.e(5083),i.e(166),i.e(1182),i.e(5955),i.e(4685),i.e(3934)]).then(i.bind(i,33934)),{loadableGenerated:{webpack:()=>[33934]},ssr:!1});function h(e){return"stacked-bar"===e.chartType||"bar"===e.chartType&&!0===e.isStacked}function m(e){let{pageId:t,overrideCharts:i}=e,[s,m]=(0,r.useState)([]),[x,A]=(0,r.useState)(!1),[b,F]=(0,r.useState)({}),[v,w]=(0,r.useState)({}),[M,O]=(0,r.useState)({}),[C,S]=(0,r.useState)({}),[k,j]=(0,r.useState)({}),[V,N]=(0,r.useState)({}),[E,T]=(0,r.useState)({});(0,r.useEffect)(()=>{A(!0),async function(){try{if(i){m(i);let e={},t={},a={},r={};i.forEach(i=>{var l;e[i.id]=!1,t[i.id]=!1,r[i.id]=!0,(null==(l=i.additionalOptions)?void 0:l.filters)&&(a[i.id]={},i.additionalOptions.filters.timeFilter&&Array.isArray(i.additionalOptions.filters.timeFilter.options)&&i.additionalOptions.filters.timeFilter.options.length>0&&(a[i.id].timeFilter=i.additionalOptions.filters.timeFilter.options[0]),i.additionalOptions.filters.currencyFilter&&Array.isArray(i.additionalOptions.filters.currencyFilter.options)&&i.additionalOptions.filters.currencyFilter.options.length>0&&(a[i.id].currencyFilter=i.additionalOptions.filters.currencyFilter.options[0]),i.additionalOptions.filters.displayModeFilter&&Array.isArray(i.additionalOptions.filters.displayModeFilter.options)&&i.additionalOptions.filters.displayModeFilter.options.length>0&&(a[i.id].displayModeFilter=i.additionalOptions.filters.displayModeFilter.options[0]))}),F(e),w(t),S(r),j(a);return}let e=await (0,l.AW)(t);m(e);let a={},r={},o={},n={};e.forEach(e=>{var t;a[e.id]=!1,r[e.id]=!1,n[e.id]=!0,(null==(t=e.additionalOptions)?void 0:t.filters)&&(o[e.id]={},e.additionalOptions.filters.timeFilter&&Array.isArray(e.additionalOptions.filters.timeFilter.options)&&e.additionalOptions.filters.timeFilter.options.length>0&&(o[e.id].timeFilter=e.additionalOptions.filters.timeFilter.options[0]),e.additionalOptions.filters.currencyFilter&&Array.isArray(e.additionalOptions.filters.currencyFilter.options)&&e.additionalOptions.filters.currencyFilter.options.length>0&&(o[e.id].currencyFilter=e.additionalOptions.filters.currencyFilter.options[0]),e.additionalOptions.filters.displayModeFilter&&Array.isArray(e.additionalOptions.filters.displayModeFilter.options)&&e.additionalOptions.filters.displayModeFilter.options.length>0&&(o[e.id].displayModeFilter=e.additionalOptions.filters.displayModeFilter.options[0]))}),F(a),w(r),S(n),j(o)}catch(e){console.error("Error loading charts for page ".concat(t,":"),e)}}()},[t,i]);let L=e=>{F(t=>({...t,[e]:!t[e]}))},_=async(e,t,i)=>{var a;if(console.log("Filter changed for chart ".concat(e,": ").concat(t," = ").concat(i)),(null==(a=k[e])?void 0:a[t])===i)return;S(t=>({...t,[e]:!0})),j(a=>({...a,[e]:{...a[e],[t]:i}}));let r=s.find(t=>t.id===e);r&&(await P(r),S(t=>({...t,[e]:!1})))},P=async e=>{try{var t,i,a;S(t=>({...t,[e.id]:!0}));let r=k[e.id]||{},l=new URL(e.apiEndpoint);e.apiKey&&l.searchParams.append("api_key",e.apiKey),l.pathname.includes("_csv")&&(l.searchParams.append("format","csv"),console.log("Adding CSV format parameter to URL"));let o={},n=null==(t=e.additionalOptions)?void 0:t.filters;n&&(n.timeFilter&&r.timeFilter&&(o[n.timeFilter.paramName]=r.timeFilter),n.currencyFilter&&r.currencyFilter&&(o[n.currencyFilter.paramName]=r.currencyFilter),n.displayModeFilter&&r.displayModeFilter&&(o[n.displayModeFilter.paramName]=r.displayModeFilter));let s=Object.keys(o).length>0,d={method:s?"POST":"GET",headers:{"Content-Type":"application/json"},cache:"no-store"};s&&(d.body=JSON.stringify({parameters:o}),console.log("Fetching data with parameters:",o)),console.log("Fetching data from: ".concat(l.toString()," with method: ").concat(d.method));let c=await fetch(l.toString(),d);if(!c.ok)throw Error("API request failed with status ".concat(c.status,": ").concat(c.statusText));let p=await c.json(),u=[];if(null==p||null==(a=p.query_result)||null==(i=a.data)?void 0:i.rows)u=p.query_result.data.rows;else if(Array.isArray(p))u=p;else if((null==p?void 0:p.data)&&Array.isArray(p.data))u=p.data;else if((null==p?void 0:p.rows)&&Array.isArray(p.rows))u=p.rows;else if((null==p?void 0:p.results)&&Array.isArray(p.results))u=p.results;else if(null==p?void 0:p.error)throw Error("API returned an error: ".concat(p.error));else throw console.error("Unrecognized API response structure:",p),Error("API response does not have a recognized structure");return N(t=>({...t,[e.id]:u})),D(e.id,u),S(t=>({...t,[e.id]:!1})),u}catch(t){return console.error("Error fetching chart data:",t),S(t=>({...t,[e.id]:!1})),null}},U=async e=>{w(t=>({...t,[e.id]:!0}));try{var t,i,a;let r=V[e.id],l=k[e.id]||{},o=l.timeFilter,n=l.displayMode;console.log('Downloading CSV for chart "'.concat(e.title,'" (').concat(e.id,"):"),{chartType:e.chartType,timeFilter:o,displayMode:n,allFilters:l,apiEndpoint:e.apiEndpoint,dataCount:(null==r?void 0:r.length)||0});let s="";if(o)switch(o.toUpperCase()){case"D":s="daily";break;case"W":s="weekly";break;case"M":s="monthly";break;case"Q":s="quarterly";break;case"Y":s="yearly";break;default:s=o.toLowerCase()}console.log("Performing fresh API call for CSV download with time filter: ".concat(o));let d=new URL(e.apiEndpoint);e.apiKey&&d.searchParams.append("api_key",e.apiKey);let c={},p=null==(t=e.additionalOptions)?void 0:t.filters;if(p){if(p.timeFilter&&l.timeFilter){let e=p.timeFilter.paramName;c[e]=l.timeFilter,console.log("Setting time filter for CSV: ".concat(e,"=").concat(l.timeFilter))}if(p.currencyFilter&&l.currencyFilter){let e=p.currencyFilter.paramName;c[e]=l.currencyFilter,console.log("Setting currency filter for CSV: ".concat(e,"=").concat(l.currencyFilter))}if(p.displayModeFilter&&l.displayModeFilter){let e=p.displayModeFilter.paramName;c[e]=l.displayModeFilter,console.log("Setting display mode filter for CSV: ".concat(e,"=").concat(l.displayModeFilter))}}let u=Object.keys(c).length>0,g={method:u?"POST":"GET",headers:{"Content-Type":"application/json"},cache:"no-store"};u&&(g.body=JSON.stringify({parameters:c}),console.log("Fetching CSV data with request body:",g.body)),console.log("Fetching data from: ".concat(d.toString()," with method: ").concat(g.method));let f=await fetch(d.toString(),g);if(!f.ok)throw Error("Failed to download CSV: ".concat(f.statusText));let h=await f.text(),m=h,x=[];if(!(h.trim().startsWith('"')||/^[a-zA-Z]+,/.test(h.trim())||h.includes("\n")&&h.includes(","))&&(h.trim().startsWith("{")||h.trim().startsWith("[")))try{let t=JSON.parse(h);(null==t||null==(a=t.query_result)||null==(i=a.data)?void 0:i.rows)?x=t.query_result.data.rows:Array.isArray(t)?x=t:(null==t?void 0:t.data)&&Array.isArray(t.data)?x=t.data:(null==t?void 0:t.rows)&&Array.isArray(t.rows)?x=t.rows:(null==t?void 0:t.results)&&Array.isArray(t.results)&&(x=t.results),console.log("API returned ".concat(x.length," rows of data for time filter: ").concat(o));let r="stacked-bar"===e.chartType||"bar"===e.chartType&&!0===e.isStacked,l="percent"===n;if(r&&l&&x.length>0){if(console.log("Converting stacked bar chart data to percentages for CSV download"),e.dataMapping.groupBy){e.dataMapping.groupBy;let t="string"==typeof e.dataMapping.xAxis?e.dataMapping.xAxis:e.dataMapping.xAxis[0],i="string"==typeof e.dataMapping.yAxis?e.dataMapping.yAxis:y(Array.isArray(e.dataMapping.yAxis)?e.dataMapping.yAxis[0]:e.dataMapping.yAxis);Array.from(new Set(x.map(e=>e[t]))).forEach(e=>{let a=x.filter(i=>i[t]===e),r=a.reduce((e,t)=>e+(Number(t[i])||0),0);r>0&&a.forEach(e=>{let t=Number(e[i])||0;e[i]=t/r*100})}),console.log("Converted values to percentages for CSV download")}else if(Array.isArray(e.dataMapping.yAxis)&&e.dataMapping.yAxis.length>1){let t="string"==typeof e.dataMapping.xAxis?e.dataMapping.xAxis:e.dataMapping.xAxis[0],i=e.dataMapping.yAxis.map(e=>"string"==typeof e?e:e.field);Array.from(new Set(x.map(e=>e[t]))).forEach(e=>{let a=x.filter(i=>i[t]===e),r=a.reduce((e,t)=>e+i.reduce((e,i)=>e+(Number(t[i])||0),0),0);r>0&&a.forEach(e=>{i.forEach(t=>{let i=Number(e[t])||0;e[t]=i/r*100})})}),console.log("Converted multi-field values to percentages for CSV download")}}if(x.length>0){let e=Object.keys(x[0]);m=e.map(e=>'"'.concat(e.replace(/"/g,'""'),'"')).join(",")+"\n",x.forEach(t=>{let i=e.map(e=>{let i=t[e];return null==i?"":"string"==typeof i?'"'.concat(i.replace(/"/g,'""'),'"'):"number"!=typeof i?'"'.concat(JSON.stringify(i).replace(/"/g,'""'),'"'):l&&r?"".concat(i.toFixed(2),"%"):i});m+=i.join(",")+"\n"})}}catch(e){console.error("Error parsing JSON response:",e)}let A=new Blob([m],{type:"text/csv"}),b=URL.createObjectURL(A),F=document.createElement("a");F.href=b;let v=new Date().toISOString().split("T")[0],w="percent"===n?"_percentage":"";F.download=s?"".concat(e.title.replace(/\s+/g,"_").toLowerCase()).concat(w,"_").concat(s,"_").concat(v,".csv"):"".concat(e.title.replace(/\s+/g,"_").toLowerCase()).concat(w,"_").concat(v,".csv"),document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(b)}catch(e){console.error("Error downloading CSV:",e),alert("Failed to download CSV. Please try again.")}finally{w(t=>({...t,[e.id]:!1}))}},D=(e,t)=>{let i=s.find(t=>t.id===e);if(!i||!t||0===t.length)return;console.log("Updating legends for chart:",{id:e,title:i.title,chartType:i.chartType,isStacked:i.isStacked,groupBy:i.dataMapping.groupBy,dataLength:t.length,sampleData:t.slice(0,2)});let a=E[e]||{},r=0===Object.keys(a).length,l=[],o=[],n="dual-axis"===i.chartType&&i.dualAxisConfig,c=i.chartType.includes("stacked")||!0===i.isStacked,p=!!i.dataMapping.groupBy,u=i.dataMapping.groupBy||"",g=t.length>0&&u&&void 0!==t[0][u];if(n&&i.dualAxisConfig){console.log("Processing as dual axis chart");let e=i.dualAxisConfig.leftAxisFields,n=i.dualAxisConfig.rightAxisFields,s=[...e,...n],c={};s.forEach(i=>{if(c[i]=t.reduce((e,t)=>e+(Number(t[i])||0),0),o.push(i),r&&!a[i]){let t=n.includes(i),r=t?n.indexOf(i):e.indexOf(i);a[i]=t?(0,d.Vy)(r+e.length):(0,d.Vy)(r)}}),l=s.map(e=>{n.includes(e);let t=e.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return{label:"".concat(t),color:a[e]||(0,d.Vy)(s.indexOf(e)),value:c[e]||0}})}else if(c&&p&&g){console.log("Processing as valid stacked chart with group by:",u);let e=Array.from(new Set(t.map(e=>e[u])));console.log("Unique groups found:",e),"string"==typeof i.dataMapping.yAxis?i.dataMapping.yAxis:Array.isArray(i.dataMapping.yAxis)?y(i.dataMapping.yAxis[0]):y(i.dataMapping.yAxis);let n={};e.forEach(e=>{if(null!=e){let a=String(e);o.push(a);let r="string"==typeof i.dataMapping.yAxis?i.dataMapping.yAxis:Array.isArray(i.dataMapping.yAxis)?y(i.dataMapping.yAxis[0]):y(i.dataMapping.yAxis);n[a]=t.filter(t=>t[u]===e).reduce((e,t)=>e+(Number(t[r])||0),0)}}),console.log("Group totals:",n),r&&Object.entries(n).sort((e,t)=>t[1]-e[1]).map(e=>{let[t]=e;return t}).forEach((e,t)=>{a[e]||(a[e]=(0,d.Vy)(t))}),l=e.filter(e=>null!=e).map(e=>{let t=String(e);return{label:t,color:a[t]||(0,d.Vy)(Object.keys(a).length),value:n[t]||0}})}else if("pie"===i.chartType){console.log("Processing as pie chart");let e="string"==typeof i.dataMapping.xAxis?i.dataMapping.xAxis:i.dataMapping.xAxis[0],n="string"==typeof i.dataMapping.yAxis?i.dataMapping.yAxis:Array.isArray(i.dataMapping.yAxis)?y(i.dataMapping.yAxis[0]):y(i.dataMapping.yAxis),s=t.filter(t=>null!==t[e]&&void 0!==t[e]).map((t,i)=>({label:String(t[e]),value:Number(t[n])||0,index:i}));s.sort((e,t)=>t.value-e.value),s.length>30&&(console.log("Limiting pie chart to top ".concat(30," segments (from ").concat(s.length," total)")),s=s.slice(0,30)),l=s.map((e,t)=>{let{label:i,value:l}=e;return o.push(i),r&&!a[i]&&(a[i]=(0,d.Vy)(t)),{label:i,color:a[i]||(0,d.Vy)(t),value:l}}),console.log("Generated ".concat(l.length," legend items for pie chart"))}else if("bar"===i.chartType||"line"===i.chartType){console.log("Processing as regular bar/line chart");let e="string"==typeof i.dataMapping.xAxis?i.dataMapping.xAxis:i.dataMapping.xAxis[0],n=[];if(n=Array.isArray(i.dataMapping.yAxis)?i.dataMapping.yAxis.map(e=>y(e)):[y(i.dataMapping.yAxis)],t.length>0&&(e.toLowerCase().includes("date")||e.toLowerCase().includes("time")||"string"==typeof t[0][e]&&t[0][e].match(/^\d{4}-\d{2}-\d{2}/)))if(Array.isArray(i.dataMapping.yAxis)&&i.dataMapping.yAxis.length>1)l=n.map((e,i)=>{let l=t.reduce((t,i)=>t+(Number(i[e])||0),0),n=e.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return o.push(n),!a[n]&&r&&(a[n]=(0,d.Vy)(i)),{label:n,color:a[n]||(0,d.Vy)(i),value:l}});else{let e=y(n[0]),i=t.reduce((t,i)=>t+(Number(i[e])||0),0),s=e.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");o.push(s),!a[s]&&r&&(a[s]=(0,d.Vy)(0)),l=[{label:s,color:a[s]||(0,d.Vy)(0),value:i}]}else l=t.map((t,i)=>{let l=String(t[e]);return o.push(l),!a[l]&&r&&(a[l]=(0,d.Vy)(i)),{label:l,color:a[l]||(0,d.Vy)(i),value:Number(t[n[0]])||0}})}if(console.log("Generated legend items:",l),r&&l.length>0){let t={};l.forEach((e,i)=>{t[e.label]=a[e.label]||(0,d.Vy)(i)}),T(i=>({...i,[e]:t})),console.log("Created new color map:",t)}else if(!r){let t=(M[e]||[]).map(e=>e.label),i=[...t.filter(e=>o.includes(e)),...o.filter(e=>!t.includes(e))];l.sort((e,t)=>i.indexOf(e.label)-i.indexOf(t.label))}O(t=>({...t,[e]:l}))},B=(0,r.useCallback)((e,t)=>{if(!t||0===Object.keys(t).length)return;let i=s.find(t=>t.id===e);console.log("Received colors for chart ".concat(e,":"),{chartType:null==i?void 0:i.chartType,colorMapSize:Object.keys(t).length,colorMap:t}),JSON.stringify(E[e]||{})!==JSON.stringify(t)&&T(i=>({...i,[e]:t}))},[E,s]);return((0,r.useEffect)(()=>{s.length>0&&m(s.map(e=>({...e,onFilterChange:t=>{var i,a,r,l,o,n,s;console.log("Filter changed from modal for chart ".concat(e.id,":"),t),j(i=>({...i,[e.id]:{...i[e.id],...t}})),P({...e,additionalOptions:{...e.additionalOptions,filters:{...null==(i=e.additionalOptions)?void 0:i.filters,timeFilter:(null==(r=e.additionalOptions)||null==(a=r.filters)?void 0:a.timeFilter)?{...e.additionalOptions.filters.timeFilter,activeValue:t.timeFilter||e.additionalOptions.filters.timeFilter.activeValue}:void 0,currencyFilter:(null==(o=e.additionalOptions)||null==(l=o.filters)?void 0:l.currencyFilter)?{...e.additionalOptions.filters.currencyFilter,activeValue:t.currencyFilter||e.additionalOptions.filters.currencyFilter.activeValue}:void 0,displayModeFilter:(null==(s=e.additionalOptions)||null==(n=s.filters)?void 0:n.displayModeFilter)?{...e.additionalOptions.filters.displayModeFilter,activeValue:t.displayMode||e.additionalOptions.filters.displayModeFilter.activeValue}:void 0}}})}})))},[s.length]),(0,r.useEffect)(()=>{Object.entries(V).forEach(e=>{let[t,i]=e;if(i&&i.length>0){let e=s.find(e=>e.id===t);e&&(console.log("Updating legends for ".concat(e.chartType," chart ").concat(t," with ").concat(i.length," data points")),D(t,i))}})},[V,s]),x&&0!==s.length)?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:s.map(e=>{var t,i,r,l,s,d,y,m,x,A;return(0,a.jsx)(o.A,{title:e.title,description:e.subtitle,accentColor:"blue",onExpandClick:()=>L(e.id),onDownloadClick:()=>U(e),isDownloading:v[e.id],isLoading:C[e.id],legendWidth:"1/5",filterBar:((null==(t=e.additionalOptions)?void 0:t.filters)||h(e))&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(null==(r=e.additionalOptions)||null==(i=r.filters)?void 0:i.timeFilter)&&(0,a.jsx)(c.A,{value:(null==(l=k[e.id])?void 0:l.timeFilter)||e.additionalOptions.filters.timeFilter.options[0],onChange:t=>_(e.id,"timeFilter",t),options:e.additionalOptions.filters.timeFilter.options.map(e=>({value:e,label:e}))}),(null==(d=e.additionalOptions)||null==(s=d.filters)?void 0:s.currencyFilter)&&(0,a.jsx)(p.A,{currency:(null==(y=k[e.id])?void 0:y.currencyFilter)||e.additionalOptions.filters.currencyFilter.options[0],options:e.additionalOptions.filters.currencyFilter.options,onChange:t=>_(e.id,"currencyFilter",t)}),(h(e)||(null==(x=e.additionalOptions)||null==(m=x.filters)?void 0:m.displayModeFilter))&&(0,a.jsx)(u.A,{mode:(null==(A=k[e.id])?void 0:A.displayMode)||"absolute",onChange:t=>_(e.id,"displayMode",t)})]}),legend:(0,a.jsx)(a.Fragment,{children:M[e.id]&&M[e.id].length>0?(0,a.jsx)("div",{className:"space-y-2 w-full overflow-y-auto max-h-[500px] [&::-webkit-scrollbar]:w-1.5  [&::-webkit-scrollbar-track]:bg-transparent  [&::-webkit-scrollbar-thumb]:bg-gray-700/40 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40",children:M[e.id].map(e=>(0,a.jsx)(n.A,{label:e.label,color:e.color,shape:"square",tooltipText:e.value?g(e.value):void 0},e.label))}):(0,a.jsx)(n.A,{label:"Loading...",color:"#cccccc",isLoading:!0})}),children:(0,a.jsx)("div",{className:"h-95",children:(0,a.jsx)(f,{chartConfig:e,onDataLoaded:t=>{V[e.id]||N(i=>({...i,[e.id]:t})),D(e.id,t),S(t=>({...t,[e.id]:!1}))},isExpanded:b[e.id],onCloseExpanded:()=>L(e.id),filterValues:k[e.id],onFilterChange:(t,i)=>_(e.id,t,i),colorMap:E[e.id],onColorsGenerated:t=>B(e.id,t),isLoading:C[e.id]})})},e.id)})}):null}},85204:(e,t,i)=>{i.d(t,{A:()=>r});var a=i(95155);i(12115);let r=e=>{let{mode:t,onChange:i,isCompact:r=!1}=e;return(0,a.jsxs)("div",{className:"flex items-center",children:[!r&&(0,a.jsx)("span",{className:"text-xs text-gray-400"}),(0,a.jsxs)("div",{className:"inline-flex bg-gray-800/40 rounded-md p-0 shadow-inner",children:[(0,a.jsx)("button",{className:"text-xs px-1.5 py-1 rounded ".concat("absolute"===t?"bg-gray-800 text-white shadow":"text-gray-400 hover:text-gray-300"),onClick:()=>i("absolute"),title:"Chart View",children:(0,a.jsxs)("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{x:"3",y:"3",width:"4",height:"18",rx:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"10",y:"8",width:"4",height:"13",rx:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"17",y:"5",width:"4",height:"16",rx:"1",fill:"currentColor"})]})}),(0,a.jsx)("button",{className:"text-xs px-1.5 py-0.5 rounded ".concat("percent"===t?"bg-gray-800 text-white shadow":"text-gray-400 hover:text-gray-300"),onClick:()=>i("percent"),title:"Percent View",children:"%"})]})]})}}}]);