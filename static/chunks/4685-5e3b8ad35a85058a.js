"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4685],{7545:(e,t,r)=>{r.d(t,{A:()=>n});var l=r(95155);r(12115);let n=e=>{let{onClick:t,children:r,className:n="",disabled:s=!1}=e;return(0,l.jsx)("button",{onClick:t,disabled:s,className:"\n        px-2 py-1 \n        bg-gray-800/20 hover:bg-gray-700/20 \n        text-gray-200/80 \n        rounded \n        text-xs leading-relaxed tracking-wide\n        transition-colors duration-200 \n        border border-gray-700/40 \n        flex items-center justify-center\n        disabled:opacity-50 disabled:pointer-events-none\n        ".concat(n,"\n      "),children:r})}},42028:(e,t,r)=>{r.d(t,{A:()=>f});var l=r(95155),n=r(12115),s=r(79111),a=r(41995),i=r(30832),o=r(4904),c=r(25156),d=r(13600),u=r(68029),h=r(76167),x=r(80426),m=r(20474),g=r(27840),b=r(38108);let f=e=>{let{data:t,isModal:r=!1,activeBrushDomain:f,onBrushChange:y,onClearBrush:p,getDate:v,getValue:w,getUniqueDates:k,lineColor:j,margin:N={top:5,right:25,bottom:10,left:45},curveType:A="monotoneX",strokeWidth:S,filterValues:C}=e,R=(0,n.useRef)(!0),M=(0,n.useRef)(null),E=(0,n.useRef)(null),z=(0,n.useRef)("brush-".concat(Math.random().toString(36).substring(2,9))),B=n.useMemo(()=>"".concat(z.current,"-").concat(t.length),[t.length]),L=(0,n.useRef)(C);(0,n.useEffect)(()=>{if(R.current){R.current=!1;return}C&&L.current&&Object.keys(C).some(e=>{var t;return C[e]!==(null==(t=L.current)?void 0:t[e])})&&(console.log("Filter changed, resetting brush to show full dataset"),p(),setTimeout(()=>{if(E.current){let e=E.current.querySelector(".visx-brush-selection"),t=E.current.querySelector(".visx-brush");if(e&&t){let r=t.getBoundingClientRect().width;e.setAttribute("width",String(r-4)),e.setAttribute("x","2"),console.log("Reset brush to width: ".concat(r-4,", x: 2"))}else console.log("Could not find brush elements within SVG")}else{console.log("Falling back to document-wide search");let e=document.querySelectorAll(".visx-brush-selection"),t=document.querySelectorAll(".visx-brush");if(e.length>0&&t.length>0){let r=e[0],l=t[0].getBoundingClientRect().width;r.setAttribute("width",String(l-4)),r.setAttribute("x","2"),console.log("Reset brush using fallback method: width: ".concat(l-4,", x: 2"))}else console.log("Could not find any brush elements in document")}},50)),L.current=C},[C,p]);let q=(0,n.useCallback)(e=>{if(null===e)return u.A;switch(e){case"monotoneX":default:return h.G;case"linear":return u.A;case"step":return x.Ay;case"basis":return m.Ay;case"cardinal":return g.Ay;case"catmullRom":return b.A}},[]),O=n.useMemo(()=>q(A),[A,q]);return 0===t.length?null:(0,l.jsx)("div",{className:"h-full w-full",children:(0,l.jsx)(s.A,{children:e=>{let{width:r,height:n}=e;if(r<=0||n<=0)return null;let s=r-N.left-N.right,u=n-N.top-N.bottom;if(s<=0||u<=0)return null;let h=k?k(t):[...new Set(t.map(e=>{let t=v(e);return"string"==typeof t?t:t.toISOString()}))],x=h.map(e=>new Date(e)),m=[new Date(Math.min(...x.map(e=>e.getTime()))),new Date(Math.max(...x.map(e=>e.getTime())))],g=(0,i.A)({domain:m,range:[0,s],nice:!0}),b=t.map(e=>{let t=w(e);return null==t||isNaN(t)?0:t});(0===b.length||0>=Math.max(...b))&&(b=[1]);let A=Math.max(...b),C=(0,o.A)({domain:[0,1.1*A],range:[u,0],nice:!0,round:!1}),R=(0,o.A)({domain:[0,h.length-1],range:[0,s]}),z=f?{start:{x:g(f[0])},end:{x:g(f[1])}}:{start:{x:0},end:{x:s}},L=k?h.map((e,r)=>{let l=t.find(t=>{let r=v(t);return"string"==typeof r?r===e:r.toISOString()===e});return{date:e,idx:r,value:l?w(l):0}}):t.map((e,t)=>{let r=w(e),l=null==r||isNaN(r)?0:r;return{date:"string"==typeof v(e)?v(e):v(e).toISOString(),idx:t,value:l}});return(0,l.jsx)("svg",{width:r,height:n,ref:E,children:(0,l.jsxs)(a.A,{left:N.left,top:N.top,children:[(0,l.jsx)("rect",{x:0,y:0,width:s,height:u,fill:"transparent"}),(0,l.jsx)(d.A,{data:L,x:e=>R(e.idx),y:e=>{let t=e.value;return null==t||isNaN(t)?C(0):C(t)},stroke:j||"#53a7fe",strokeOpacity:.3,strokeWidth:S||1.5,curve:O}),(0,l.jsx)(c.A,{ref:M,xScale:g,yScale:C,width:s,height:u,handleSize:8,resizeTriggerAreas:["left","right"],brushDirection:"horizontal",initialBrushPosition:z,onChange:e=>{e?window.requestAnimationFrame(()=>{y(e)}):p()},onClick:p,useWindowMoveEvents:!0,selectedBoxStyle:{fill:"rgba(96, 165, 250, 0.1)",stroke:"#374151",strokeWidth:.5,rx:4,ry:4}},B)]})})}})})}},52594:(e,t,r)=>{r.d(t,{A:()=>o,B:()=>i});var l=r(95155),n=r(12115),s=r(47650),a=r(51078);let i=e=>{let{title:t,items:r,maxHeight:n=600,maxItems:s=28}=e,a=r.length>s;return(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[t&&(0,l.jsx)("div",{className:"text-[10px] text-gray-400 mb-2 uppercase",children:t}),(0,l.jsx)("div",{style:{maxHeight:a?"".concat(n,"px"):"none"},className:"flex flex-col gap-3 pr-1 ".concat(a?"overflow-y-auto \n          [&::-webkit-scrollbar]:w-1.5 \n          [&::-webkit-scrollbar-track]:bg-transparent \n          [&::-webkit-scrollbar-thumb]:bg-gray-700/40\n          [&::-webkit-scrollbar-thumb]:rounded-full\n          [&::-webkit-scrollbar-thumb]:hover:bg-gray-600/60\n          scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-700/40":""),children:r.map(e=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"min-w-2 w-2 h-2 mr-1.5 rounded-sm mt-0 flex-shrink-0",style:{backgroundColor:e.color}}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{className:"text-[11px] text-gray-300 leading-none",children:e.label}),e.value&&(0,l.jsx)("span",{className:"text-[10px] text-gray-500",children:e.value})]})]},e.id))})]})},o=e=>{let{isOpen:t,onClose:r,children:i,title:o,subtitle:c,isLoading:d=!1}=e,u=(0,n.useRef)(null);return((0,n.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&r()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=""}},[t,r]),t)?s.createPortal((0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm modal-backdrop",children:(0,l.jsxs)("div",{ref:u,className:"relative bg-black/80 border border-gray-900 rounded-xl p-4 w-11/12 max-w-7xl flex flex-col shadow-xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-gray-900",children:[(0,l.jsxs)("div",{children:[o&&(0,l.jsx)("h2",{className:"text-[16px] font-medium text-gray-100",children:o}),c&&(0,l.jsx)("p",{className:"text-gray-500 text-[12px] tracking-wide mt-1",children:c})]}),(0,l.jsx)("button",{onClick:r,className:"bg-gray-800 hover:bg-gray-700 rounded-full p-1.5 text-gray-400 hover:text-white transition-colors","aria-label":"Close modal",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,l.jsxs)("div",{className:"flex-1 relative",children:[i,d&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-10 rounded-md",children:(0,l.jsx)(a.A,{size:"md"})})]})]})}),document.body):null}}}]);